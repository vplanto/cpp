# –õ–µ–∫—Ü—ñ—è 27: –ê—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ ‚Äî Map —Ç–∞ Set

[‚Üê –õ–µ–∫—Ü—ñ—è 26](26_tree_structures.md) | [Index](index.md)

## –ú–µ—Ç–∞

–ó—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –≤–ª–∞—à—Ç–æ–≤–∞–Ω—ñ **–∞—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏** –≤ C++ STL: `std::map`, `std::unordered_map`, `std::set`, `std::unordered_set`. –ù–∞–≤—á–∏—Ç–∏—Å—è –æ–±–∏—Ä–∞—Ç–∏ –º—ñ–∂ –Ω–∏–º–∏ –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∑–∞–¥–∞—á—ñ. –ó—Ä–æ–∑—É–º—ñ—Ç–∏ –∑–≤'—è–∑–æ–∫ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ –≤–∏–≤—á–µ–Ω–∏–º–∏ Red-Black Trees —Ç–∞ Hash Tables.

> **üìö –ú–∞—Ç–µ—Ä—ñ–∞–ª –ª–µ–∫—Ü—ñ—ó –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞:**  
> Maps.pdf ¬∑ Sets.pdf

## –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

1. –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –∑—ñ `std::vector` –∑–∞ –∫–ª—é—á–µ–º (–Ω–µ —ñ–Ω–¥–µ–∫—Å–æ–º)?
2. –Ø–∫—â–æ –¥–æ–¥–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç —É `std::set` –¥–≤—ñ—á—ñ ‚Äî —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è?
3. `std::map` —á–∏ `std::unordered_map` ‚Äî —è–∫–∏–π —à–≤–∏–¥—à–∏–π –¥–ª—è –ø–æ—à—É–∫—É? –ß–æ–º—É?

<details markdown="1">
<summary>–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

1. –ù—ñ—è–∫ ‚Äî –≤–µ–∫—Ç–æ—Ä —ñ–Ω–¥–µ–∫—Å–æ–≤–∞–Ω–∏–π —Ç—ñ–ª—å–∫–∏ —á–∏—Å–ª–∞–º–∏. –î–ª—è –∫–ª—é—á—ñ–≤ –ø–æ—Ç—Ä—ñ–±–µ–Ω `std::map` –∞–±–æ `std::unordered_map`.
2. **–ù—ñ—á–æ–≥–æ** ‚Äî `std::set` —ñ–≥–Ω–æ—Ä—É—î –¥—É–±–ª—ñ–∫–∞—Ç–∏. –†–æ–∑–º—ñ—Ä –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è.
3. `std::unordered_map` ‚Äî O(1) avg. `std::map` ‚Äî O(log n). –ê–ª–µ `unordered_map` –Ω–µ –≥–∞—Ä–∞–Ω—Ç—É—î –ø–æ—Ä—è–¥–æ–∫ —Ç–∞ –º–∞—î –≥—ñ—Ä—à–∏–π worst-case.

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: std::set ‚Äî –ú–Ω–æ–∂–∏–Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

### –©–æ —Ç–∞–∫–µ Set?

**–ú–Ω–æ–∂–∏–Ω–∞ (Set)** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î **—É–Ω—ñ–∫–∞–ª—å–Ω—ñ** –µ–ª–µ–º–µ–Ω—Ç–∏ —É **–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É** –ø–æ—Ä—è–¥–∫—É. –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –∞–Ω–∞–ª–æ–≥—ñ—è –∑ —Ç–µ–æ—Ä—ñ—ó –º–Ω–æ–∂–∏–Ω.

```
–ö–ª—é—á–æ–≤—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ std::set:
  ‚úì –£–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å:   –¥—É–±–ª—ñ–∫–∞—Ç–∏ —ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è
  ‚úì –í—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å: –µ–ª–µ–º–µ–Ω—Ç–∏ –∑–∞–≤–∂–¥–∏ —É –ø–æ—Ä—è–¥–∫—É (asc)
  ‚úì –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è:     Red-Black Tree (L26!)
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π:**

| –û–ø–µ—Ä–∞—Ü—ñ—è | –ß–∞—Å | –ü–æ—è—Å–Ω–µ–Ω–Ω—è |
|---------|-----|-----------|
| `insert(x)` | O(log n) | –ü–æ—à—É–∫ –º—ñ—Å—Ü—è –≤ RB-–¥–µ—Ä–µ–≤—ñ |
| `erase(x)` | O(log n) | –í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—É–∑–ª–∞ –∑ RB-–¥–µ—Ä–µ–≤–∞ |
| `find(x)` | O(log n) | –ë—ñ–Ω–∞—Ä–Ω–∏–π –ø–æ—à—É–∫ —É –¥–µ—Ä–µ–≤—ñ |
| `count(x)` | O(log n) | 0 –∞–±–æ 1 (—É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å) |
| `begin()/end()` | O(1) | –í–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –∫—Ä–∞–π–Ω—ñ–π –≤—É–∑–æ–ª |
| `size()` | O(1) | |

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∞ –æ—Å–Ω–æ–≤–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó

```cpp
#include <set>

std::set<int> s;

// –í—Å—Ç–∞–≤–∫–∞
s.insert(5);
s.insert(2);
s.insert(8);
s.insert(2);  // –Ü–≥–Ω–æ—Ä—É—î—Ç—å—Å—è ‚Äî –¥—É–±–ª—ñ–∫–∞—Ç!
s.insert(1);

// –°—Ç–∞–Ω: {1, 2, 5, 8} ‚Äî –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!

// –ü–æ—à—É–∫
auto it = s.find(5);
if (it != s.end()) {
    std::cout << "–ó–Ω–∞–π–¥–µ–Ω–æ: " << *it; // 5
}

// count() ‚Äî –∑—Ä—É—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
if (s.count(3) == 0) {
    std::cout << "3 –≤—ñ–¥—Å—É—Ç–Ω—ñ–π";
}

// –í–∏–¥–∞–ª–µ–Ω–Ω—è
s.erase(2);  // {1, 5, 8}

// –û–±—Ö—ñ–¥ (–∑–∞–≤–∂–¥–∏ –≤ –ø–æ—Ä—è–¥–∫—É!)
for (int x : s) {
    std::cout << x << " "; // 1 5 8
}

// –†–æ–∑–º—ñ—Ä
std::cout << s.size(); // 3
```

### Range queries (–¥—ñ–∞–ø–∞–∑–æ–Ω–Ω–∏–π –ø–æ—à—É–∫)

`std::set` –∑–∞–≤–¥—è–∫–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—é –ø—ñ–¥—Ç—Ä–∏–º—É—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –ø–æ—à—É–∫ —É –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ:

```cpp
std::set<int> s = {1, 3, 5, 7, 9, 11, 13};

// lower_bound(x) ‚Äî –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç >= x
auto lo = s.lower_bound(5);  // –≤–∫–∞–∑—É—î –Ω–∞ 5

// upper_bound(x) ‚Äî –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç > x
auto hi = s.upper_bound(9);  // –≤–∫–∞–∑—É—î –Ω–∞ 11

// –ï–ª–µ–º–µ–Ω—Ç–∏ –≤ –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ [5, 9]:
for (auto it = lo; it != hi; ++it) {
    std::cout << *it << " "; // 5 7 9
}
```

### –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ std::set?

- ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ—Å—Ç—å**
- ‚úÖ –ü–æ—Ç—Ä—ñ–±–Ω—ñ **range-based queries** (–∑–Ω–∞–π—Ç–∏ –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤—ñ–¥ A –¥–æ B)
- ‚úÖ **–î–µ–¥—É–ø–ª—ñ–∫–∞—Ü—ñ—è** (–≤–∏–¥–∞–ª–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤ –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó)
- ‚ùå –ù–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ—Å—Ç—É–ø –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: std::unordered_set ‚Äî –•–µ—à-—Ç–∞–±–ª–∏—Ü—è

### –©–æ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ?

`std::unordered_set` –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –Ω–∞ **—Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ** –∑–∞–º—ñ—Å—Ç—å –¥–µ—Ä–µ–≤–∞. –í—ñ–¥—Å—É—Ç–Ω—ñ–π –ø–æ—Ä—è–¥–æ–∫, –∑–∞—Ç–µ O(1) —É —Å–µ—Ä–µ–¥–Ω—å–æ–º—É.

```
–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è std::set vs std::unordered_set:

std::set (RB-Tree):
  {1, 2, 5, 8} ‚Üí –∑–∞–≤–∂–¥–∏ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ
  insert/find: O(log n)

std::unordered_set (Hash Table):
  {8, 1, 5, 2} ‚Üí –ø–æ—Ä—è–¥–æ–∫ –¥–æ–≤—ñ–ª—å–Ω–∏–π (–∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ö–µ—à—É)
  insert/find: O(1) average, O(n) worst case
```

```cpp
#include <unordered_set>

std::unordered_set<std::string> us;

us.insert("apple");
us.insert("banana");
us.insert("cherry");
us.insert("apple");   // –¥—É–±–ª—ñ–∫–∞—Ç, —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è

std::cout << us.count("banana"); // 1 (—î)
std::cout << us.count("mango");  // 0 (–Ω–µ–º–∞—î)

us.erase("banana");

// –í–ê–ñ–õ–ò–í–û: –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥—É –ù–ï –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π!
for (const auto& s : us) {
    std::cout << s << " "; // –º–æ–∂–µ –±—É—Ç–∏ –±—É–¥—å-—è–∫–∏–π –ø–æ—Ä—è–¥–æ–∫
}
```

### –ö–æ–ª–∏ —â–æ –æ–±–∏—Ä–∞—Ç–∏?

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | `std::set` | `std::unordered_set` |
|---------|-----------|---------------------|
| **–ü–æ—Ä—è–¥–æ–∫** | –í—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π | –ù–µ–º–∞—î |
| **–ü–æ—à—É–∫** | O(log n) | O(1) avg |
| **Range queries** | ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î | ‚ùå –ù—ñ |
| **Worst-case** | O(log n) –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ | O(n) –ø—Ä–∏ –∫–æ–ª—ñ–∑—ñ—è—Ö |
| **–ü–∞–º'—è—Ç—å** | –ú–µ–Ω—à–µ | –ë—ñ–ª—å—à–µ (load factor) |
| **–ö–æ–ª–∏** | –ü–æ—Ç—Ä—ñ–±–µ–Ω –ø–æ—Ä—è–¥–æ–∫ –∞–±–æ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ | –¢—ñ–ª—å–∫–∏ –ø–æ—à—É–∫/–≤—Å—Ç–∞–≤–∫–∞ |

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: std::map ‚Äî –°–ª–æ–≤–Ω–∏–∫ (–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–Ω—è)

### –©–æ —Ç–∞–∫–µ Map?

**Map (–ê—Å–æ—Ü—ñ–∞—Ç–∏–≤–Ω–∏–π –º–∞—Å–∏–≤ / –°–ª–æ–≤–Ω–∏–∫)** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î –ø–∞—Ä–∏ **–∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–Ω—è**. –ö–æ–∂–µ–Ω –∫–ª—é—á —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π. –ö–ª—é—á—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É **–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É** –ø–æ—Ä—è–¥–∫—É.

```
std::map ‚Äî —Ü–µ std::set, –∞–ª–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –º–∞—î "–ø—Ä–∏–∫—Ä—ñ–ø–ª–µ–Ω–µ" –∑–Ω–∞—á–µ–Ω–Ω—è.

–ö–æ–ª–µ–∫—Ü—ñ—è: { "Alice" ‚Üí 95, "Bob" ‚Üí 87, "Charlie" ‚Üí 92 }
–ö–ª—é—á: std::string (—ñ–º'—è)
–ó–Ω–∞—á–µ–Ω–Ω—è: int (–æ—Ü—ñ–Ω–∫–∞)
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** –Ü–¥–µ–Ω—Ç–∏—á–Ω–∞ `std::set` ‚Äî O(log n) –¥–ª—è –ø–æ—à—É–∫—É/–≤—Å—Ç–∞–≤–∫–∏/–≤–∏–¥–∞–ª–µ–Ω–Ω—è.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∞ –∫–ª—é—á–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó

```cpp
#include <map>

std::map<std::string, int> scores;

// –í—Å—Ç–∞–≤–∫–∞ ‚Äî 3 —Å–ø–æ—Å–æ–±–∏:
scores["Alice"] = 95;                         // 1. operator[] (–≤—Å—Ç–∞–≤–ª—è—î —è–∫—â–æ –Ω–µ–º–∞—î!)
scores.insert({"Bob", 87});                   // 2. insert –∑ pair
scores.emplace("Charlie", 92);                // 3. emplace (–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–µ)

// –£–í–ê–ì–ê: operator[] - –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π –ø—Ä–∏ —á–∏—Ç–∞–Ω–Ω—ñ!
// –Ø–∫—â–æ –∫–ª—é—á –≤—ñ–¥—Å—É—Ç–Ω—ñ–π ‚Äî –≤—ñ–Ω –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –î–û–î–ê–Ñ–¢–¨–°–Ø –∑ value = 0
auto val = scores["Dave"];  // –¢–µ–ø–µ—Ä Dave —î –≤ map –∑ –æ—Ü—ñ–Ω–∫–æ—é 0!
std::cout << scores.size(); // 4, –Ω–µ 3!

// –ë–µ–∑–ø–µ—á–Ω–∏–π –ø–æ—à—É–∫:
auto it = scores.find("Alice");
if (it != scores.end()) {
    std::cout << it->first << ": " << it->second; // Alice: 95
}

// –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ (–±–µ–∑ –≤—Å—Ç–∞–≤–∫–∏!):
if (scores.count("Bob") > 0) {
    std::cout << "Bob exists";
}

// –í–∏–¥–∞–ª–µ–Ω–Ω—è
scores.erase("Dave"); // –≤–∏–¥–∞–ª—è—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ –¥–æ–¥–∞–Ω–∏–π

// –û–±—Ö—ñ–¥ (–∫–ª—é—á—ñ –∑–∞–≤–∂–¥–∏ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ!)
for (const auto& [name, score] : scores) {  // C++17 structured binding
    std::cout << name << " ‚Üí " << score << "\n";
    // Alice ‚Üí 95
    // Bob ‚Üí 87
    // Charlie ‚Üí 92
}
```

> [!WARNING]
> **–ö–ª–∞—Å–∏—á–Ω–∞ –ø–∞—Å—Ç–∫–∞:** `map["key"]` –ø—Ä–∏ **—á–∏—Ç–∞–Ω–Ω—ñ** –Ω–µ–≤—ñ–¥–æ–º–æ–≥–æ –∫–ª—é—á–∞ **–≤—Å—Ç–∞–≤–ª—è—î** –π–æ–≥–æ –∑ –Ω—É–ª—å–æ–≤–∏–º –∑–Ω–∞—á–µ–Ω–Ω—è–º! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `find()` –∞–±–æ `count()` –¥–ª—è –±–µ–∑–ø–µ—á–Ω–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.

### –ü—Ä–∞–∫—Ç–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥: –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ —á–∞—Å—Ç–æ—Ç–∏ —Å–ª—ñ–≤

```cpp
#include <map>
#include <string>
#include <sstream>

std::map<std::string, int> wordCount(const std::string& text) {
    std::map<std::string, int> freq;
    std::istringstream iss(text);
    std::string word;
    
    while (iss >> word) {
        freq[word]++;  // —è–∫—â–æ —Å–ª–æ–≤–∞ –Ω–µ–º–∞ ‚Äî —Å—Ç–≤–æ—Ä—é—î –∑ 0, –ø–æ—Ç—ñ–º +1
    }
    return freq;
}

auto freq = wordCount("the cat sat on the mat the cat");
// { "cat":2, "mat":1, "on":1, "sat":1, "the":3 } ‚Äî –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ!

for (auto& [word, count] : freq) {
    std::cout << word << ": " << count << "\n";
}
```

---

## –ß–∞—Å—Ç–∏–Ω–∞ 4: std::unordered_map ‚Äî –•–µ—à-Map

### –†—ñ–∑–Ω–∏—Ü—è –∑ std::map

`std::unordered_map` ‚Äî —Ü–µ `std::map` –∑ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ—é –∑–∞–º—ñ—Å—Ç—å RB-–¥–µ—Ä–µ–≤–∞.

```cpp
#include <unordered_map>

std::unordered_map<std::string, int> phoneBook;

phoneBook["Alice"] = 380501234567;
phoneBook["Bob"]   = 380671234567;

// –ü–æ—à—É–∫ ‚Äî O(1) —Å–µ—Ä–µ–¥–Ω—å–æ–º—É!
if (phoneBook.count("Alice")) {
    std::cout << phoneBook["Alice"]; // 380501234567
}

// –û–±—Ö—ñ–¥ ‚Äî –ø–æ—Ä—è–¥–æ–∫ –ù–ï –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π:
for (auto& [name, phone] : phoneBook) {
    std::cout << name << ": " << phone << "\n";
    // –ú–æ–∂–µ –±—É—Ç–∏ Bob –ø–µ—Ä–µ–¥ Alice!
}
```

### –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –≤—Å—ñ—Ö 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –£–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å | –ü–æ—Ä—è–¥–æ–∫ | –ü–æ—à—É–∫ | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ |
|-----------|-------------|---------|-------|-----------|
| `std::set` | ‚úÖ –∫–ª—é—á—ñ–≤ | ‚úÖ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π | O(log n) | RB-Tree |
| `std::unordered_set` | ‚úÖ –∫–ª—é—á—ñ–≤ | ‚ùå | O(1) avg | Hash Table |
| `std::map` | ‚úÖ –∫–ª—é—á—ñ–≤ | ‚úÖ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –∑–∞ –∫–ª—é—á–µ–º | O(log n) | RB-Tree |
| `std::unordered_map` | ‚úÖ –∫–ª—é—á—ñ–≤ | ‚ùå | O(1) avg | Hash Table |

---

## –ß–∞—Å—Ç–∏–Ω–∞ 5: –í–∏–±—ñ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ ‚Äî –î–µ—Ä–µ–≤–æ —Ä—ñ—à–µ–Ω—å

```
–ü–æ—Ç—Ä—ñ–±–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –ø–∞—Ä (–∫–ª—é—á, –∑–Ω–∞—á–µ–Ω–Ω—è)?
‚îÇ
‚îú‚îÄ‚îÄ –ù–Ü  ‚Üí –ü–æ—Ç—Ä—ñ–±–Ω–∞ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å?
‚îÇ         ‚îú‚îÄ‚îÄ –ù–Ü  ‚Üí std::vector –∞–±–æ std::list
‚îÇ         ‚îî‚îÄ‚îÄ –¢–ê–ö ‚Üí –ü–æ—Ç—Ä—ñ–±–µ–Ω –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫?
‚îÇ                   ‚îú‚îÄ‚îÄ –¢–ê–ö ‚Üí std::set
‚îÇ                   ‚îî‚îÄ‚îÄ –ù–Ü  ‚Üí std::unordered_set  (—à–≤–∏–¥—à–∏–π)
‚îÇ
‚îî‚îÄ‚îÄ –¢–ê–ö ‚Üí –ü–æ—Ç—Ä—ñ–±–µ–Ω –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –∞–±–æ range queries?
          ‚îú‚îÄ‚îÄ –¢–ê–ö ‚Üí std::map
          ‚îî‚îÄ‚îÄ –ù–Ü  ‚Üí std::unordered_map  (—à–≤–∏–¥—à–∏–π)
```

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

**–ü—Ä–∞–∫—Ç–∏–∫—É–º 14:** [Search Engine ‚Äî –Ü–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ñ–∞–π–ª—ñ–≤ (Hash Maps)](p14_search_engine.md) ‚Äî –ø–æ–±—É–¥–æ–≤–∞ –ø–æ—à—É–∫–æ–≤–æ–≥–æ —ñ–Ω–¥–µ–∫—Å—É `word ‚Üí {files}` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `std::unordered_map`.

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. –ß–æ–º—É `scores["Dave"]` —É `std::map` –¥–æ–¥–∞—î –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å, –∞ `scores.find("Dave")` ‚Äî –Ω—ñ?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

`operator[]` ‚Äî —Ü–µ "–¥–æ—Å—Ç—É–ø –∞–±–æ –≤—Å—Ç–∞–≤–∫–∞". –Ø–∫—â–æ –∫–ª—é—á –≤—ñ–¥—Å—É—Ç–Ω—ñ–π, –≤—ñ–Ω –∫–æ–Ω—Å—Ç—Ä—É—é—î –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑ default value (0 –¥–ª—è int). `find()` –ª–∏—à–µ —à—É–∫–∞—î —ñ –ø–æ–≤–µ—Ä—Ç–∞—î `end()` —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ, –±–µ–∑ –∂–æ–¥–Ω–æ—ó –≤—Å—Ç–∞–≤–∫–∏.

</details>

2. –ù–∞–≤—ñ—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `std::set` –∑–∞–º—ñ—Å—Ç—å `std::unordered_set`, —è–∫—â–æ —É –¥—Ä—É–≥–æ–≥–æ –∫—Ä–∞—â–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

`std::set` –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –∫–æ–ª–∏: –ø–æ—Ç—Ä—ñ–±–µ–Ω **–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–≤–µ—Å—Ç–∏ –≤ –∞–ª—Ñ–∞–≤—ñ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É), –ø–æ—Ç—Ä—ñ–±–Ω—ñ **range queries** (`lower_bound`, `upper_bound`), –∞–±–æ –ø–æ—Ç—Ä—ñ–±–Ω–∞ **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∞** O(log n) (–±–µ–∑ worst-case O(n) –ø—Ä–∏ —Ö–µ—à-–∫–æ–ª—ñ–∑—ñ—è—Ö).

</details>

3. –Ø–∫ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∑–Ω–∞–π—Ç–∏ 5 –Ω–∞–π–ø–æ–ø—É–ª—è—Ä–Ω—ñ—à–∏—Ö —Å–ª—ñ–≤ —É —Ç–µ–∫—Å—Ç—ñ?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

1. –ü—ñ–¥—Ä–∞—Ö—É—î–º–æ —á–∞—Å—Ç–æ—Ç—É —á–µ—Ä–µ–∑ `std::unordered_map<string, int>` ‚Äî O(n)
2. –ó–∞–≤–∞–Ω—Ç–∞–∂–∏–º–æ –ø–∞—Ä–∏ (count, word) –≤ `std::priority_queue` —Ä–æ–∑–º—ñ—Ä–æ–º 5 ‚Äî O(n log 5) = O(n)
3. –í–∏—Ç—è–≥–Ω–µ–º–æ top-5 –∑ —á–µ—Ä–≥–∏ ‚Äî O(5 log 5) = O(1)

–ó–∞–≥–∞–ª—å–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: O(n), –Ω–∞–±–∞–≥–∞—Ç–æ –∫—Ä–∞—â–µ –Ω—ñ–∂ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è O(n log n).

</details>
