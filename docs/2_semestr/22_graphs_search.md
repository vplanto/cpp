# –õ–µ–∫—Ü—ñ—è 22: –ì—Ä–∞—Ñ–∏ —Ç–∞ –ê–ª–≥–æ—Ä–∏—Ç–º–∏ –ø–æ—à—É–∫—É ‚Äî BFS, DFS, Binary Search

[‚Üê –õ–µ–∫—Ü—ñ—è 21](21_sorting_algorithms.md) | [Index](index.md) | [–î–∞–ª—ñ: –õ–µ–∫—Ü—ñ—è 23 ‚Üí](23_optimization_dp.md)

## –ú–µ—Ç–∞

–ù–∞–≤—á–∏—Ç–∏—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç–∏

 –≥—Ä–∞—Ñ–∏ —É –ø–∞–º'—è—Ç—ñ (Matrix vs List). –ó—Ä–æ–∑—É–º—ñ—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –ø–æ—à—É–∫–æ–º —É —à–∏—Ä–∏–Ω—É (BFS) —Ç–∞ –ø–æ—à—É–∫–æ–º —É –≥–ª–∏–±–∏–Ω—É (DFS). –ù–∞–≤—á–∏—Ç–∏—Å—è —à—É–∫–∞—Ç–∏ —É –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –º–∞—Å–∏–≤–∞—Ö –∑–∞ O(log N).

> **üìö –ú–∞—Ç–µ—Ä—ñ–∞–ª –ª–µ–∫—Ü—ñ—ó –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞:**  
> Using the trees.pdf (–¥–µ—Ä–µ–≤–∞ —Ç–∞ —ó—Ö –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è) —Ç–∞ s02e06. Introduction to Algorithms.pdf

![Graph Traversal ‚Äî BFS vs DFS](attachments/using_trees-001.jpg)

*–†–∏—Å. 1: –û–±—Ö—ñ–¥ –≥—Ä–∞—Ñ–∞ ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è BFS (–ø–æ—à—É–∫ —É —à–∏—Ä–∏–Ω—É) —Ç–∞ DFS (–ø–æ—à—É–∫ —É –≥–ª–∏–±–∏–Ω—É)*

## –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

1. –Ø–∫ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —Å–æ—Ü—ñ–∞–ª—å–Ω—É –º–µ—Ä–µ–∂—É (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ç–∞ —ó—Ö –¥—Ä—É–∂–Ω—ñ –∑–≤'—è–∑–∫–∏) —É –ø–∞–º'—è—Ç—ñ?
2. –ß–∏ –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç —É –Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É –º–∞—Å–∏–≤—ñ —à–≤–∏–¥—à–µ, –Ω—ñ–∂ –∑–∞ O(N)?
3. –Ø–∫–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ BFS —ñ DFS —É –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ –ø–æ—à—É–∫—É –≤–∏—Ö–æ–¥—É –∑ –ª–∞–±—ñ—Ä–∏–Ω—Ç—É?

<details markdown="1">
<summary>–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

1. **–ì—Ä–∞—Ñ:** –í–µ—Ä—à–∏–Ω–∏ = –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ, —Ä–µ–±—Ä–∞ = –¥—Ä—É–∂–Ω—ñ –∑–≤'—è–∑–∫–∏. –ú–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —è–∫ **Adjacency List** (`std::unordered_map<int, std::vector<int>>`) ‚Äî –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑—ñ–≤.
2. **–ù—ñ.** –ë–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó (—ñ–Ω–¥–µ–∫—Å, —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è) –Ω–∞–π–∫—Ä–∞—â–∏–π —á–∞—Å ‚Äî O(N) (linear search). –ê–ª–µ —è–∫—â–æ –º–∞—Å–∏–≤ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π, –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ Binary Search ‚Äî O(log N).
3. **BFS** –∑–Ω–∞–π–¥–µ **–Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö** (–º—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫—Ä–æ–∫—ñ–≤). **DFS** –ø—Ä–æ—Å—Ç–æ –∑–Ω–∞–π–¥–µ **–±—É–¥—å-—è–∫–∏–π —à–ª—è—Ö**, –∞–ª–µ –º–æ–∂–µ –ø—ñ—Ç–∏ –≤ –≥–ª—É—Ö–∏–π –∫—É—Ç —ñ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è.

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: Binary Search ‚Äî O(log N) –¥–ª—è –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –º–∞—Å–∏–≤—ñ–≤

–Ø–∫—â–æ –≤–∏ —à—É–∫–∞—î—Ç–µ —á–∏—Å–ª–æ —É **–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–æ–º—É** –º–∞—Å–∏–≤—ñ, –Ω–µ —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç.

### –Ü–¥–µ—è

1. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ **—Å–µ—Ä–µ–¥–Ω—ñ–π** –µ–ª–µ–º–µ–Ω—Ç.
2. –Ø–∫—â–æ –≤—ñ–Ω –º–µ–Ω—à–∏–π –∑–∞ —à—É–∫–∞–Ω–µ ‚Äî –≤—ñ–¥–∫–∏–Ω—å—Ç–µ –ª—ñ–≤—É –ø–æ–ª–æ–≤–∏–Ω—É.
3. –Ø–∫—â–æ –±—ñ–ª—å—à–∏–π ‚Äî –≤—ñ–¥–∫–∏–Ω—å—Ç–µ –ø—Ä–∞–≤—É.
4. –ü–æ–≤—Ç–æ—Ä—é–π—Ç–µ, –ø–æ–∫–∏ –Ω–µ –∑–Ω–∞–π–¥–µ—Ç–µ –∞–±–æ –ø–æ–∫–∏ –º–∞—Å–∏–≤ –Ω–µ –∑–Ω–∏–∫–Ω–µ.

```cpp
#include <vector>

// –ü–æ–≤–µ—Ä—Ç–∞—î —ñ–Ω–¥–µ–∫—Å –µ–ª–µ–º–µ–Ω—Ç–∞ –∞–±–æ -1, —è–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ
int binarySearch(const std::vector<int>& arr, int target) {
    int left = 0;
    int right = arr.size() - 1;
    
    while (left <= right) {
        int mid = left + (right - left) / 2; // –£–Ω–∏–∫–∞—î–º–æ –ø–µ—Ä–µ–ø–æ–≤–Ω–µ–Ω–Ω—è
        
        if (arr[mid] == target) {
            return mid; // –ó–Ω–∞–π—à–ª–∏!
        }
        
        if (arr[mid] < target) {
            left = mid + 1; // –®—É–∫–∞—î–º–æ –ø—Ä–∞–≤–æ—Ä—É—á
        } else {
            right = mid - 1; // –®—É–∫–∞—î–º–æ –ª—ñ–≤–æ—Ä—É—á
        }
    }
    
    return -1; // –ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ
}
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(log N) ‚Äî –∫–æ–∂–Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–∫–∏–¥–∞—î –ø–æ–ª–æ–≤–∏–Ω—É –º–∞—Å–∏–≤—É.

**–ü—Ä–∏–∫–ª–∞–¥:** –£ –º–∞—Å–∏–≤—ñ –∑ 1,000,000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ Binary Search –ø–æ—Ç—Ä–µ–±—É—î –º–∞–∫—Å–∏–º—É–º **20 –ø–æ—Ä—ñ–≤–Ω—è–Ω—å** (log‚ÇÇ(1,000,000) ‚âà 20).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: –ì—Ä–∞—Ñ–∏ ‚Äî —â–æ —Ü–µ —ñ –Ω–∞–≤—ñ—â–æ

**–ì—Ä–∞—Ñ** ‚Äî —Ü–µ –Ω–∞–±—ñ—Ä –≤–µ—Ä—à–∏–Ω (Vertices) —ñ —Ä–µ–±–µ—Ä (Edges), —â–æ —ó—Ö –∑'—î–¥–Ω—É—é—Ç—å.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–≤—ñ—Ç—É

- **–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ:** –õ—é–¥–∏ = –≤–µ—Ä—à–∏–Ω–∏, –¥—Ä—É–∂–±–∞ = —Ä–µ–±—Ä–∞.
- **–ö–∞—Ä—Ç–∏:** –ú—ñ—Å—Ç–∞ = –≤–µ—Ä—à–∏–Ω–∏, –¥–æ—Ä–æ–≥–∏ = —Ä–µ–±—Ä–∞.
- **–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç:** –í–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫–∏ = –≤–µ—Ä—à–∏–Ω–∏, –ø–æ—Å–∏–ª–∞–Ω–Ω—è = —Ä–µ–±—Ä–∞.
- **–î–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏:** –ü–∞–ø–∫–∏ = –≤–µ—Ä—à–∏–Ω–∏, –≤–∫–ª–∞–¥–µ–Ω—ñ—Å—Ç—å = —Ä–µ–±—Ä–∞.

### –¢–∏–ø–∏ –≥—Ä–∞—Ñ—ñ–≤

- **–û—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π (Directed):** –†–µ–±—Ä–∞ –º–∞—é—Ç—å –Ω–∞–ø—Ä—è–º–æ–∫ (Twitter: –ø—ñ–¥–ø–∏—Å–∫–∞ –Ω–µ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∞).
- **–ù–µ–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π (Undirected):** –†–µ–±—Ä–∞ –¥–≤–æ—Å—Ç–æ—Ä–æ–Ω–Ω—ñ (Facebook: –¥—Ä—É–∂–±–∞ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∞).
- **–ó–≤–∞–∂–µ–Ω–∏–π (Weighted):** –öÔøΩÔøΩ–∂–Ω–µ —Ä–µ–±—Ä–æ –º–∞—î –≤–∞–≥—É (–≤—ñ–¥—Å—Ç–∞–Ω—å –º—ñ–∂ –º—ñ—Å—Ç–∞–º–∏).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–≤ —É –ø–∞–º'—è—Ç—ñ

### –í–∞—Ä—ñ–∞–Ω—Ç 1: Adjacency Matrix (–ú–∞—Ç—Ä–∏—Ü—è —Å—É–º—ñ–∂–Ω–æ—Å—Ç—ñ)

2D –º–∞—Å–∏–≤: `matrix[i][j] = 1`, —è–∫—â–æ —î —Ä–µ–±—Ä–æ –º—ñ–∂ –≤–µ—Ä—à–∏–Ω–æ—é `i` —Ç–∞ `j`.

```cpp
// –ì—Ä–∞—Ñ –∑ 4 –≤–µ—Ä—à–∏–Ω
int graph[4][4] = {
    {0, 1, 1, 0}, // –í–µ—Ä—à–∏–Ω–∞ 0 –∑'—î–¥–Ω–∞–Ω–∞ –∑ 1 —Ç–∞ 2
    {1, 0, 0, 1}, // –í–µ—Ä—à–∏–Ω–∞ 1 –∑'—î–¥–Ω–∞–Ω–∞ –∑ 0 —Ç–∞ 3
    {1, 0, 0, 1}, // –í–µ—Ä—à–∏–Ω–∞ 2 –∑'—î–¥–Ω–∞–Ω–∞ –∑ 0 —Ç–∞ 3
    {0, 1, 1, 0}  // –í–µ—Ä—à–∏–Ω–∞ 3 –∑'—î–¥–Ω–∞–Ω–∞ –∑ 1 —Ç–∞ 2
};
```

**–ü–ª—é—Å–∏:**
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ —Ä–µ–±—Ä–∞: O(1) ‚Äî `matrix[i][j]`.

**–ú—ñ–Ω—É—Å–∏:**
- –ü–∞–º'—è—Ç—å: O(V^2) ‚Äî –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ —Ä–µ–±–µ—Ä –º–∞–ª–æ (—Ä–æ–∑—Ä—ñ–¥–∂–µ–Ω–∏–π –≥—Ä–∞—Ñ).
- –ü–µ—Ä–µ–±—ñ—Ä —Å—É—Å—ñ–¥—ñ–≤: O(V) ‚Äî —Ç—Ä–µ–±–∞ –ø—Ä–æ–π—Ç–∏ –≤–µ—Å—å —Ä—è–¥–æ–∫.

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Adjacency List (–°–ø–∏—Å–æ–∫ —Å—É–º—ñ–∂–Ω–æ—Å—Ç—ñ)

–î–ª—è –∫–æ–∂–Ω–æ—ó –≤–µ—Ä—à–∏–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Å–ø–∏—Å–æ–∫ —Å—É—Å—ñ–¥—ñ–≤.

```cpp
#include <vector>
#include <unordered_map>

// –ì—Ä–∞—Ñ —è–∫ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—è: –≤–µ—Ä—à–∏–Ω–∞ -> —Å–ø–∏—Å–æ–∫ —Å—É—Å—ñ–¥—ñ–≤
std::unordered_map<int, std::vector<int>> graph;

graph[0] = {1, 2};
graph[1] = {0, 3};
graph[2] = {0, 3};
graph[3] = {1, 2};
```

**–ü–ª—é—Å–∏:**
- –ü–∞–º'—è—Ç—å: O(V + E) ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ —ñ—Å–Ω—É—é—á—ñ —Ä–µ–±—Ä–∞.
- –ü–µ—Ä–µ–±—ñ—Ä —Å—É—Å—ñ–¥—ñ–≤: O(deg(v)) ‚Äî –ø—Ä–æ—Ö–æ–¥–∏–º–æ —Ç—ñ–ª—å–∫–∏ —Ä–µ–∞–ª—å–Ω—ñ –∑–≤'—è–∑–∫–∏.

**–ú—ñ–Ω—É—Å–∏:**
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–±—Ä–∞: O(deg(v)) ‚Äî —Ç—Ä–µ–±–∞ —à—É–∫–∞—Ç–∏ —É —Å–ø–∏—Å–∫—É.

**–í–∏—Å–Ω–æ–≤–æ–∫:** –î–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∑–∞–¥–∞—á (—Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ, –∫–∞—Ä—Ç–∏) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å **Adjacency List**.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 4: BFS (Breadth-First Search) ‚Äî –ø–æ—à—É–∫ —É —à–∏—Ä–∏–Ω—É

–ê–ª–≥–æ—Ä–∏—Ç–º –¥–æ—Å–ª—ñ–¥–∂—É—î –≥—Ä–∞—Ñ **—Ä—ñ–≤–Ω—è–º–∏** (—è–∫ —Ö–≤–∏–ª—ñ –Ω–∞ –≤–æ–¥—ñ).

### –Ü–¥–µ—è

1. –ü–æ—á–Ω—ñ—Ç—å –∑ –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó –≤–µ—Ä—à–∏–Ω–∏.
2. –î–æ–¥–∞–π—Ç–µ —ó—ó –¥–æ —á–µ—Ä–≥–∏ (Queue).
3. –ü–æ–∫–∏ —á–µ—Ä–≥–∞ –Ω–µ –ø–æ—Ä–æ–∂–Ω—è:
   - –í–∏—Ç—è–≥–Ω—ñ—Ç—å –≤–µ—Ä—à–∏–Ω—É –∑ —á–µ—Ä–≥–∏.
   - –û–±—Ä–æ–±—ñ—Ç—å —ó—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞–¥—Ä—É–∫—É–π—Ç–µ).
   - –î–æ–¥–∞–π—Ç–µ –≤—Å—ñ—Ö –Ω–µ–∑–∞–π–º–∞–Ω–∏—Ö —Å—É—Å—ñ–¥—ñ–≤ –¥–æ —á–µ—Ä–≥–∏.

```cpp
#include <queue>
#include <unordered_set>

void BFS(const std::unordered_map<int, std::vector<int>>& graph, int start) {
    std::queue<int> q;
    std::unordered_set<int> visited; // –©–æ–± –Ω–µ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—Ç–∏ –≤–µ—Ä—à–∏–Ω—É –¥–≤—ñ—á—ñ
    
    q.push(start);
    visited.insert(start);
    
    while (!q.empty()) {
        int current = q.front();
        q.pop();
        
        std::cout << current << " "; // –û–±—Ä–æ–±–∫–∞ –≤–µ—Ä—à–∏–Ω–∏
        
        // –î–æ–¥–∞—î–º–æ –≤—Å—ñ—Ö —Å—É—Å—ñ–¥—ñ–≤ –¥–æ —á–µ—Ä–≥–∏
        for (int neighbor : graph.at(current)) {
            if (visited.find(neighbor) == visited.end()) {
                visited.insert(neighbor);
                q.push(neighbor);
            }
        }
    }
}
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(V + E) ‚Äî –≤—ñ–¥–≤—ñ–¥—É—î–º–æ –∫–æ–∂–Ω—É –≤–µ—Ä—à–∏–Ω—É —Ç–∞ –∫–æ–∂–Ω–µ —Ä–µ–±—Ä–æ –æ–¥–∏–Ω —Ä–∞–∑.

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- –ü–æ—à—É–∫ –Ω–∞–π–∫–æ—Ä–æ—Ç—à–æ–≥–æ —à–ª—è—Ö—É (—É –Ω–µ–∑–≤–∞–∂–µ–Ω–æ–º—É –≥—Ä–∞—Ñ—ñ).
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–≤'—è–∑–Ω–æ—Å—Ç—ñ –≥—Ä–∞—Ñ–∞.
- –ü–æ—à—É–∫ —É —Å–æ—Ü—ñ–∞–ª—å–Ω–∏—Ö –º–µ—Ä–µ–∂–∞—Ö (–¥—Ä—É–∑—ñ –Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—ñ N –∫–ª—ñ–∫—ñ–≤).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 5: DFS (Depth-First Search) ‚Äî –ø–æ—à—É–∫ —É –≥–ª–∏–±–∏–Ω—É

–ê–ª–≥–æ—Ä–∏—Ç–º –π–¥–µ **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≥–ª–∏–±–æ–∫–æ**, –ø–µ—Ä—à –Ω—ñ–∂ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞–∑–∞–¥.

### –Ü–¥–µ—è

1. –ü–æ—á–Ω—ñ—Ç—å –∑ –ø–æ—á–∞—Ç–∫–æ–≤–æ—ó –≤–µ—Ä—à–∏–Ω–∏.
2. –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ñ–¥–≤—ñ–¥–∞–π—Ç–µ —ñ–Ω—à–∏—Ö —Å—É—Å—ñ–¥—ñ–≤, —è–∫–∏—Ö —â–µ –Ω–µ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–ª–∏.
3. –ö–æ–ª–∏ –Ω–µ–º–∞—î –Ω–æ–≤–∏—Ö —Å—É—Å—ñ–¥—ñ–≤ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞–π—Ç–µ—Å—è –Ω–∞–∑–∞–¥ (backtracking).

```cpp
#include <unordered_set>

void DFSRecursive(const std::unordered_map<int, std::vector<int>>& graph, 
                  int current, 
                  std::unordered_set<int>& visited) {
    
    visited.insert(current);
    std::cout << current << " ";
    
    for (int neighbor : graph.at(current)) {
        if (visited.find(neighbor) == visited.end()) {
            DFSRecursive(graph, neighbor, visited);
        }
    }
}

void DFS(const std::unordered_map<int, std::vector<int>>& graph, int start) {
    std::unordered_set<int> visited;
    DFSRecursive(graph, start, visited);
}
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(V + E).

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
- –ü–æ—à—É–∫ —Ü–∏–∫–ª—ñ–≤ —É –≥—Ä–∞—Ñ—ñ.
- –¢–æ–ø–æ–ª–æ–≥—ñ—á–Ω–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–ø–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π).
- –ê–Ω–∞–ª—ñ–∑ –¥–µ—Ä–µ–≤–∞ (–æ–±—Ö—ñ–¥ —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 6: BFS vs DFS ‚Äî –∫–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | BFS | DFS |
|----------------|-----|-----|
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö** | –ß–µ—Ä–≥–∞ (Queue) | –°—Ç–µ–∫ (Stack) –∞–±–æ —Ä–µ–∫—É—Ä—Å—ñ—è |
| **–ü–æ—Ä—è–¥–æ–∫ –æ–±—Ö–æ–¥—É** | –†—ñ–≤–Ω—è–º–∏ (Layer by Layer) | –ì–ª–∏–±–æ–∫–æ –≤–Ω–∏–∑ (Deep First) |
| **–ù–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö** | –¢–∞–∫ (—É –Ω–µ–∑–≤–∞–∂–µ–Ω–æ–º—É –≥—Ä–∞—Ñ—ñ) | –ù—ñ |
| **–ü–∞–º'—è—Ç—å** | O(V) (—á–µ—Ä–≥–∞ –º–æ–∂–µ –±—É—Ç–∏ –≤–µ–ª–∏–∫–æ—é) | O(h) ‚Äî h = –≤–∏—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞/–≥—Ä–∞—Ñ–∞ |
| **–¢–∏–ø–æ–≤–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è** | –ù–∞–≤—ñ–≥–∞—Ü—ñ—è, —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ | –ü–æ—à—É–∫ —Ü–∏–∫–ª—ñ–≤, –∞–Ω–∞–ª—ñ–∑ –¥–µ—Ä–µ–≤ |

**–ü—Ä–∏–∫–ª–∞–¥ (–ª–∞–±—ñ—Ä–∏–Ω—Ç):**
- **BFS:** –ó–Ω–∞–π–¥–µ –≤–∏—Ö—ñ–¥ –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–º —à–ª—è—Ö–æ–º.
- **DFS:** –ú–æ–∂–µ –ø—ñ—Ç–∏ –≤ –≥–ª—É—Ö–∏–π –∫—É—Ç, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ–Ω—à–µ –ø–∞–º'—è—Ç—ñ.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 7: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –∑–≤'—è–∑–Ω–æ—Å—Ç—ñ (Connected Components)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–≤'—è–∑–Ω–æ—Å—Ç—ñ** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –ø—ñ–¥–º–Ω–æ–∂–∏–Ω–∞ –≤–µ—Ä—à–∏–Ω –≥—Ä–∞—Ñ–∞, –¥–µ –º—ñ–∂ –±—É–¥—å-—è–∫–∏–º–∏ –¥–≤–æ–º–∞ –≤–µ—Ä—à–∏–Ω–∞–º–∏ —ñ—Å–Ω—É—î —à–ª—è—Ö.

```
–ì—Ä–∞—Ñ:
  1 ‚Äî 2    4 ‚Äî 5
  |        |
  3        6

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ 1: {1, 2, 3}
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ 2: {4, 5, 6}
```

–©–æ–± –∑–Ω–∞–π—Ç–∏ –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ ‚Äî –∑–∞–ø—É—Å—Ç—ñ—Ç—å BFS/DFS –∑ –∫–æ–∂–Ω–æ—ó –Ω–µ–≤—ñ–¥–≤—ñ–¥–∞–Ω–æ—ó –≤–µ—Ä—à–∏–Ω–∏:

```cpp
int countComponents(int n, const std::unordered_map<int, std::vector<int>>& graph) {
    std::unordered_set<int> visited;
    int components = 0;

    for (int v = 0; v < n; v++) {
        if (visited.count(v)) continue;

        components++;       // –ó–Ω–∞–π—à–ª–∏ –Ω–æ–≤—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É
        // BFS —â–æ–± –æ–±—ñ–π—Ç–∏ –≤—Å—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É
        std::queue<int> q;
        q.push(v);
        visited.insert(v);
        while (!q.empty()) {
            int cur = q.front(); q.pop();
            if (!graph.count(cur)) continue;
            for (int nb : graph.at(cur)) {
                if (!visited.count(nb)) {
                    visited.insert(nb);
                    q.push(nb);
                }
            }
        }
    }
    return components;
}
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O(V + E).

**–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:** –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –æ—Å—Ç—Ä—ñ–≤—Ü—ñ–≤ —É –∫–∞—Ä—Ç—ñ, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–≤'—è–∑–Ω–æ—Å—Ç—ñ –º–µ—Ä–µ–∂—ñ, –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 8: Dijkstra ‚Äî –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö —É –∑–≤–∞–∂–µ–Ω–æ–º—É –≥—Ä–∞—Ñ—ñ

BFS –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö —É **–Ω–µ–∑–≤–∞–∂–µ–Ω–æ–º—É** –≥—Ä–∞—Ñ—ñ. –ê–ª–µ —è–∫—â–æ —Ä–µ–±—Ä–∞ –º–∞—é—Ç—å **–≤–∞–≥—É** (kilometri –¥–æ—Ä–æ–≥–∏, –∑–∞—Ç—Ä–∏–º–∫–∞ –º–µ—Ä–µ–∂—ñ) ‚Äî –ø–æ—Ç—Ä—ñ–±–µ–Ω **–∞–ª–≥–æ—Ä–∏—Ç–º –î–µ–π–∫—Å—Ç—Ä–∏**.

**–Ü–¥–µ—è:** –ñ–∞–¥—ñ–±–Ω–æ –≤–∏–±–∏—Ä–∞—Ç–∏ –≤–µ—Ä—à–∏–Ω—É –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ—é –≤—ñ–¥–æ–º–æ—é –≤—ñ–¥—Å—Ç–∞–Ω–Ω—é —ñ "—Ä–æ–∑—Å–ª–∞–±–ª—è—Ç–∏" —ó—ó —Å—É—Å—ñ–¥—ñ–≤.

```
–ì—Ä–∞—Ñ (–∑–≤–∞–∂–µ–Ω–∏–π):
     2       5
 A ‚îÄ‚îÄ‚îÄ B ‚îÄ‚îÄ‚îÄ D
 ‚îÇ     ‚îÇ
 4     1
 ‚îÇ     ‚îÇ
 C ‚îÄ‚îÄ‚îÄ E
     3

Shortest paths from A:
  A‚ÜíA: 0
  A‚ÜíB: 2
  A‚ÜíC: 4
  A‚ÜíE: 3  (A‚ÜíB‚ÜíE = 2+1)
  A‚ÜíD: 7  (A‚ÜíB‚ÜíD = 2+5)
```

```cpp
#include <queue>
#include <vector>
#include <unordered_map>
#include <limits>

using Graph = std::unordered_map<int, std::vector<std::pair<int,int>>>; // node ‚Üí {neighbor, weight}

std::unordered_map<int,int> dijkstra(const Graph& graph, int start) {
    // dist[v] = –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∞ –≤—ñ–¥–æ–º–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å –≤—ñ–¥ start –¥–æ v
    std::unordered_map<int,int> dist;
    for (auto& [v, _] : graph) dist[v] = std::numeric_limits<int>::max();
    dist[start] = 0;

    // Min-heap: {–≤—ñ–¥—Å—Ç–∞–Ω—å, –≤–µ—Ä—à–∏–Ω–∞}
    std::priority_queue<
        std::pair<int,int>,
        std::vector<std::pair<int,int>>,
        std::greater<>> pq;
    pq.push({0, start});

    while (!pq.empty()) {
        auto [d, u] = pq.top(); pq.pop();

        if (d > dist[u]) continue; // –ó–∞—Å—Ç–∞—Ä—ñ–ª–∏–π –∑–∞–ø–∏—Å

        for (auto [v, w] : graph.at(u)) {
            int newDist = dist[u] + w;
            if (newDist < dist[v]) {
                dist[v] = newDist;
                pq.push({newDist, v});  // –î–æ–¥–∞—î–º–æ –æ–Ω–æ–≤–ª–µ–Ω—É –≤—ñ–¥—Å—Ç–∞–Ω—å
            }
        }
    }
    return dist;
}
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** O((V + E) log V) ‚Äî –∑–∞–≤–¥—è–∫–∏ priority_queue.

> **–û–±–º–µ–∂–µ–Ω–Ω—è:** Dijkstra –Ω–µ –ø—Ä–∞—Ü—é—î –∑ **–≤—ñ–¥'—î–º–Ω–∏–º–∏ –≤–∞–≥–∞–º–∏** —Ä–µ–±–µ—Ä. –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º –ë–µ–ª–ª–º–∞–Ω–∞-–§–æ—Ä–¥–∞ (O(V¬∑E)).

**–ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ –Ω–∞–π–∫–æ—Ä–æ—Ç—à–æ–≥–æ —à–ª—è—Ö—É:**

| –ê–ª–≥–æ—Ä–∏—Ç–º | –ì—Ä–∞—Ñ | –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å | –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ |
|----------|------|-----------|-------------|
| **BFS** | –ù–µ–∑–≤–∞–∂–µ–Ω–∏–π | O(V+E) | –ù–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π |
| **Dijkstra** | –ó–≤–∞–∂–µ–Ω–∏–π (‚â•0) | O((V+E) log V) | –ù–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à–∏–π |
| **Bellman-Ford** | –ó–≤–∞–∂–µ–Ω–∏–π (–±—É–¥—å-—è–∫—ñ) | O(V¬∑E) | –í—ñ–¥'—î–º–Ω—ñ–≤–∞–≥–∏ |
| **Floyd-Warshall** | –í—Å—ñ –ø–∞—Ä–∏ | O(V¬≥) | –í—Å—ñ –ø–∞—Ä–∏ –≤–µ—Ä—à–∏–Ω |

---

## **–ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:**
- [–ü—Ä–∞–∫—Ç–∏–∫—É–º 15: Pathfinder](p15_pathfinder.md) ‚Äî –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è BFS —Ç–∞ DFS –¥–ª—è –ø–æ—à—É–∫—É —à–ª—è—Ö—É

**–ü–æ–≥–ª–∏–±–ª–µ–Ω–µ –≤–∏–≤—á–µ–Ω–Ω—è:** [–õ–µ–∫—Ü—ñ—è 25: String Algorithms](25_string_algorithms.md) ‚Äî pattern matching –∑ KMP —Ç–∞ Rabin-Karp –¥–ª—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ—à—É–∫—É —É —Ç–µ–∫—Å—Ç–∞—Ö.

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. –£ –≤–∞—Å —î –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤ –∑ 1 –º—ñ–ª—å–π–æ–Ω–æ–º –µ–ª–µ–º–µ–Ω—Ç—ñ–≤. –°–∫—ñ–ª—å–∫–∏ –∫—Ä–æ–∫—ñ–≤ –ø–æ—Ç—Ä—ñ–±–Ω–æ Binary Search —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**~20 –∫—Ä–æ–∫—ñ–≤.** log‚ÇÇ(1,000,000) ‚âà 19.93. –ö–æ–∂–Ω–∞ —ñ—Ç–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥–∫–∏–¥–∞—î –ø–æ–ª–æ–≤–∏–Ω—É –º–∞—Å–∏–≤—É.

</details>

2. –ß–æ–º—É –¥–ª—è —Å–æ—Ü—ñ–∞–ª—å–Ω–∏—Ö –º–µ—Ä–µ–∂ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Adjacency List, –∞ –Ω–µ Adjacency Matrix?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ ‚Äî **—Ä–æ–∑—Ä—ñ–¥–∂–µ–Ω—ñ –≥—Ä–∞—Ñ–∏** (Sparse Graphs). –£ –º–µ—Ä–µ–∂—ñ –∑ 1 –º—ñ–ª—å—è—Ä–¥–æ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Å–µ—Ä–µ–¥–Ω—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞—î ~500 –¥—Ä—É–∑—ñ–≤, –∞ –Ω–µ –º—ñ–ª—å—è—Ä–¥. Adjacency Matrix –∑–∞–π–º–∞–ª–∞ –± —Ç–µ—Ä–∞–±–∞–π—Ç–∏ –ø–∞–º'—è—Ç—ñ (1,000,000,000¬≤), —Ç–æ–¥—ñ —è–∫ Adjacency List ‚Äî –ª–∏—à–µ O(V + E).

</details>

3. –£ —á–æ–º—É –ø–µ—Ä–µ–≤–∞–≥–∞ BFS –ø–µ—Ä–µ–¥ DFS –¥–ª—è –ø–æ—à—É–∫—É –Ω–∞–π–∫–æ—Ä–æ—Ç—à–æ–≥–æ —à–ª—è—Ö—É?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

BFS –≤—ñ–¥–≤—ñ–¥—É—î –≤–µ—Ä—à–∏–Ω–∏ **—Ä—ñ–≤–Ω—è–º–∏** (–≤—ñ–¥—Å—Ç–∞–Ω—å 1, –ø–æ—Ç—ñ–º –≤—ñ–¥—Å—Ç–∞–Ω—å 2 —Ç–æ—â–æ). –ö–æ–ª–∏ BFS –≤–ø–µ—Ä—à–µ –¥–æ—Å—è–≥–∞—î —Ü—ñ–ª—å–æ–≤–æ—ó –≤–µ—Ä—à–∏–Ω–∏, —Ü–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö. DFS –º–æ–∂–µ –∑–Ω–∞–π—Ç–∏ —à–ª—è—Ö, –∞–ª–µ –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π.

</details>

4. –Ø–∫ –∞–¥–∞–ø—Ç—É–≤–∞—Ç–∏ DFS –¥–ª—è –≤–∏—è–≤–ª–µ–Ω–Ω—è —Ü–∏–∫–ª—É —É –≥—Ä–∞—Ñ—ñ?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

–ü—ñ–¥ —á–∞—Å DFS, —è–∫—â–æ –º–∏ –∑—É—Å—Ç—Ä—ñ—á–∞—î–º–æ –≤–µ—Ä—à–∏–Ω—É, —è–∫–∞ –≤–∂–µ —É **–ø–æ—Ç–æ—á–Ω–æ–º—É —à–ª—è—Ö—É —Ä–µ–∫—É—Ä—Å—ñ—ó** (–Ω–µ –ø—Ä–æ—Å—Ç–æ visited, –∞ —Å–∞–º–µ –≤ –∞–∫—Ç–∏–≤–Ω–æ–º—É —Å—Ç–µ–∫—É –≤–∏–∫–ª–∏–∫—ñ–≤), —Ü–µ –æ–∑–Ω–∞—á–∞—î —Ü–∏–∫–ª. –î–ª—è —Ü—å–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –¥–æ–¥–∞—Ç–∫–æ–≤–∏–π –º–∞—Å–∏–≤ `inRecursionStack`.

</details>
