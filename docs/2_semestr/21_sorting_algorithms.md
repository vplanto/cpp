# –õ–µ–∫—Ü—ñ—è 21: –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è ‚Äî QuickSort, MergeSort —Ç–∞ IntroSort

[‚Üê –õ–µ–∫—Ü—ñ—è 20](20_lists_vector.md) | [Index](index.md) | [–î–∞–ª—ñ: –õ–µ–∫—Ü—ñ—è 22 ‚Üí](22_graphs_search.md)

## –ú–µ—Ç–∞

–ó—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å –∫–ª–∞—Å–∏—á–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è "–ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º". –ù–∞–≤—á–∏—Ç–∏—Å—è —Ä–æ–∑—Ä—ñ–∑–Ω—è—Ç–∏ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ —Ç–∞ –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏. –î—ñ–∑–Ω–∞—Ç–∏—Å—è, —á–æ–º—É `std::sort` –ø—Ä–∞—Ü—é—î –Ω–µ —Ç–∞–∫, —è–∫ –≤–∏ –¥—É–º–∞—î—Ç–µ.

## –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

1. –Ø–∫—â–æ —É –Ω–∞—Å —î 1000 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, —Å–∫—ñ–ª—å–∫–∏ –ø–æ—Ä—ñ–≤–Ω—è–Ω—å –∑—Ä–æ–±–∏—Ç—å Bubble Sort —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É?
2. –ß–∏ –∑–∞–≤–∂–¥–∏ QuickSort —à–≤–∏–¥—à–∏–π –∑–∞ MergeSort?
3. –©–æ –æ–∑–Ω–∞—á–∞—î "—Å—Ç–∞–±—ñ–ª—å–Ω–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è"?

<details markdown="1">
<summary>–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

1. **~500,000 –ø–æ—Ä—ñ–≤–Ω—è–Ω—å** (N^2 / 2). –î–ª—è N=1000: 1000*1000 / 2 = 500,000. –û—Å—å —á–æ–º—É Bubble Sort –º–µ—Ä—Ç–≤–∏–π —É –ø—Ä–æ–º–∏—Å–ª–æ–≤–æ—Å—Ç—ñ.
2. **–ù—ñ.** QuickSort —É —Å–µ—Ä–µ–¥–Ω—å–æ–º—É —à–≤–∏–¥—à–∏–π (–º–µ–Ω—à–µ –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –ø–∞–º'—è—Ç—Ç—é), –∞–ª–µ —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É (–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤ –∑ –ø–æ–≥–∞–Ω–∏–º –≤–∏–±–æ—Ä–æ–º pivot) –¥–µ–≥—Ä–∞–¥—É—î –¥–æ O(N^2). MergeSort –∑–∞–≤–∂–¥–∏ O(N log N).
3. –ê–ª–≥–æ—Ä–∏—Ç–º –∑–±–µ—Ä—ñ–≥–∞—î **–≤—ñ–¥–Ω–æ—Å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫** –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –∫–ª—é—á–∞–º–∏. –ü—Ä–∏–∫–ª–∞–¥: —è–∫—â–æ —Å–æ—Ä—Ç—É—î–º–æ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∑–∞ –æ—Ü—ñ–Ω–∫–æ—é, —Ç–æ —Å—Ç—É–¥–µ–Ω—Ç–∏ –∑ –æ–¥–Ω–∞–∫–æ–≤–æ—é –æ—Ü—ñ–Ω–∫–æ—é –∑–∞–ª–∏—à–∞—Ç—å—Å—è —É —Ç–æ–º—É –∂ –ø–æ—Ä—è–¥–∫—É, —â–æ –π –±—É–ª–∏.

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: –ë–∞–∑–∏—Å –¥–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è (O(N^2) –∞–ª–≥–æ—Ä–∏—Ç–º–∏)

–ü–µ—Ä–µ–¥ —Ç–∏–º, —è–∫ –≤–∏–≤—á–∞—Ç–∏ —à–≤–∏–¥–∫—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏, –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —á–æ–º—É –ø–æ–≤—ñ–ª—å–Ω—ñ ‚Äî

 **–ø–æ–≤—ñ–ª—å–Ω—ñ**.

### Bubble Sort (–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –±—É–ª—å–±–∞—à–∫–æ—é)

–Ü–¥–µ—è: –ü—Ä–æ—Ö–æ–¥–∏–º–æ –º–∞—Å–∏–≤ N —Ä–∞–∑—ñ–≤. –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É "—Å–ø–ª–∏ –≤–ª–∏–≤–∞—î–º" –Ω–∞–π–±—ñ–ª—å—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –≤–ø—Ä–∞–≤–æ.

```cpp
void bubbleSort(std::vector<int>& arr) {
    int n = arr.size();
    
    // N –ø—Ä–æ—Ö–æ–¥—ñ–≤
    for (int i = 0; i < n - 1; i++) {
        // –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É –∑–º–µ–Ω—à—É—î–º–æ –æ–±–ª–∞—Å—Ç—å –ø–æ—à—É–∫—É
        for (int j = 0; j < n - i - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                std::swap(arr[j], arr[j + 1]); // "–ë—É–ª—å–±–∞—à–∫–∞" —Å–ø–ª–∏–≤–∞—î
            }
        }
    }
}
// –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: O(N^2)
// –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å: –¢–∞–∫ (–Ω–µ –º—ñ–Ω—è—î–º–æ —Ä—ñ–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏)
```

**–ß–æ–º—É –ø–æ–≤—ñ–ª—å–Ω–æ?** –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –º–∞—Å–∏–≤ –º–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π, –∞–ª–≥–æ—Ä–∏—Ç–º –≤—Å–µ –æ–¥–Ω–æ —Ä–æ–±–∏—Ç—å N^2 –ø–æ—Ä—ñ–≤–Ω—è–Ω—å.

### Selection Sort (–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –≤–∏–±–æ—Ä–æ–º)

–Ü–¥–µ—è: –®—É–∫–∞—î–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç —ñ —Å—Ç–∞–≤–∏–º–æ –π–æ–≥–æ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫. –ü–æ–≤—Ç–æ—Ä—é—î–º–æ –¥–ª—è —Ö–≤–æ—Å—Ç–∞ –º–∞—Å–∏–≤—É.

```cpp
void selectionSort(std::vector<int>& arr) {
    int n = arr.size();
    
    for (int i = 0; i < n - 1; i++) {
        int minIdx = i;
        
        // –®—É–∫–∞—î–º–æ –º—ñ–Ω—ñ–º—É–º –≤ –Ω–µ–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ
        for (int j = i + 1; j < n; j++) {
            if (arr[j] < arr[minIdx]) {
                minIdx = j;
            }
        }
        
        std::swap(arr[i], arr[minIdx]);
    }
}
// –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: O(N^2)
// –°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å: –ù—ñ (swap –º–æ–∂–µ –ø–æ—Ä—É—à–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫)
```

**Step-by-Step Visualization:**

> **üí° Visual Schema from Source Material**  
> –î–∂–µ—Ä–µ–ª–æ: Sorting using Lists.pdf, —Å—Ç–æ—Ä. 172-176

![Sorting Algorithm ‚Äî –±–∞–∑–æ–≤–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤](attachments/sorting-000.jpg)

*–†–∏—Å. 1: Insertion Sort ‚Äî –ø–æ–∫—Ä–æ–∫–æ–≤–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è*

![Sorting Step-by-Step ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Bubble vs Merge](attachments/sorting-002.jpg)

*–†–∏—Å. 2: –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è Bubble Sort —Ç–∞ Merge Sort –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è*

**Insertion Sort Frame-By-Frame:**
```
Initial:  [5][2][4][6][1][3]
          ‚Üë sorted region ends here

Pass 1:   [2][5][4][6][1][3]  ‚Üê Insert 2 into sorted [5]
          ‚Üë‚Üë

Pass 2:   [2][4][5][6][1][3]  ‚Üê Insert 4 into sorted [2,5]
          ‚Üë‚Üë‚Üë

Pass 3:   [2][4][5][6][1][3]  ‚Üê 6 already in correct position
          ‚Üë‚Üë‚Üë‚Üë

Pass 4:   [1][2][4][5][6][3]  ‚Üê Insert 1 at beginning
          ‚Üë‚Üë‚Üë‚Üë‚Üë

Pass 5:   [1][2][3][4][5][6]  ‚Üê Insert 3 into sorted region
          ‚Üë‚Üë‚Üë‚Üë‚Üë‚Üë SORTED!
```

**Bubble Sort Frame-By-Frame:**
```
Initial:  [5][2][4][6][1][3]

Pass 1:   [2][4][5][1][3][6]  ‚Üê Largest (6) bubbles to end
                          ‚Üë fixed

Pass 2:   [2][4][1][3][5][6]  ‚Üê Second largest (5) fixed
                       ‚Üë‚Üë fixed

Pass 3:   [2][1][3][4][5][6]  ‚Üê Third largest (4) fixed
                    ‚Üë‚Üë‚Üë fixed

Pass 4:   [1][2][3][4][5][6]  ‚Üê Final swaps
              ‚Üë‚Üë‚Üë‚Üë fixed
```

**Merge Sort Divide-and-Conquer:**
```
DIVIDE Phase:
[5][2][4][6][1][3]
     ‚Üì split
[5][2][4]   [6][1][3]
     ‚Üì           ‚Üì
[5]  [2][4]   [6]  [1][3]
       ‚Üì            ‚Üì
     [2] [4]      [1] [3]

CONQUER Phase (Merge):
     [2] [4]      [1] [3]
       ‚Üì            ‚Üì
    [2][4]        [1][3]
       ‚Üì            ‚Üì
     [2][4][5]   [1][3][6]
         ‚Üì
    [1][2][3][4][5][6]  ‚Üê Final merge
```

**Key Visual Insights:**
- **Insertion**: Grows sorted region from left
- **Bubble**: Fixes largest elements from right
- **Merge**: Divide fully, then merge up

**–í–∏—Å–Ω–æ–≤–æ–∫:** O(N^2) –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –ø—Ä–∏–¥–∞—Ç–Ω—ñ –ª–∏—à–µ –¥–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è –∞–±–æ –¥—É–∂–µ –º–∞–ª–∏—Ö –º–∞—Å–∏–≤—ñ–≤ (N < 50).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: QuickSort ‚Äî Divide and Conquer

–ê–ª–≥–æ—Ä–∏—Ç–º, –≤–∏–≥–∞–¥–∞–Ω–∏–π Tony Hoare —É 1959 —Ä–æ—Ü—ñ. –î–æ—Å—ñ –æ–¥–∏–Ω –∑ –Ω–∞–π—à–≤–∏–¥—à–∏—Ö –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ.

### –Ü–¥–µ—è

1. –í–∏–±—Ä–∞—Ç–∏ **pivot** (–æ–ø–æ—Ä–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å–µ—Ä–µ–¥–Ω—ñ–π).
2. **Partition:** –ü–µ—Ä–µ—Å—Ç–∞–≤–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Ç–∞–∫, —â–æ–± –ª—ñ–≤–æ—Ä—É—á –≤—ñ–¥ pivot –±—É–ª–∏ –º–µ–Ω—à—ñ, –ø—Ä–∞–≤–æ—Ä—É—á ‚Äî –±—ñ–ª—å—à—ñ.
3. **–†–µ–∫—É—Ä—Å–∏–≤–Ω–æ** –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –ª—ñ–≤—É —Ç–∞ –ø—Ä–∞–≤—É —á–∞—Å—Ç–∏–Ω–∏.

```cpp
int partition(std::vector<int>& arr, int low, int high) {
    int pivot = arr[high]; // –ë–µ—Ä–µ–º–æ –æ—Å—Ç–∞–Ω–Ω—ñ–π –µ–ª–µ–º–µ–Ω—Ç —è–∫ pivot (–ø—Ä–æ—Å—Ç–∞ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è)
    int i = low - 1;
    
    for (int j = low; j < high; j++) {
        if (arr[j] <= pivot) {
            i++;
            std::swap(arr[i], arr[j]);
        }
    }
    
    std::swap(arr[i + 1], arr[high]);
    return i + 1; // –ü–æ–∑–∏—Ü—ñ—è pivot
}

void quickSort(std::vector<int>& arr, int low, int high) {
    if (low < high) {
        int pi = partition(arr, low, high);
        
        // –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ —Å–æ—Ä—Ç—É—î–º–æ –ª—ñ–≤—É —Ç–∞ –ø—Ä–∞–≤—É —á–∞—Å—Ç–∏–Ω–∏
        quickSort(arr, low, pi - 1);
        quickSort(arr, pi + 1, high);
    }
}
```

### –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å

- **–°–µ—Ä–µ–¥–Ω—ñ–π –≤–∏–ø–∞–¥–æ–∫:** O(N log N) ‚Äî –∫–æ–∂–µ–Ω —Ä—ñ–≤–µ–Ω—å —Ä–µ–∫—É—Ä—Å—ñ—ó –æ–±—Ä–æ–±–ª—è—î N –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –≥–ª–∏–±–∏–Ω–∞ –¥–µ—Ä–µ–≤–∞ ‚Äî log N.
- **–ù–∞–π–≥—ñ—Ä—à–∏–π –≤–∏–ø–∞–¥–æ–∫:** O(N^2) ‚Äî —è–∫—â–æ pivot –∑–∞–≤–∂–¥–∏ –≤–∏–±–∏—Ä–∞—î—Ç—å—Å—è —è–∫ –º—ñ–Ω—ñ–º—É–º/–º–∞–∫—Å–∏–º—É–º (–≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π –º–∞—Å–∏–≤).

### –Ø–∫ —É–Ω–∏–∫–Ω—É—Ç–∏ O(N^2)?

1. **Median-of-Three:** –í–∏–±—Ä–∞—Ç–∏ pivot —è–∫ –º–µ–¥—ñ–∞–Ω—É –∑ `arr[low]`, `arr[mid]`, `arr[high]`.
2. **Randomized QuickSort:** –í–∏–±—Ä–∞—Ç–∏ –≤–∏–ø–∞–¥–∫–æ–≤–∏–π pivot. –ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ –¥–æ–≤–µ–¥–µ–Ω–æ, —â–æ –æ—á—ñ–∫—É–≤–∞–Ω–∏–π —á–∞—Å ‚Äî O(N log N).

**–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å:** –ù—ñ (partition –º–æ–∂–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç–∏ —Ä—ñ–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: MergeSort ‚Äî –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π O(N log N)

–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ñ–¥ John von Neumann (1945). –Ü–¥–µ–∞–ª—å–Ω–∏–π, –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ—Å—Ç—å.

### –Ü–¥–µ—è

1. **Divide:** –†–æ–∑–¥—ñ–ª–∏—Ç–∏ –º–∞—Å–∏–≤ –Ω–∞–≤–ø—ñ–ª.
2. **Conquer:** –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –≤—ñ–¥—Å–æ—Ä—Ç—É–≤–∞—Ç–∏ –∫–æ–∂–Ω—É –ø–æ–ª–æ–≤–∏–Ω—É.
3. **Merge:** –ó–ª–∏—Ç–∏ –¥–≤—ñ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –ø–æ–ª–æ–≤–∏–Ω–∏ –≤ –æ–¥–∏–Ω –º–∞—Å–∏–≤.

```cpp
void merge(std::vector<int>& arr, int left, int mid, int right) {
    int n1 = mid - left + 1;
    int n2 = right - mid;
    
    // –¢–∏–º—á–∞—Å–æ–≤—ñ –º–∞—Å–∏–≤–∏
    std::vector<int> L(n1), R(n2);
    
    for (int i = 0; i < n1; i++) L[i] = arr[left + i];
    for (int i = 0; i < n2; i++) R[i] = arr[mid + 1 + i];
    
    // –ó–ª–∏—Ç—Ç—è
    int i = 0, j = 0, k = left;
    while (i < n1 && j < n2) {
        if (L[i] <= R[j]) {
            arr[k++] = L[i++];
        } else {
            arr[k++] = R[j++];
        }
    }
    
    // –ö–æ–ø—ñ—é—î–º–æ –∑–∞–ª–∏—à–æ–∫
    while (i < n1) arr[k++] = L[i++];
    while (j < n2) arr[k++] = R[j++];
}

void mergeSort(std::vector<int>& arr, int left, int right) {
    if (left < right) {
        int mid = left + (right - left) / 2;
        
        mergeSort(arr, left, mid);
        mergeSort(arr, mid + 1, right);
        merge(arr, left, mid, right);
    }
}
```

### –ü–µ—Ä–µ–≤–∞–≥–∏

- **–ó–∞–≤–∂–¥–∏ O(N log N)** ‚Äî –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
- **–°—Ç–∞–±—ñ–ª—å–Ω–µ** —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó `merge`).

### –ù–µ–¥–æ–ª—ñ–∫–∏

- **–î–æ–¥–∞—Ç–∫–æ–≤–∞ –ø–∞–º'—è—Ç—å:** –ü–æ—Ç—Ä—ñ–±–µ–Ω –¥–æ–ø–æ–º—ñ–∂–Ω–∏–π –º–∞—Å–∏–≤ —Ä–æ–∑–º—ñ—Ä–æ–º N (O(N) space).
- **–ü–æ–≤—ñ–ª—å–Ω—ñ—à–µ –∑–∞ QuickSort** –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ —á–µ—Ä–µ–∑ –±—ñ–ª—å—à–µ –∫–æ–ø—ñ—é–≤–∞–Ω—å –¥–∞–Ω–∏—Ö.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 4: IntroSort ‚Äî –ì—ñ–±—Ä–∏–¥ —É `std::sort`

**–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è:** –í–∑—è—Ç–∏ QuickSort, –∞–ª–µ –∑–∞—Ö–∏—Å—Ç–∏—Ç–∏—Å—è –≤—ñ–¥ O(N^2).

### –ê–ª–≥–æ—Ä–∏—Ç–º IntroSort (Introspective Sort)

1. –ü–æ—á–∏–Ω–∞—î–º–æ –∑ **QuickSort**.
2. –Ø–∫—â–æ –≥–ª–∏–±–∏–Ω–∞ —Ä–µ–∫—É—Ä—Å—ñ—ó –ø–µ—Ä–µ–≤–∏—â—É—î `2 * log(N)` (–æ–∑–Ω–∞–∫–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—ó), –ø–µ—Ä–µ–∫–ª—é—á–∞—î–º–æ—Å—è –Ω–∞ **HeapSort**.
3. –î–ª—è –º–∞–ª–∏—Ö –ø—ñ–¥–º–∞—Å–∏–≤—ñ–≤ (N < 16) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **Insertion Sort** (–≤—ñ–Ω —à–≤–∏–¥—à–∏–π –∑–∞ QuickSort –Ω–∞ –º—ñ–∫—Ä–æ–¥–∞–Ω–∏—Ö).

```cpp
// –ü—Å–µ–≤–¥–æ–∫–æ–¥ std::sort (—Å–ø—Ä–æ—â–µ–Ω–æ)
template<typename T>
void introsort(std::vector<T>& arr, int maxDepth) {
    if (arr.size() < 16) {
        insertionSort(arr); // –ü—Ä–æ—Å—Ç–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –º–∞–ª–∏—Ö N
        return;
    }
    
    if (maxDepth == 0) {
        heapSort(arr); // –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ O(N^2)
        return;
    }
    
    int pivot = partition(arr); // QuickSort partition
    introsort(arr_left, maxDepth - 1);
    introsort(arr_right, maxDepth - 1);
}
```

**–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π O(N log N) —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É.
**–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å:** –ù—ñ. –î–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —î `std::stable_sort` (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MergeSort).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 5: –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –ê–ª–≥–æ—Ä–∏—Ç–º | –°–µ—Ä–µ–¥–Ω—ñ–π —á–∞—Å | –ù–∞–π–≥—ñ—Ä—à–∏–π —á–∞—Å | –ü–∞–º'—è—Ç—å | –°—Ç–∞–±—ñ–ª—å–Ω–∏–π? | –ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ |
|----------|--------------|----------------|---------|-------------|----------------------|
| **Bubble Sort** | O(N^2) | O(N^2) | O(1) | –¢–∞–∫ | –ù—ñ–∫–æ–ª–∏ (—Ç—ñ–ª—å–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è) |
| **Selection Sort** | O(N^2) | O(N^2) | O(1) | –ù—ñ | –ù—ñ–∫–æ–ª–∏ |
| **QuickSort** | O(N log N) | O(N^2) | O(log N) | –ù—ñ | –ó–∞–≥–∞–ª—å–Ω–µ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è, –≤–µ–ª–∏–∫—ñ –¥–∞–Ω—ñ |
| **MergeSort** | O(N log N) | O(N log N) | O(N) | –¢–∞–∫ | –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å –∞–±–æ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π —á–∞—Å |
| **IntroSort** | O(N log N) | O(N log N) | O(log N) | –ù—ñ | **std::sort** ‚Äî –¥–µ—Ñ–æ–ª—Ç –¥–ª—è C++ |
| **std::stable_sort** | O(N log N) | O(N log N) | O(N) | –¢–∞–∫ | –ö–æ–ª–∏ –≤–∞–∂–ª–∏–≤–∏–π –ø–æ—Ä—è–¥–æ–∫ —Ä—ñ–≤–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ |

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

**–î–∏–≤.:** [–ü—Ä–∞–∫—Ç–∏–∫—É–º 14: Search Engine](p14_search_engine.md) ‚Äî —ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—è —Ç–∞ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∑–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ñ—Å—Ç—é.

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. –ß–æ–º—É QuickSort –Ω–∞–∑–∏–≤–∞—é—Ç—å "–Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω–∏–º"? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —Ü–µ –≤–∞–∂–ª–∏–≤–æ.

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

QuickSort –º–æ–∂–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç–∏ —Ä—ñ–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –ø—ñ–¥ —á–∞—Å partition. –ü—Ä–∏–∫–ª–∞–¥: —Å–æ—Ä—Ç—É—î–º–æ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤ –∑–∞ –æ—Ü—ñ–Ω–∫–æ—é. –Ø–∫—â–æ –¥–≤–∞ —Å—Ç—É–¥–µ–Ω—Ç–∏ –º–∞—é—Ç—å –æ—Ü—ñ–Ω–∫—É "5", –∞–ª–µ –æ–¥–∏–Ω –∑–¥–∞–≤ —Ä–æ–±–æ—Ç—É —Ä–∞–Ω—ñ—à–µ, QuickSort –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏ —ó—Ö –ø–æ—Ä—è–¥–æ–∫. –î–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ö—Ä–æ–Ω–æ–ª–æ–≥—ñ—ó —Ç—Ä–µ–±–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ MergeSort –∞–±–æ `std::stable_sort`.

</details>

2. –£ –≤–∞—Å —î –º–∞—Å–∏–≤ –∑ 1 –º—ñ–ª—å–π–æ–Ω–æ–º –µ–ª–µ–º–µ–Ω—Ç—ñ–≤, –∞–ª–µ –≤—ñ–Ω –º–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π (–ª–∏—à–µ 100 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–µ –Ω–∞ –º—ñ—Å—Ü—ñ). –Ø–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –±—É–¥–µ –Ω–∞–π—à–≤–∏–¥—à–∏–º?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**Insertion Sort** (O(N) –¥–ª—è –º–∞–π–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö) –∞–±–æ **TimSort** (–≥—ñ–±—Ä–∏–¥ Insertion + Merge, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ Python —Ç–∞ Java). `std::sort` (IntroSort) —Ç–∞–∫–æ–∂ —à–≤–∏–¥–∫–æ –≤–ø–æ—Ä–∞—î—Ç—å—Å—è, –∞–ª–µ Insertion Sort –±—É–¥–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ—à–∏–º –¥–ª—è —Ü—å–æ–≥–æ –≤–∏–ø–∞–¥–∫—É.

</details>

3. –ß–æ–º—É MergeSort –≤–∏–º–∞–≥–∞—î O(N) –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó –ø–∞–º'—è—Ç—ñ, –∞ QuickSort ‚Äî —Ç—ñ–ª—å–∫–∏ O(log N)?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**MergeSort** —Å—Ç–≤–æ—Ä—é—î —Ç–∏–º—á–∞—Å–æ–≤—ñ –º–∞—Å–∏–≤–∏ –¥–ª—è –∑–ª–∏—Ç—Ç—è ‚Äî —Ä–æ–∑–º—ñ—Ä–æ–º N.
**QuickSort** –ø—Ä–∞—Ü—é—î in-place (–Ω–∞ –º—ñ—Å—Ü—ñ), –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤ –¥–ª—è —Ä–µ–∫—É—Ä—Å—ñ—ó. –ì–ª–∏–±–∏–Ω–∞ —Å—Ç–µ–∫—É ‚Äî log N —É —Å–µ—Ä–µ–¥–Ω—å–æ–º—É (–≤–∏—Å–æ—Ç–∞ –¥–µ—Ä–µ–≤–∞ —Ä–µ–∫—É—Ä—Å—ñ—ó).

</details>

4. –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –≤–∏ –≤–∏–∫–ª–∏—á–µ—Ç–µ `std::sort` –Ω–∞ –º–∞—Å–∏–≤—ñ, —è–∫–∏–π –≤–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏–π?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**IntroSort** (std::sort) –≤–ø–æ—Ä–∞—î—Ç—å—Å—è –∑–∞ O(N log N). –ê–ª–µ –¥–ª—è –≤–∂–µ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ—à–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `std::is_sorted` (O(N) –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞), —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∑–∞–π–≤–æ—ó —Ä–æ–±–æ—Ç–∏.

</details>
