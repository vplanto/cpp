# –õ–µ–∫—Ü—ñ—è 20b: –ê–¢–î ‚Äî Stack, Queue, Deque —Ç–∞ Priority Queue

[‚Üê –õ–µ–∫—Ü—ñ—è 20](20_lists_vector.md) | [Index](index.md) | [–î–∞–ª—ñ: –õ–µ–∫—Ü—ñ—è 21 ‚Üí](21_sorting_algorithms.md)

## –ú–µ—Ç–∞

–ó—Ä–æ–∑—É–º—ñ—Ç–∏ –ø–æ–Ω—è—Ç—Ç—è **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –¢–∏–ø—É –î–∞–Ω–∏—Ö (–ê–¢–î)** —è–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É –º—ñ–∂ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é. –í–∏–≤—á–∏—Ç–∏ —á–æ—Ç–∏—Ä–∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ñ –ê–¢–î: Stack, Queue, Deque —Ç–∞ Priority Queue ‚Äî —ó—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ, —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ–π —Ç–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –≤ C++ STL.

> **üìö –ú–∞—Ç–µ—Ä—ñ–∞–ª –ª–µ–∫—Ü—ñ—ó –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞:**  
> Stacks&Queues.pdf ¬∑ –õ–µ–∫—Ü—ñ—è 8 - Lists.pdf

## –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

1. –ß–∏–º –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è `std::vector` –≤—ñ–¥ —Å–ø–∏—Å–∫—É –Ω–∞ —Ä—ñ–≤–Ω—ñ **—ñ–¥–µ—ó** (–Ω–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É)?
2. –Ø–∫—â–æ –≤–∏ –∫–ª–∞–¥–µ—Ç–µ –∫–Ω–∏–≥–∏ –≤ —Å—Ç–æ—Å —ñ –±–µ—Ä–µ—Ç–µ —ó—Ö –∑–≤–µ—Ä—Ö—É ‚Äî —è–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö —Ü–µ –º–æ–¥–µ–ª—é—î?
3. –Ø–∫—É —á–µ—Ä–≥—É –≤–∏ –±–∞—á–∏—Ç–µ –≤ —Å—É–ø–µ—Ä–º–∞—Ä–∫–µ—Ç—ñ –±—ñ–ª—è –∫–∞—Å–∏ ‚Äî Priority Queue —á–∏ –∑–≤–∏—á–∞–π–Ω—É Queue?

<details markdown="1">
<summary>–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

1. `std::vector` ‚Äî —Ü–µ **—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è**. –°–ø–∏—Å–æ–∫ ‚Äî —Ü–µ **–∫–æ–Ω—Ü–µ–ø—Ü—ñ—è (–ê–¢–î)**. –û–¥–∏–Ω –ê–¢–î –º–æ–∂–µ –º–∞—Ç–∏ –±–∞–≥–∞—Ç–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.
2. **Stack** (LIFO ‚Äî Last In, First Out).
3. –û–±–∏–¥–≤—ñ! –ó–≤–∏—á–∞–π–Ω–∞ —á–µ—Ä–≥–∞ ‚Äî FIFO. Priority Queue ‚Äî —è–∫—â–æ —î "VIP-–∫–ª—ñ—î–Ω—Ç–∏" –∞–±–æ —Ç–µ—Ä–º—ñ–Ω–æ–≤—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –¢–∏–ø –î–∞–Ω–∏—Ö (–ê–¢–î)

### –©–æ —Ç–∞–∫–µ –ê–¢–î?

**–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –¢–∏–ø –î–∞–Ω–∏—Ö (–ê–¢–î)** ‚Äî —Ü–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –º–æ–¥–µ–ª—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö, —è–∫–∞ –≤–∏–∑–Ω–∞—á–∞—î:
- **–ù–∞–±—ñ—Ä –∑–Ω–∞—á–µ–Ω—å** (—â–æ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ)
- **–ù–∞–±—ñ—Ä –æ–ø–µ—Ä–∞—Ü—ñ–π** (—â–æ –º–æ–∂–µ–º–æ —Ä–æ–±–∏—Ç–∏)
- **–°–µ–º–∞–Ω—Ç–∏–∫—É –æ–ø–µ—Ä–∞—Ü—ñ–π** (—è–∫ –≤–æ–Ω–∏ –ø–æ–≤–æ–¥—è—Ç—å—Å—è)

–ê–¢–î **–ù–ï** –≤–∏–∑–Ω–∞—á–∞—î, —è–∫ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ.

```
–ê–¢–î "–°–ø–∏—Å–æ–∫" –≤–∏–∑–Ω–∞—á–∞—î:
  - –æ–ø–µ—Ä–∞—Ü—ñ—ó: insert(i, x), delete(i), get(i), size()
  - —Å–µ–º–∞–Ω—Ç–∏–∫—É: –µ–ª–µ–º–µ–Ω—Ç–∏ –≤–ø–æ—Ä—è–¥–∫–æ–≤–∞–Ω—ñ, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –ø–æ–∑–∏—Ü—ñ—é

–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:
  - std::vector  (–º–∞—Å–∏–≤ —É –ø–∞–º'—è—Ç—ñ)
  - std::list    (–≤—É–∑–ª–∏ –∑ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞–º–∏)
  - std::deque   (chunked array)
```

**–ê–Ω–∞–ª–æ–≥—ñ—è:** –ê–¢–î ‚Äî —Ü–µ **—Ç–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è** (—â–æ —Ä–æ–±–∏—Ç–∏), —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è ‚Äî —Ü–µ **–≤–∏–∫–æ–Ω–∞–Ω–Ω—è** (—è–∫ —Ä–æ–±–∏—Ç–∏).

> **–ß–æ–º—É —Ü–µ –≤–∞–∂–ª–∏–≤–æ?** –í–∏ –º–æ–∂–µ—Ç–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ `std::vector` –Ω–∞ `std::list` —É –≤–∞—à—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ, —è–∫—â–æ –æ–±–∏–¥–≤–∞ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Ç–æ–π —Å–∞–º–∏–π –ê–¢–î ‚Äî —Ä–µ—à—Ç–∞ –∫–æ–¥—É –Ω–µ –∑–º—ñ–Ω–∏—Ç—å—Å—è.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: Stack (–°—Ç–µ–∫) ‚Äî LIFO

### –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**Stack** ‚Äî —Ü–µ –ê–¢–î, –≤ —è–∫–æ–º—É –µ–ª–µ–º–µ–Ω—Ç–∏ –¥–æ–¥–∞—é—Ç—å—Å—è —Ç–∞ –≤–∏–¥–∞–ª—è—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –∑ **–æ–¥–Ω–æ–≥–æ –∫—ñ–Ω—Ü—è** (–≤–µ—Ä—à–∏–Ω–∞ —Å—Ç–µ–∫—É).

**–ü—Ä–∏–Ω—Ü–∏–ø: LIFO** ‚Äî Last In, First Out (–æ—Å—Ç–∞–Ω–Ω—ñ–π –ø—Ä–∏–π—à–æ–≤ ‚Äî –ø–µ—Ä—à–∏–π –ø—ñ—à–æ–≤).

```
–û–ü–ï–†–ê–¶–Ü–á:
  push(x)  ‚Äî –¥–æ–¥–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –Ω–∞ –≤–µ—Ä—à–∏–Ω—É      O(1)
  pop()    ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç —ñ–∑ –≤–µ—Ä—à–∏–Ω–∏    O(1)
  top()    ‚Äî –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤–µ—Ä—Ö–Ω—ñ–π –µ–ª–µ–º–µ–Ω—Ç    O(1)
  empty()  ‚Äî —á–∏ —Å—Ç–µ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π?             O(1)
  size()   ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤           O(1)
```

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è

```
push(1) ‚Üí push(2) ‚Üí push(3) ‚Üí pop() ‚Üí top()

  [3]   ‚Üê –≤–µ—Ä—à–∏–Ω–∞ (top)
  [2]
  [1]   ‚Üê –¥–Ω–æ

pop() –≤–∏–¥–∞–ª—è—î 3.
top() –ø–æ–≤–µ—Ä—Ç–∞—î 2.
```

### std::stack —É C++

```cpp
#include <stack>

std::stack<int> s;

s.push(10);       // —Å—Ç–µ–∫: [10]
s.push(20);       // —Å—Ç–µ–∫: [10, 20]
s.push(30);       // —Å—Ç–µ–∫: [10, 20, 30]

std::cout << s.top();  // 30
s.pop();               // —Å—Ç–µ–∫: [10, 20]
std::cout << s.top();  // 20

std::cout << s.size(); // 2
std::cout << s.empty() ? "empty" : "not empty"; // not empty
```

> **–†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º:** `std::stack` ‚Äî —Ü–µ –æ–±–≥–æ—Ä—Ç–∫–∞ (adapter) –Ω–∞–¥ `std::deque` –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º. –ú–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏: `std::stack<int, std::vector<int>>`.

### –ö–ª–∞—Å–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥—É–∂–æ–∫

–¢–∏–ø–æ–≤–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º, –¥–µ Stack –Ω–µ–∑–∞–º—ñ–Ω–Ω–∏–π:

```cpp
bool isBalanced(const std::string& expr) {
    std::stack<char> s;
    
    for (char c : expr) {
        if (c == '(' || c == '[' || c == '{') {
            s.push(c);  // –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ ‚Äî –≤ —Å—Ç–µ–∫
        } else if (c == ')' || c == ']' || c == '}') {
            if (s.empty()) return false;
            char top = s.top(); s.pop();
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –∑–±—ñ–≥ –ø–∞—Ä
            if (c == ')' && top != '(') return false;
            if (c == ']' && top != '[') return false;
            if (c == '}' && top != '{') return false;
        }
    }
    return s.empty(); // —è–∫—â–æ —Å—Ç–µ–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π ‚Äî –≤—Å—ñ –¥—É–∂–∫–∏ –∑–∞–∫—Ä–∏—Ç—ñ
}

// isBalanced("({[]})") ‚Üí true
// isBalanced("({[}])") ‚Üí false
```

### –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è Stack

- **Undo/Redo** —É —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö
- **Call Stack** (—Å—Ç–µ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤ —Ñ—É–Ω–∫—Ü—ñ–π —É –±—É–¥—å-—è–∫—ñ–π –º–æ–≤—ñ)
- **–ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–∏—Ä–∞–∑—ñ–≤** (Infix ‚Üí Postfix)
- **–û–±—Ö—ñ–¥ –¥–µ—Ä–µ–≤–∞ DFS** (–±–µ–∑ —Ä–µ–∫—É—Ä—Å—ñ—ó)
- **–ü–∞—Ä—Å–µ—Ä–∏ —Ç–∞ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∏**

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: Queue (–ß–µ—Ä–≥–∞) ‚Äî FIFO

### –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**Queue** ‚Äî —Ü–µ –ê–¢–î, –¥–µ –µ–ª–µ–º–µ–Ω—Ç–∏ **–¥–æ–¥–∞—é—Ç—å—Å—è –∑ –æ–¥–Ω–æ–≥–æ –∫—ñ–Ω—Ü—è** (back/rear) —ñ **–≤–∏–¥–∞–ª—è—é—Ç—å—Å—è –∑ —ñ–Ω—à–æ–≥–æ** (front).

**–ü—Ä–∏–Ω—Ü–∏–ø: FIFO** ‚Äî First In, First Out (–ø–µ—Ä—à–∏–π –ø—Ä–∏–π—à–æ–≤ ‚Äî –ø–µ—Ä—à–∏–π –ø—ñ—à–æ–≤).

```
–û–ü–ï–†–ê–¶–Ü–á:
  push(x) / enqueue(x) ‚Äî –¥–æ–¥–∞—Ç–∏ –≤ –∫—ñ–Ω–µ—Ü—å —á–µ—Ä–≥–∏   O(1)
  pop() / dequeue()    ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –∑ –ø–æ—á–∞—Ç–∫—É       O(1)
  front()              ‚Äî –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ø–µ—Ä—à–∏–π        O(1)
  back()               ‚Äî –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π      O(1)
  empty()              ‚Äî —á–∏ —á–µ—Ä–≥–∞ –ø–æ—Ä–æ–∂–Ω—è?         O(1)
  size()               ‚Äî –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤      O(1)
```

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è

```
–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞: —Ö—Ç–æ –ø—Ä–∏–π—à–æ–≤ –ø–µ—Ä—à–∏–º ‚Äî —Ç–æ–π –ø–µ—Ä—à–∏–π –æ—Ç—Ä–∏–º—É—î –∫–Ω–∏–≥—É.

enqueue(A) ‚Üí enqueue(B) ‚Üí enqueue(C) ‚Üí dequeue()

front ‚Üí [A][B][C] ‚Üê back

dequeue() –≤–∏–¥–∞–ª—è—î A. front —Ç–µ–ø–µ—Ä B.
```

### std::queue —É C++

```cpp
#include <queue>

std::queue<std::string> q;

q.push("Alice");    // —á–µ—Ä–≥–∞: [Alice]
q.push("Bob");      // —á–µ—Ä–≥–∞: [Alice, Bob]
q.push("Charlie");  // —á–µ—Ä–≥–∞: [Alice, Bob, Charlie]

std::cout << q.front(); // Alice
q.pop();                // —á–µ—Ä–≥–∞: [Bob, Charlie]
std::cout << q.front(); // Bob
std::cout << q.back();  // Charlie
std::cout << q.size();  // 2
```

### –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è Queue

- **BFS** (Breadth-First Search ‚Äî –æ–±—Ö—ñ–¥ –≥—Ä–∞—Ñ–∞ —É —à–∏—Ä–∏–Ω—É)
- **–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–¥–∞—á OS** (–∫–æ–∂–µ–Ω –ø—Ä–æ—Ü–µ—Å —Å—Ç–æ—ó—Ç—å —É —á–µ—Ä–∑—ñ CPU)
- **–ë—É—Ñ–µ—Ä –ø—Ä–∏–Ω—Ç–µ—Ä–∞** (–¥–æ–∫—É–º–µ–Ω—Ç–∏ –¥—Ä—É–∫—É—é—Ç—å—Å—è –ø–æ —á–µ—Ä–∑—ñ)
- **–ú–µ—Ä–µ–∂–µ–≤—ñ –ø–∞–∫–µ—Ç–∏** (FIFO –æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –≤ —Ä–æ—É—Ç–µ—Ä–∞—Ö)

---

## –ß–∞—Å—Ç–∏–Ω–∞ 4: Deque (–î–µ–∫) ‚Äî Double-Ended Queue

### –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**Deque** (Double-Ended Queue, –≤–∏–º–æ–≤–ª—è—î—Ç—å—Å—è "deck") ‚Äî –ê–¢–î, –¥–µ –º–æ–∂–Ω–∞ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ **–æ–±–æ—Ö –∫—ñ–Ω—Ü—ñ–≤** ‚Äî —ñ —Å–ø–µ—Ä–µ–¥—É, —ñ–∑–∑–∞–¥—É.

```
–û–ü–ï–†–ê–¶–Ü–á:
  push_front(x)  ‚Äî –¥–æ–¥–∞—Ç–∏ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫    O(1) amortized
  push_back(x)   ‚Äî –¥–æ–¥–∞—Ç–∏ –≤ –∫—ñ–Ω–µ—Ü—å      O(1) amortized
  pop_front()    ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –∑ –ø–æ—á–∞—Ç–∫—É   O(1)
  pop_back()     ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –∑ –∫—ñ–Ω—Ü—è     O(1)
  front()        ‚Äî –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç       O(1)
  back()         ‚Äî –æ—Å—Ç–∞–Ω–Ω—ñ–π –µ–ª–µ–º–µ–Ω—Ç     O(1)
  operator[]     ‚Äî –¥–æ—Å—Ç—É–ø –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º   O(1)
```

**Deque = Stack + Queue.** –í—ñ–Ω –º–æ–∂–µ –ø–æ–≤–æ–¥–∏—Ç–∏—Å—è —è–∫ –æ–±–∏–¥–≤–∞.

### std::deque —É C++

```cpp
#include <deque>

std::deque<int> dq;

dq.push_back(3);   // [3]
dq.push_front(1);  // [1, 3]
dq.push_back(5);   // [1, 3, 5]
dq.push_front(0);  // [0, 1, 3, 5]

std::cout << dq.front(); // 0
std::cout << dq.back();  // 5

dq.pop_front(); // [1, 3, 5]
dq.pop_back();  // [1, 3]

std::cout << dq[0] << " " << dq[1]; // 1 3
```

### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º

`std::deque` ‚Äî —Ü–µ –Ω–µ –º–∞—Å–∏–≤ —ñ –Ω–µ —Å–ø–∏—Å–æ–∫, –∞ **chunked array** (–º–∞—Å–∏–≤ –±–ª–æ–∫—ñ–≤ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É). –¶–µ –¥–∞—î:
- O(1) –¥–ª—è push/pop –∑ –æ–±–æ—Ö –∫—ñ–Ω—Ü—ñ–≤ (—è–∫ —Å–ø–∏—Å–æ–∫)
- O(1) –¥–ª—è –¥–æ—Å—Ç—É–ø—É –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º (—è–∫ –≤–µ–∫—Ç–æ—Ä)
- –ê–ª–µ **–≥—ñ—Ä—à–∞** cache locality, –Ω—ñ–∂ `std::vector`

```
Memory layout:

  Block 1    Block 2    Block 3
  [a][b][c]  [d][e][f]  [g][h][i]
      ‚Üë                     ‚Üë
    front                  back
```

### –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è Deque

- **Sliding Window Maximum** (–∑–∞–¥–∞—á–∞: –º–∞–∫—Å–∏–º—É–º —É –≤—ñ–∫–Ω—ñ —Ä–æ–∑–º—ñ—Ä–æ–º k)
- **Palindrome –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞** (–ø–æ—Ä—ñ–≤–Ω—é—î–º–æ —Å–ø–µ—Ä–µ–¥—É —ñ –∑–∑–∞–¥—É)
- **–°–∏–º—É–ª—è—Ü—ñ—è —á–µ—Ä–≥–∏ –∑ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º –¥–ª—è –¥–≤–æ—Ö —Ç–∏–ø—ñ–≤** (VIP + –∑–≤–∏—á–∞–π–Ω—ñ)
- **–°—Ç–µ–∫ –∑—ñ –∑–≤–æ—Ä–æ—Ç–Ω–∏–º –ø–æ—Ä—è–¥–∫–æ–º**

---

## –ß–∞—Å—Ç–∏–Ω–∞ 5: Priority Queue (–ß–µ—Ä–≥–∞ –∑ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏)

### –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è

**Priority Queue** ‚Äî –ê–¢–î, –¥–µ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –º–∞—î **–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç**. –ü—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –∑–∞–≤–∂–¥–∏ –≤–∏–ª—É—á–∞—î—Ç—å—Å—è –µ–ª–µ–º–µ–Ω—Ç –∑ **–Ω–∞–π–≤–∏—â–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º** (–Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–æ—Ä—è–¥–∫—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è).

```
–û–ü–ï–†–ê–¶–Ü–á:
  push(x)     ‚Äî –¥–æ–¥–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç                   O(log n)
  top()       ‚Äî –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –∑ max priority O(1)
  pop()       ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç –∑ max priority    O(log n)
  empty()     ‚Äî —á–∏ –ø–æ—Ä–æ–∂–Ω—è?                       O(1)
  size()      ‚Äî —Ä–æ–∑–º—ñ—Ä                            O(1)
```

### –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è

```
–®–≤–∏–¥–∫–∞ –¥–æ–ø–æ–º–æ–≥–∞: —Ö—Ç–æ –≤–∞–∂—á–∏–π —Ö–≤–æ—Ä–∏–π ‚Äî —Ç–æ–≥–æ –æ–±—Å–ª—É–≥–æ–≤—É—é—Ç—å –ø–µ—Ä—à–∏–º.

push(5) push(1) push(3) push(8) push(2)

top() ‚Üí 8    (–Ω–∞–π–±—ñ–ª—å—à–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç!)
pop() ‚Üí –≤–∏–¥–∞–ª—è—î 8
top() ‚Üí 5
```

### std::priority_queue —É C++

```cpp
#include <queue>

// Max-heap (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º): –Ω–∞–π–±—ñ–ª—å—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑–≤–µ—Ä—Ö—É
std::priority_queue<int> pq;

pq.push(5);
pq.push(1);
pq.push(8);
pq.push(3);

std::cout << pq.top(); // 8 (–º–∞–∫—Å–∏–º—É–º)
pq.pop();
std::cout << pq.top(); // 5
pq.pop();
std::cout << pq.top(); // 3

// Min-heap: –Ω–∞–π–º–µ–Ω—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –∑–≤–µ—Ä—Ö—É
std::priority_queue<int, std::vector<int>, std::greater<int>> minPQ;
minPQ.push(5); minPQ.push(1); minPQ.push(8);
std::cout << minPQ.top(); // 1 (–º—ñ–Ω—ñ–º—É–º)
```

### –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥ –∫–∞–ø–æ—Ç–æ–º: Binary Heap

`std::priority_queue` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ **–±—ñ–Ω–∞—Ä–Ω—É –∫—É–ø—É (Binary Heap)** ‚Äî –º–∞—Å–∏–≤, —â–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å heap:

```
             8               ‚Üê –∫–æ—Ä—ñ–Ω—å = –º–∞–∫—Å–∏–º—É–º
           /   \
          5     3
         / \
        1   2

–ú–∞—Å–∏–≤:  [8, 5, 3, 1, 2]
        –ë–∞—Ç—å–∫–æ(i) = (i-1)/2
        –î–∏—Ç–∏–Ω–∞(i) = 2i+1, 2i+2
```

| –°—Ç—Ä—É–∫—Ç—É—Ä–∞ | push | pop | top | –ü–∞–º'—è—Ç—å |
|-----------|------|-----|-----|---------|
| `priority_queue` (heap) | O(log n) | O(log n) | O(1) | O(n) |
| Unsorted array | O(1) | O(n) | O(n) | O(n) |
| Sorted array | O(n) | O(1) | O(1) | O(n) |

### –ö–ª–∞—Å–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è: K –Ω–∞–π–±—ñ–ª—å—à–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤

```cpp
#include <queue>
#include <vector>

// –ó–Ω–∞–π—Ç–∏ K –Ω–∞–π–±—ñ–ª—å—à–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —É –º–∞—Å–∏–≤—ñ
std::vector<int> kLargest(const std::vector<int>& arr, int k) {
    // Min-heap —Ä–æ–∑–º—ñ—Ä–æ–º K
    std::priority_queue<int, std::vector<int>, std::greater<int>> minHeap;
    
    for (int x : arr) {
        minHeap.push(x);
        if ((int)minHeap.size() > k) {
            minHeap.pop(); // –í–∏–¥–∞–ª—è—î–º–æ –º—ñ–Ω—ñ–º—É–º, –∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ K –Ω–∞–π–±—ñ–ª—å—à–∏—Ö
        }
    }
    
    std::vector<int> result;
    while (!minHeap.empty()) {
        result.push_back(minHeap.top());
        minHeap.pop();
    }
    return result;
}
// kLargest({3,1,4,1,5,9,2,6}, 3) ‚Üí [4, 5, 6, 9]
```

### –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è Priority Queue

- **Dijkstra's Algorithm** (–Ω–∞–π–∫–æ—Ä–æ—Ç—à–∏–π —à–ª—è—Ö —É –≥—Ä–∞—Ñ—ñ)
- **Huffman Encoding** (—Å—Ç–∏—Å–∫–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö)
- **–ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –∑–∞–¥–∞—á OS** (–ø—Ä–æ—Ü–µ—Å–∏ –∑ —Ä—ñ–∑–Ω–∏–º –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–æ–º)
- **–ú–µ–¥—ñ–∞–Ω–∞ –ø–æ—Ç–æ–∫—É –¥–∞–Ω–∏—Ö** (two-heaps trick)

---

## –ß–∞—Å—Ç–∏–Ω–∞ 6: –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –ê–¢–î | –ü—Ä–∏–Ω—Ü–∏–ø | push | pop/–¥–µqueue | Peek | C++ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
|-----|---------|------|-------------|------|---------------|
| **Stack** | LIFO | O(1) | O(1) ‚Äî –∑ –≤–µ—Ä—à–∏–Ω–∏ | O(1) top() | `std::stack` |
| **Queue** | FIFO | O(1) | O(1) ‚Äî –∑ –ø–æ—á–∞—Ç–∫—É | O(1) front() | `std::queue` |
| **Deque** | Both ends | O(1) | O(1) | O(1) | `std::deque` |
| **Priority Queue** | Max/Min first | O(log n) | O(log n) | O(1) top() | `std::priority_queue` |

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

**–ü—Ä–∞–∫—Ç–∏–∫—É–º–∏:**
- [–ü—Ä–∞–∫—Ç–∏–∫—É–º 13: Algorithms & Good Taste](p13_algorithms_and_taste.md) ‚Äî Josephus Problem (Queue) —Ç–∞ Infix-to-Postfix (Stack)
- [–ü—Ä–∞–∫—Ç–∏–∫—É–º 14: Search Engine](p14_search_engine.md) ‚Äî –ø–æ—à—É–∫–æ–≤–∞ —á–µ—Ä–≥–∞ –∑–∞–¥–∞—á

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. –£ —á–æ–º—É —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ Stack —Ç–∞ Queue?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

Stack ‚Äî LIFO (—è–∫ —Å—Ç–æ—Å —Ç–∞—Ä—ñ–ª–æ–∫: –¥–æ–¥–∞—î–º–æ —ñ –±–µ—Ä–µ–º–æ –∑–≤–µ—Ä—Ö—É). Queue ‚Äî FIFO (—è–∫ —á–µ—Ä–≥–∞ –≤ –º–∞–≥–∞–∑–∏–Ω—ñ: –¥–æ–¥–∞—î–º–æ –∑–∑–∞–¥—É, –±–µ—Ä–µ–º–æ —Å–ø–µ—Ä–µ–¥—É). –£ Stack —î —Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω "–∞–∫—Ç–∏–≤–Ω–∏–π" –∫—ñ–Ω–µ—Ü—å, —É Queue ‚Äî –¥–≤–∞ —Ä—ñ–∑–Ω–∏—Ö.

</details>

2. –ß–æ–º—É Deque —î "—Å—É–ø–µ—Ä–º–Ω–æ–∂–∏–Ω–æ—é" Stack —Ç–∞ Queue?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

Deque –¥–æ–∑–≤–æ–ª—è—î push/pop –∑ –æ–±–æ—Ö –∫—ñ–Ω—Ü—ñ–≤. –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ push_back + pop_back ‚Äî –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —è–∫ Stack. –¢—ñ–ª—å–∫–∏ push_back + pop_front ‚Äî –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —è–∫ Queue. Stack —Ç–∞ Queue ‚Äî —Ü–µ –æ–±–º–µ–∂–µ–Ω—ñ –≤–µ—Ä—Å—ñ—ó Deque.

</details>

3. –ß–æ–º—É –≤—Å—Ç–∞–≤–∫–∞ —É `std::priority_queue` ‚Äî O(log n), –∞ –Ω–µ O(1)?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

Priority Queue —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ Binary Heap. –ü—ñ—Å–ª—è –≤—Å—Ç–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ —Ç—Ä–µ–±–∞ "–ø—ñ–¥–Ω—è—Ç–∏" –π–æ–≥–æ –≤–≥–æ—Ä—É –¥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó –ø–æ–∑–∏—Ü—ñ—ó (sift-up). –£ –≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É –≤—ñ–Ω –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –≤—Å—ñ —Ä—ñ–≤–Ω—ñ –¥–µ—Ä–µ–≤–∞ –≤–∏—Å–æ—Ç–æ—é log(n).

</details>

4. –Ø–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –∞–ª–≥–æ—Ä–∏—Ç–º—É BFS?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**Queue (—á–µ—Ä–≥–∞ ‚Äî FIFO)**. BFS –≤—ñ–¥–≤—ñ–¥—É—î –≤—É–∑–ª–∏ "—à–∞—Ä–∞–º–∏": —Å–ø–æ—á–∞—Ç–∫—É –≤—Å—ñ –Ω–∞ –≤—ñ–¥—Å—Ç–∞–Ω—ñ 1, –ø–æ—Ç—ñ–º 2 —Ç–æ—â–æ. Queue –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –º–∏ –æ–±—Ä–æ–±–ª—è—î–º–æ –≤—É–∑–ª–∏ —É —Ç–æ–º—É –∂ –ø–æ—Ä—è–¥–∫—É, –≤ —è–∫–æ–º—É —ó—Ö –¥–æ–¥–∞–ª–∏ ‚Äî —Ç–æ–±—Ç–æ, –±–ª–∏–∂—á—ñ –ø–µ—Ä—à–∏–º–∏.

</details>
