# –õ–µ–∫—Ü—ñ—è 19: Performance Engineering ‚Äî Big O —Ç–∞ –ë—Ä–µ—Ö–Ω—è CPU

[‚Üê –õ–µ–∫—Ü—ñ—è 18](18_modern_cpp_move_smart.md) | [Index](index.md) | [–î–∞–ª—ñ: –õ–µ–∫—Ü—ñ—è 20 ‚Üí](20_lists_vector.md)


## –ú–µ—Ç–∞
–ü–µ—Ä–µ—Å—Ç–∞—Ç–∏ –≥–∞–¥–∞—Ç–∏, —á–æ–º—É –∫–æ–¥ –≥–∞–ª—å–º—É—î. –ó—Ä–æ–∑—É–º—ñ—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ "–ê–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–æ—é —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—é" (Big O) —Ç–∞ "–†–µ–∞–ª—å–Ω–æ—é —à–≤–∏–¥–∫—ñ—Å—Ç—é" (Hardware Latency). –ù–∞–≤—á–∏—Ç–∏—Å—è –±–∞—á–∏—Ç–∏ O(N^2) –¥–æ –∑–∞–ø—É—Å–∫—É –∫–æ–¥—É.

## –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è
1.  –©–æ —à–≤–∏–¥—à–µ: –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ 1 –ú–ë –¥–∞–Ω–∏—Ö –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ —á–∏ –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ 1 –ú–ë –¥–∞–Ω–∏—Ö —Å—Ç—Ä–∏–±–∫–∞–º–∏ –ø–æ 4 –±–∞–π—Ç–∏ —É –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –º—ñ—Å—Ü—è—Ö?
2.  –Ø–∫—â–æ –∞–ª–≥–æ—Ä–∏—Ç–º –ê —Ä–æ–±–∏—Ç—å N –æ–ø–µ—Ä–∞—Ü—ñ–π, –∞ –∞–ª–≥–æ—Ä–∏—Ç–º –ë ‚Äî 100 * N, —è–∫–∏–π –∑ –Ω–∏—Ö –º–∞—î –∫—Ä–∞—â—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –≤ O-–Ω–æ—Ç–∞—Ü—ñ—ó?
3.  –ß–∏ –≥–∞—Ä–∞–Ω—Ç—É—î O(1) (–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∏–π —á–∞—Å) –º–∏—Ç—Ç—î–≤–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è?

<details markdown="1">
<summary>–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

1.  **–ü–æ—Å–ª—ñ–¥–æ–≤–Ω–æ ‚Äî —É ~30 —Ä–∞–∑—ñ–≤ —à–≤–∏–¥—à–µ.** –ú–µ—Ö–∞–Ω—ñ–∑–º **Prefetching** –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ –ø–µ—Ä–µ–¥–±–∞—á–∞—î –≤–∞—à—ñ –∫—Ä–æ–∫–∏ —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –¥–∞–Ω—ñ –≤ –∫–µ—à –Ω–∞–ø–µ—Ä–µ–¥ (Cache Lines). –í–∏–ø–∞–¥–∫–æ–≤–∏–π –¥–æ—Å—Ç—É–ø (Linked List) –ª–∞–º–∞—î —Ü—é –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é (Cache Misses).
2.  **–û–¥–Ω–∞–∫–æ–≤—É ‚Äî O(N).** –í Big O –º–∏ —ñ–≥–Ω–æ—Ä—É—î–º–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ —Ç–∞ –º–æ–ª–æ–¥—à—ñ —á–ª–µ–Ω–∏. –ê–ª–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É –∂–∏—Ç—Ç—ñ —Ü–µ–π –º–Ω–æ–∂–Ω–∏–∫ 100 –º–æ–∂–µ –±—É—Ç–∏ –∫—Ä–∏—Ç–∏—á–Ω–∏–º.
3.  **–ù—ñ.** O(1) –æ–∑–Ω–∞—á–∞—î, —â–æ —á–∞—Å **–Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å** –≤—ñ–¥ —Ä–æ–∑–º—ñ—Ä—É –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö N. –ê–ª–µ —Ü—è "–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞" –º–æ–∂–µ –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏ 5 —Ö–≤–∏–ª–∏–Ω–∞–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å—É–ø—É—Ç–Ω–∏–∫–æ–º).

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: Big O Notation (–¢–µ–æ—Ä—ñ—è)

–ú–∏ –æ—Ü—ñ–Ω—é—î–º–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –∑–∞ —Ç–∏–º, —è–∫ **—Ä–æ—Å—Ç–µ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è** –ø—Ä–∏ –∑—Ä–æ—Å—Ç–∞–Ω–Ω—ñ –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö (N) —É –Ω–∞–π–≥—ñ—Ä—à–æ–º—É –≤–∏–ø–∞–¥–∫—É (Worst Case).

### –ü—Ä–∞–≤–∏–ª–∞ –∞–Ω–∞–ª—ñ–∑—É –∫–æ–¥—É (Code Analysis Rules)

**–ü—Ä–∞–≤–∏–ª–æ 1: –¶–∏–∫–ª–∏ (For Loops)**
–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å = –ö—ñ–ª—å–∫—ñ—Å—Ç—å —ñ—Ç–µ—Ä–∞—Ü—ñ–π * –°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ç—ñ–ª–∞ —Ü–∏–∫–ª—É.
```cpp
// N —ñ—Ç–µ—Ä–∞—Ü—ñ–π, —Ç—ñ–ª–æ O(1)
for (int i = 0; i < N; i++) {
    k++; 
}
// Total: O(N)

```

**–ü—Ä–∞–≤–∏–ª–æ 2: –í–∫–ª–∞–¥–µ–Ω—ñ —Ü–∏–∫–ª–∏ (Nested Loops)**
–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å = –î–æ–±—É—Ç–æ–∫ —Ä–æ–∑–º—ñ—Ä—ñ–≤ —Ü–∏–∫–ª—ñ–≤.

```cpp
// –ó–æ–≤–Ω—ñ—à–Ω—ñ–π: N —Ä–∞–∑—ñ–≤
for (int i = 0; i < N; i++) {
    // –í–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π: N —Ä–∞–∑—ñ–≤
    for (int j = 0; j < N; j++) {
        k++; 
    }
}
// Total: O(N * N) = O(N^2)

```

**–ü—Ä–∞–≤–∏–ª–æ 3: –ü–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ –¥—ñ—ó**
–ú–∏ –¥–æ–¥–∞—î–º–æ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ, –∞–ª–µ –∑–∞–ª–∏—à–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ –¥–æ–º—ñ–Ω—É—é—á—É (–Ω–∞–π–±—ñ–ª—å—à—É).

```cpp
for (int i = 0; i < N; i++) { ... }       // O(N)
for (int i = 0; i < N; i++) {             // O(N^2)
   for (int j = 0; j < N; j++) { ... } 
}
// Math: O(N + N^2)
// Engineering: O(N^2) (–ö–≤–∞–¥—Ä–∞—Ç "–∑'—ó–¥–∞—î" –ª—ñ–Ω—ñ—é –ø—Ä–∏ –≤–µ–ª–∏–∫–∏—Ö N)

```

### –®–∫–∞–ª–∞ –∂–∞—Ö—É (–≤—ñ–¥ –∫—Ä–∞—â–æ–≥–æ –¥–æ –≥—ñ—Ä—à–æ–≥–æ):

| –ù–æ—Ç–∞—Ü—ñ—è | –ù–∞–∑–≤–∞ | –ü—Ä–∏–∫–ª–∞–¥ | –ö–æ–º–µ–Ω—Ç–∞—Ä |
| --- | --- | --- | --- |
| **O(1)** | Constant | `arr[i]`, `push_back` | –ú—Ä—ñ—è —ñ–Ω–∂–µ–Ω–µ—Ä–∞. |
| **O(log N)** | Logarithmic | Binary Search, `std::map` | –î—É–∂–µ —à–≤–∏–¥–∫–æ. –ü–æ–¥–≤–æ—î–Ω–Ω—è –¥–∞–Ω–∏—Ö –¥–æ–¥–∞—î –ª–∏—à–µ +1 –∫—Ä–æ–∫. |
| **O(N)** | Linear | `for` loop, `std::find` | –ù–æ—Ä–º–∞. –ß–∞—Å —Ä–æ—Å—Ç–µ –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ –¥–∞–Ω–∏–º. |
| **O(N log N)** | Linearithmic | `std::sort`, MergeSort | –ù–∞–π–∫—Ä–∞—â–∏–π —á–∞—Å –¥–ª—è —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è. |
| **O(N^2)** | Quadratic | Bubble Sort, Nested loops | **–ì–∞–ª—å–º—É—î** –ø—Ä–∏ N > 10,000. |
| **O(2^N)** | Exponential | Fibonacci Recursive | **–°–º–µ—Ä—Ç—å** –ø—Ä–∏ N > 40. |

### Scale of Universe Comparison

> **üí° Mathematical Examples from Source Material**  
> –î–∂–µ—Ä–µ–ª–æ: s02e06. Introduction to Algorithms.pdf, —Å—Ç–æ—Ä. 449

![Algorithm Complexity Scale ‚Äî –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è O(1) –¥–æ O(2^N)](attachments/algo-000.jpg)

*–†–∏—Å. 1: –®–∫–∞–ª–∞ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∏—Ö —Å–∫–ª–∞–¥–Ω–æ—Å—Ç–µ–π ‚Äî –≤—ñ–¥ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–æ–≥–æ –¥–æ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É*

–©–æ–± –≤—ñ–¥—á—É—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—è–º–∏, –ø–æ–¥–∏–≤–∏–º–æ—Å—è, —Å–∫—ñ–ª—å–∫–∏ —á–∞—Å—É –∑–∞–π–º—É—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –Ω–∞ —Å—É—á–∞—Å–Ω–æ–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ (1 GHz CPU, 1 –º–ª—Ä–¥ –æ–ø–µ—Ä–∞—Ü—ñ–π/—Å):

| Algorithm | n=1,000 | n=1,000,000 | n=1,000,000,000 |
|-----------|---------|-------------|-----------------|
| **O(1)** | 1 ns | 1 ns  | 1 ns |
| **O(log n)** | ~10 ns | ~20 ns | ~30 ns |
| **O(n)** | 1 Œºs | 1 ms | 1 second |
| **O(n log n)** | 10 Œºs | 20 ms | 30 seconds |
| **O(n¬≤)** | 1 ms | 16.7 minutes | **31,688 years** |
| **O(2‚Åø)** | **10¬≤‚Å∏¬π millenia** | Heat death of universe | Beyond comprehension |

**Key Insights:**
- O(n¬≤) –¥–ª—è n=10‚Åπ: **31 —Ç–∏—Å—è—á–∞ —Ä–æ–∫—ñ–≤**. –¶–µ –¥–æ–≤—à–µ, –Ω—ñ–∂ —ñ—Å–Ω—É—î –ø–∏—Å—å–º–µ–Ω–Ω—ñ—Å—Ç—å –ª—é–¥—Å—Ç–≤–∞!
- O(2‚Åø) –¥–ª—è n=1000: **10¬≤‚Å∏¬π millenia** (–æ–¥–∏–Ω–∏—Ü—è –∑ 281 –Ω—É–ª–µ–º). –î–ª—è –ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è, –≤—ñ–∫ –í—Å–µ—Å–≤—ñ—Ç—É ‚Äî 10¬π‚Å∞ —Ä–æ–∫—ñ–≤.

> **Engineering Rule:** –Ø–∫—â–æ –≤–∞—à –∞–ª–≥–æ—Ä–∏—Ç–º O(2‚Åø) —ñ n > 30, –≤–∏ –º–∞—î—Ç–µ –ø—Ä–æ–±–ª–µ–º—É. –ù–∞–≤—ñ—Ç—å –Ω–∞–π—à–≤–∏–¥—à–∏–π —Å—É–ø–µ—Ä–∫–æ–º–ø'—é—Ç–µ—Ä –Ω–µ –¥–æ–ø–æ–º–æ–∂–µ.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: Hardware Reality (–ú–∞—Å—à—Ç–∞–± —á–∞—Å—É)

–¢–µ–æ—Ä—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —á–∞—Å—Ç–æ —ñ–≥–Ω–æ—Ä—É—î –∑–∞–ª—ñ–∑–æ. –¶–µ –ø–æ–º–∏–ª–∫–∞.
–°—É—á–∞—Å–Ω–∏–π CPU –Ω–∞–±–∞–≥–∞—Ç–æ —à–≤–∏–¥—à–∏–π –∑–∞ –ø–∞–º'—è—Ç—å (Memory Wall).

–©–æ–± –≤—ñ–¥—á—É—Ç–∏ —Ü–µ, —É—è–≤—ñ–º–æ, —â–æ **1 —Ç–∞–∫—Ç –ø—Ä–æ—Ü–µ—Å–æ—Ä–∞ (0.3 –Ω—Å) = 1 —Å–µ–∫—É–Ω–¥–∞** –ª—é–¥—Å—å–∫–æ–≥–æ –∂–∏—Ç—Ç—è.

| –ü–æ–¥—ñ—è | –†–µ–∞–ª—å–Ω–∏–π —á–∞—Å | **–õ—é–¥—Å—å–∫–∏–π –º–∞—Å—à—Ç–∞–±** (—è–∫—â–æ 1 —Ç–∞–∫—Ç = 1 —Å) |
| --- | --- | --- |
| **1 CPU Cycle** | 0.3 ns | **1 —Å–µ–∫—É–Ω–¥–∞** (–æ–¥–Ω–µ —Å–µ—Ä—Ü–µ–±–∏—Ç—Ç—è) |
| **L1 Cache access** | 1 ns | **3 —Å–µ–∫—É–Ω–¥–∏** (–≤–∑—è—Ç–∏ –∫–Ω–∏–≥—É –∑—ñ —Å—Ç–æ–ª—É) |
| **L2 Cache access** | 4 ns | **12 —Å–µ–∫—É–Ω–¥** (–¥—ñ–π—Ç–∏ –¥–æ –∫–Ω–∏–∂–∫–æ–≤–æ—ó –ø–æ–ª–∏—Ü—ñ) |
| **RAM Access** (Main Memory) | 100 ns | **5 —Ö–≤–∏–ª–∏–Ω** (—Å—Ö–æ–¥–∏—Ç–∏ –∑–∞ –∫–∞–≤–æ—é –≤ —Å—É—Å—ñ–¥–Ω—é –±—É–¥—ñ–≤–ª—é) |
| **SSD Access** (NVMe) | 100 us | **3-4 –¥–Ω—ñ** (–ø–æ—ó–∑–¥–∫–∞ –º–∞—à–∏–Ω–æ—é –û–¥–µ—Å–∞-–õ—å–≤—ñ–≤ —ñ –Ω–∞–∑–∞–¥) |
| **HDD Access** (Rotational) | 10 ms | **1 —Ä—ñ–∫** (–ø—ñ—à–∞ –ø–æ–¥–æ—Ä–æ–∂ –Ω–∞–≤–∫–æ–ª–æ —Å–≤—ñ—Ç—É) |
| **Internet Call** (Ping) | 150 ms | **15 —Ä–æ–∫—ñ–≤** (–≤–∏—Ä–æ—Å—Ç–∏—Ç–∏ –¥–∏—Ç–∏–Ω—É) |

> **–Ü–Ω—Å–∞–π—Ç:** –ö–æ–∂–Ω–æ–≥–æ —Ä–∞–∑—É, –∫–æ–ª–∏ –ø—Ä–æ—Ü–µ—Å–æ—Ä –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ RAM (—á–µ—Ä–µ–∑ `std::list` –∞–±–æ Cache Miss), –≤—ñ–Ω "–π–¥–µ –ø–∏—Ç–∏ –∫–∞–≤—É" –Ω–∞ 5 —Ö–≤–∏–ª–∏–Ω. –û—Å—å —á–æ–º—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, —â–æ —Ç—Ä–∏–º–∞—é—Ç—å –¥–∞–Ω—ñ —â—ñ–ª—å–Ω–æ (`std::vector`), –ø–µ—Ä–µ–º–∞–≥–∞—é—Ç—å.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: –ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Äî Benchmark (`std::chrono`)

–ù–µ –≤—ñ—Ä—Ç–µ —ñ–Ω—Ç—É—ó—Ü—ñ—ó ("–º–µ–Ω—ñ –∑–¥–∞—î—Ç—å—Å—è, —Ü–µ —à–≤–∏–¥–∫–æ"). –ú—ñ—Ä—è–π—Ç–µ.
–°–∫–æ–ø—ñ—é–π—Ç–µ —Ü–µ–π –∫–æ–¥ —ñ –∑–∞–ø—É—Å—Ç—ñ—Ç—å —É —Å–µ–±–µ.

```cpp
#include <iostream>
#include <vector>
#include <cmath>
#include <chrono> // 1. –ü—ñ–¥–∫–ª—é—á–∞—î–º–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É —á–∞—Å—É

// –¢–∞–π–ø–¥–µ—Ñ –¥–ª—è —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è –∫–æ–¥—É
using namespace std::chrono;

int main() {
    // –ì–æ—Ç—É—î–º–æ –¥–∞–Ω—ñ: 10 –º—ñ–ª—å–π–æ–Ω—ñ–≤ —á–∏—Å–µ–ª
    const int N = 10'000'000;
    std::vector<double> data(N, 1.5);

    std::cout << "Benchmarking " << N << " elements...\n\n";

    // --- Benchmark 1: Simple Sum (–õ–µ–≥–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è) ---
    auto start = high_resolution_clock::now(); // 2. –°—Ç–∞—Ä—Ç
    
    double sum = 0;
    for(double val : data) {
        sum += val; // –ü—Ä–æ—Ü–µ—Å–æ—Ä —Ä–æ–±–∏—Ç—å —Ü–µ –∑–∞ < 1 —Ç–∞–∫—Ç—É (—Å—É–ø–µ—Ä—Å–∫–∞–ª—è—Ä–Ω—ñ—Å—Ç—å)
    }

    auto stop = high_resolution_clock::now(); // 3. –°—Ç–æ–ø
    
    // 4. –ü–µ—Ä–µ–≤–æ–¥–∏–º–æ –≤ –º—ñ–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∏
    auto duration = duration_cast<microseconds>(stop - start);
    
    std::cout << "[Simple Loop]\n";
    std::cout << "Result: " << sum << "\n";
    std::cout << "Time:   " << duration.count() / 1000.0 << " ms\n"; // ~5-10 ms


    // --- Benchmark 2: Heavy Math (–í–∞–∂–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è) ---
    start = high_resolution_clock::now();
    
    double heavySum = 0;
    for(double val : data) {
        // –¢—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä—ñ—è ‚Äî —Ü–µ –¥—É–∂–µ –¥–æ—Ä–æ–≥–æ –¥–ª—è CPU
        heavySum += std::sin(val) * std::cos(val);
    }

    stop = high_resolution_clock::now();
    duration = duration_cast<microseconds>(stop - start);
    
    std::cout << "\n[Heavy Loop]\n";
    std::cout << "Result: " << heavySum << "\n";
    std::cout << "Time:   " << duration.count() / 1000.0 << " ms\n"; // ~300-500 ms
    
    return 0;
}

```

---

## –ß–∞—Å—Ç–∏–Ω–∞ 4: –†–µ–∫—É—Ä—Å—ñ—è ‚Äî –î—Ä—É–≥ —á–∏ –í–æ—Ä–æ–≥?

–ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –§—ñ–±–æ–Ω–∞—á—á—ñ.

```cpp
// O(2^N) ‚Äî –ï–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–∞–ª—å–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
long fib(int n) {
    if (n <= 1) return 1;
    return fib(n-1) + fib(n-2);
}

```

**–ß–æ–º—É —Ü–µ –ø–æ–≥–∞–Ω–æ?**

* –©–æ–± –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ `fib(5)`, –º–∏ —Ä–∞—Ö—É—î–º–æ `fib(3)` **–¥–≤—ñ—á—ñ**.
* –©–æ–± –ø–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ `fib(50)`, –∫–æ–º–ø'—é—Ç–µ—Ä—É –∑–Ω–∞–¥–æ–±–ª—è—Ç—å—Å—è —Ä–æ–∫–∏.
* –î–µ—Ä–µ–≤–æ –≤–∏–∫–ª–∏–∫—ñ–≤ —Ä–æ—Å—Ç–µ —è–∫ –ª–∞–≤–∏–Ω–∞.

**–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ **—Ü–∏–∫–ª** (Iteration) –∞–±–æ **Memoization** (–∑–∞–ø–∞–º'—è—Ç–æ–≤—É–≤–∞–Ω–Ω—è –≤–∂–µ –ø–æ—Ä–∞—Ö–æ–≤–∞–Ω–∏—Ö –∑–Ω–∞—á–µ–Ω—å). –£ —Ü–∏–∫–ª—ñ —Ü–µ O(N).

---

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

**–î–∏–≤.:** [–ü—Ä–∞–∫—Ç–∏–∫—É–º 12: Performance Lab](p12_performance_lab.md) ‚Äî –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∫–æ–¥—É —Ç–∞ –ø—Ä–æ—Ñ—ñ–ª—é–≤–∞–Ω–Ω—è.

**–ü–æ–≥–ª–∏–±–ª–µ–Ω–µ –≤–∏–≤—á–µ–Ω–Ω—è:** [–õ–µ–∫—Ü—ñ—è 24: Performance Deep Dive](24_performance_deep_dive.md) ‚Äî advanced profiling tools (perf), compiler optimization flags, —Ç–∞ –µ–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è.

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. **–ü–∏—Ç–∞–Ω–Ω—è:** –£ –≤–∞—Å —î –≤–∫–ª–∞–¥–µ–Ω–∏–π —Ü–∏–∫–ª: –∑–æ–≤–Ω—ñ—à–Ω—ñ–π –π–¥–µ –¥–æ N, –∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π ‚Äî —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ 100 —Ä–∞–∑—ñ–≤. –Ø–∫–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å: O(N^2) —á–∏ O(N)?
<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**O(N).** –¢–æ—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫: N * 100. –í Big O –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∏ –≤—ñ–¥–∫–∏–¥–∞—é—Ç—å—Å—è. –î–ª—è –≤–µ–ª–∏–∫–∏—Ö N —Ü–µ –ª—ñ–Ω—ñ–π–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º.
</details>

2. **–ü–∏—Ç–∞–Ω–Ω—è:** –ß–æ–º—É –¥–æ—Å—Ç—É–ø –¥–æ –∂–æ—Ä—Å—Ç–∫–æ–≥–æ –¥–∏—Å–∫–∞ (HDD) –Ω–∞–∑–∏–≤–∞—é—Ç—å "–≤–±–∏–≤—Ü–µ—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ"?
<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

–£ "–ª—é–¥—Å—å–∫–æ–º—É –º–∞—Å—à—Ç–∞–±—ñ" –¥–æ—Å—Ç—É–ø –¥–æ HDD –∑–∞–π–º–∞—î **1 —Ä—ñ–∫** (–ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ 1 —Å–µ–∫—É–Ω–¥–æ—é CPU). –ë—É–¥—å-—è–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑ –¥–∏—Å–∫–æ–º —É –≥–æ–ª–æ–≤–Ω–æ–º—É –ø–æ—Ç–æ—Ü—ñ –∑–∞–º–æ—Ä–æ–∂—É—î –ø—Ä–æ–≥—Ä–∞–º—É (UI Lag).
</details>

3. **–ü–∏—Ç–∞–Ω–Ω—è:** –ê–ª–≥–æ—Ä–∏—Ç–º A —Ä–æ–±–∏—Ç—å 1000 * N –æ–ø–µ—Ä–∞—Ü—ñ–π, –∞ –ê–ª–≥–æ—Ä–∏—Ç–º B —Ä–æ–±–∏—Ç—å N^2. –ü—Ä–∏ —è–∫–æ–º—É (–ø—Ä–∏–±–ª–∏–∑–Ω–æ) N –∞–ª–≥–æ—Ä–∏—Ç–º B —Å—Ç–∞–Ω–µ –ø–æ–≤—ñ–ª—å–Ω—ñ—à–∏–º –∑–∞ A?
<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**–ü—Ä–∏ N > 1000.**
–†—ñ–≤–Ω—è–Ω–Ω—è: 1000*N = N^2 => N = 1000.
–ü—Ä–∏ –º–∞–ª–∏—Ö –¥–∞–Ω–∏—Ö (N < 1000) –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –º–æ–∂–µ –±—É—Ç–∏ —à–≤–∏–¥—à–∏–º —á–µ—Ä–µ–∑ –º–µ–Ω—à—ñ –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏ (overhead). –ê–ª–µ –º–∏ –æ–ø—Ç–∏–º—ñ–∑—É—î–º–æ –ø—ñ–¥ –≤–µ–ª–∏–∫—ñ –¥–∞–Ω—ñ, —Ç–æ–º—É O(N) –∑–∞–≤–∂–¥–∏ –≤–∏–≥—Ä–∞—î –≤ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—ñ.
</details>

4. **–ü–∏—Ç–∞–Ω–Ω—è:** –í–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ `std::vector::insert` (–≤—Å—Ç–∞–≤–∫–∞ –≤ –ø–æ—á–∞—Ç–æ–∫) –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ü–∏–∫–ª—É `for`. –Ø–∫–∞ –∑–∞–≥–∞–ª—å–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å?
<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å</summary>

**O(N^2).**
–¶–∏–∫–ª –¥–∞—î N. –í—Å—Ç–∞–≤–∫–∞ –≤ –ø–æ—á–∞—Ç–æ–∫ –≤–µ–∫—Ç–æ—Ä–∞ –∑–º—É—à—É—î –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ –≤—Å—ñ —ñ—Å–Ω—É—é—á—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤–ø—Ä–∞–≤–æ ‚Äî —Ü–µ –æ–ø–µ—Ä–∞—Ü—ñ—è O(N).
–†–∞–∑–æ–º: N * N = N^2. –¶–µ –∫–ª–∞—Å–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ (Hidden Complexity). –î–ª—è —Ç–∞–∫–∏—Ö –∑–∞–¥–∞—á –∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å `std::list` –∞–±–æ `std::deque`.
</details>
