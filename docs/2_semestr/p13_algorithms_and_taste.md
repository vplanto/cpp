# –ü—Ä–∞–∫—Ç–∏–∫—É–º 13: –ê–ª–≥–æ—Ä–∏—Ç–º–∏ —Ç–∞ "Good Taste" (Torvalds Edition)

‚Üê [Index](index.md)

**–¢–µ–æ—Ä—ñ—è:** [–õ–µ–∫—Ü—ñ—è 20: Vector vs List](20_lists_vector.md)

---


## –†–æ–ª—å: Kernel Developer

–°—å–æ–≥–æ–¥–Ω—ñ –º–∏ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ–º–æ –∫–æ–¥, —â–æ "–ø—Ä–∞—Ü—é—î". –ú–∏ –ø–∏—à–µ–º–æ –∫–æ–¥, —è–∫–∏–π –º–∞—î "–°–º–∞–∫" (Good Taste).
–ú–∏ —Ä–æ–∑–±–µ—Ä–µ–º–æ –¥–≤–∞ –∫–µ–π—Å–∏: –∞–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω—É –∑–∞–¥–∞—á—É –Ω–∞ –ª–æ–≥—ñ–∫—É —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—Ç–∏ –∑ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞–º–∏ –≤—ñ–¥ –õ—ñ–Ω—É—Å–∞ –¢–æ—Ä–≤–∞–ª—å–¥—Å–∞.

---

## üß© –ß–∞—Å—Ç–∏–Ω–∞ 1: The Circular Train Problem (Logic & Complexity)

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –í–∏ –∑–∞–º–∫–Ω–µ–Ω—ñ —É –ø–æ—Ç—è–∑—ñ, —è–∫–∏–π –∑'—î–¥–Ω–∞–Ω–∏–π —É –∫—ñ–ª—å—Ü–µ (–æ—Å—Ç–∞–Ω–Ω—ñ–π –≤–∞–≥–æ–Ω –∑'—î–¥–Ω–∞–Ω–∏–π –∑ –ø–µ—Ä—à–∏–º). –í–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ, —Å–∫—ñ–ª—å–∫–∏ –≤–∞–≥–æ–Ω—ñ–≤ ($N$). –£ –∫–æ–∂–Ω–æ–º—É –≤–∞–≥–æ–Ω—ñ —î –ª–∞–º–ø–æ—á–∫–∞, —è–∫—É –º–æ–∂–Ω–∞ –≤–≤—ñ–º–∫–Ω—É—Ç–∏ (ON) –∞–±–æ –≤–∏–º–∫–Ω—É—Ç–∏ (OFF).
–ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω –ª–∞–º–ø–æ—á–æ–∫ ‚Äî –≤–∏–ø–∞–¥–∫–æ–≤–∏–π.

**–ó–∞–¥–∞—á–∞:** –ü–æ—Ä–∞—Ö—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∞–≥–æ–Ω—ñ–≤ $N$.
**–û–±–º–µ–∂–µ–Ω–Ω—è:**
1.  –í–∏ –º–æ–∂–µ—Ç–µ –≤–º–∏–∫–∞—Ç–∏/–≤–∏–º–∏–∫–∞—Ç–∏ —Å–≤—ñ—Ç–ª–æ –¢–Ü–õ–¨–ö–ò —É –ø–æ—Ç–æ—á–Ω–æ–º—É –≤–∞–≥–æ–Ω—ñ.
2.  –í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–∏ –≤–ø–µ—Ä–µ–¥ –∞–±–æ –Ω–∞–∑–∞–¥.
3.  –í–∏ –Ω–µ –±–∞—á–∏—Ç–µ —Å–≤—ñ—Ç–ª–æ –≤ —ñ–Ω—à–∏—Ö –≤–∞–≥–æ–Ω–∞—Ö, –ø–æ–∫–∏ –Ω–µ –∑–∞–π–¥–µ—Ç–µ –≤ –Ω–∏—Ö.

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥—ñ–π (–ê–Ω–∞–ª—ñ–∑ `CabinCount.cpp`)

–ú–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø—Ä–æ—Å—Ç–æ –π—Ç–∏ –≤–ø–µ—Ä–µ–¥ —ñ —Ä–∞—Ö—É–≤–∞—Ç–∏, –±–æ –Ω–µ –∑–Ω–∞—î–º–æ, –∫–æ–ª–∏ –ø–æ–≤–µ—Ä–Ω—É–ª–∏—Å—è –Ω–∞ —Å—Ç–∞—Ä—Ç (–≤–∞–≥–æ–Ω–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ).
–ù–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω **–ú–∞—Ä–∫–µ—Ä**.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1.  –í–º–∏–∫–∞—î–º–æ —Å–≤—ñ—Ç–ª–æ –≤ –ø–æ—Ç–æ—á–Ω–æ–º—É –≤–∞–≥–æ–Ω—ñ (–°—Ç–∞—Ä—Ç).
2.  –ô–¥–µ–º–æ –≤–ø–µ—Ä–µ–¥ –Ω–∞ $K$ –∫—Ä–æ–∫—ñ–≤ (—Å–ø–æ—á–∞—Ç–∫—É $K=1$).
3.  –í–∏–º–∏–∫–∞—î–º–æ —Å–≤—ñ—Ç–ª–æ –≤ —Ü—å–æ–º—É –≤–∞–≥–æ–Ω—ñ ($K$-—Ç–æ–º—É).
4.  –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—è –Ω–∞–∑–∞–¥ –Ω–∞ $K$ –∫—Ä–æ–∫—ñ–≤ (–¥–æ –°—Ç–∞—Ä—Ç—É).
5.  –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ: **–°–≤—ñ—Ç–ª–æ –≥–æ—Ä–∏—Ç—å?**
    * **–¢–ê–ö:** –ó–Ω–∞—á–∏—Ç—å, —Ç–æ–π –≤–∞–≥–æ–Ω, –¥–µ –º–∏ –≤–∏–º–∫–Ω—É–ª–∏ —Å–≤—ñ—Ç–ª–æ, ‚Äî —Ü–µ –ù–ï –Ω–∞—à —Å—Ç–∞—Ä—Ç–æ–≤–∏–π –≤–∞–≥–æ–Ω. –ú–∏ —â–µ –Ω–µ –ø—Ä–æ–π—à–ª–∏ –∫–æ–ª–æ. –ó–±—ñ–ª—å—à—É—î–º–æ $K$ —ñ –ø–æ–≤—Ç–æ—Ä—é—î–º–æ.
    * **–ù–Ü:** –ó–Ω–∞—á–∏—Ç—å, –∫–æ–ª–∏ –º–∏ –≤–∏–º–∫–Ω—É–ª–∏ —Å–≤—ñ—Ç–ª–æ "—Ç–∞–º", –≤–æ–Ω–æ –∑–≥–∞—Å–ª–æ "—Ç—É—Ç". –¶–µ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –≤–∞–≥–æ–Ω! –ú–∏ –ø—Ä–æ–π—à–ª–∏ –∫–æ–ª–æ. **–í—ñ–¥–ø–æ–≤—ñ–¥—å = K.**

### –ó–∞–≤–¥–∞–Ω–Ω—è
–†–µ–∞–ª—ñ–∑—É–π—Ç–µ —Ü–µ–π –∞–ª–≥–æ—Ä–∏—Ç–º.
–í–∞–º –Ω–∞–¥–∞–Ω–æ —Å–∏–º—É–ª—è—Ç–æ—Ä –ø–æ—Ç—è–≥–∞ (–º–∞—Å–∏–≤ `vector<bool> train`).

```cpp
// –§—É–Ω–∫—Ü—ñ—ó, —è–∫—ñ –≤–∞–º –¥–æ—Å—Ç—É–ø–Ω—ñ (API):
void setLight(bool on);   // –í–∫–ª/–í–∏–∫–ª
bool getLight();          // –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω
void moveForward();       // –ö—Ä–æ–∫ –≤–ø–µ—Ä–µ–¥
void moveBackward();      // –ö—Ä–æ–∫ –Ω–∞–∑–∞–¥

```

**–ü–∏—Ç–∞–Ω–Ω—è –Ω–∞ 12 –±–∞–ª—ñ–≤:**
–Ø–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ—á–Ω–∞ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —Ü—å–æ–≥–æ —Ä—ñ—à–µ–Ω–Ω—è?

* –ú–∏ —Ä–æ–±–∏–º–æ 1 –∫—Ä–æ–∫ –≤–ø–µ—Ä–µ–¥, 1 –Ω–∞–∑–∞–¥.
* –ü–æ—Ç—ñ–º 2 –≤–ø–µ—Ä–µ–¥, 2 –Ω–∞–∑–∞–¥.
* ...
* –ü–æ—Ç—ñ–º  –≤–ø–µ—Ä–µ–¥,  –Ω–∞–∑–∞–¥.
* –°—É–º–∞ –∫—Ä–æ–∫—ñ–≤: .
* **–†–µ–∑—É–ª—å—Ç–∞—Ç:** . –¶–µ –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º. –ß–∏ –º–æ–∂–Ω–∞ —à–≤–∏–¥—à–µ? (–ü–æ–¥—É–º–∞–π—Ç–µ –≤–¥–æ–º–∞).

---

## üé® –ß–∞—Å—Ç–∏–Ω–∞ 2: Linus Torvalds —Ç–∞ "Good Taste" (Linked List)

–õ—ñ–Ω—É—Å –¢–æ—Ä–≤–∞–ª—å–¥—Å (—Ç–≤–æ—Ä–µ—Ü—å Linux) —è–∫–æ—Å—å —Å–∫–∞–∑–∞–≤:

> *"I will judge you by how you remove an element from a linked list."*

–í—ñ–Ω –Ω–∞–≤—ñ–≤ –ø—Ä–∏–∫–ª–∞–¥ –¥–≤–æ—Ö –ø—ñ–¥—Ö–æ–¥—ñ–≤ –¥–æ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞ –∑—ñ –∑–≤'—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫—É.

### –í–∞—Ä—ñ–∞–Ω—Ç 1: "Student Style" (Bad Taste)

–ë—ñ–ª—å—à—ñ—Å—Ç—å –ª—é–¥–µ–π –ø–∏—à—É—Ç—å —Ç–∞–∫. –ú–∏ –º–∞—î–º–æ –æ–∫—Ä–µ–º–æ –æ–±—Ä–æ–±–∏—Ç–∏ –≤–∏–ø–∞–¥–æ–∫, –∫–æ–ª–∏ –≤–∏–¥–∞–ª—è—î–º–æ **–ø–µ—Ä—à–∏–π** –µ–ª–µ–º–µ–Ω—Ç (Head), –±–æ —É –Ω—å–æ–≥–æ –Ω–µ–º–∞—î "–ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ" (`prev`).

```cpp
void remove_bad(Node* entry) {
    Node* prev = nullptr;
    Node* walk = head;

    // 1. –®—É–∫–∞—î–º–æ –µ–ª–µ–º–µ–Ω—Ç
    while (walk != entry) {
        prev = walk;
        walk = walk->next;
    }

    // 2. –í–∏–¥–∞–ª—è—î–º–æ
    if (!prev) {
        // –û–∫—Ä–µ–º–∏–π if –¥–ª—è –≥–æ–ª–æ–≤–∏!
        head = entry->next;
    } else {
        // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –≤–∏–ø–∞–¥–æ–∫
        prev->next = entry->next;
    }
}

```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–π–≤–∏–π `if`. –£—Å–∫–ª–∞–¥–Ω–µ–Ω–Ω—è –ª–æ–≥—ñ–∫–∏ (Edge Case).

### –í–∞—Ä—ñ–∞–Ω—Ç 2: "Linus Style" (Good Taste)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ **–≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫** (`Node**`).
–ú–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ *–Ω–æ–¥—É* (`prev`), –º–∏ –∑–±–µ—Ä—ñ–≥–∞—î–º–æ –∞–¥—Ä–µ—Å—É *–º—ñ—Å—Ü—è, –∑–≤—ñ–¥–∫–∏ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è* –Ω–∞ –ø–æ—Ç–æ—á–Ω—É –Ω–æ–¥—É.

* –î–ª—è –ø–µ—Ä—à–æ—ó –Ω–æ–¥–∏ ‚Äî —Ü–µ –∞–¥—Ä–µ—Å–∞ –∑–º—ñ–Ω–Ω–æ—ó `head`.
* –î–ª—è —ñ–Ω—à–∏—Ö ‚Äî —Ü–µ –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—è `next` –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ—ó –Ω–æ–¥–∏.

–î–ª—è –∫–æ–º–ø'—é—Ç–µ—Ä–∞ —Ü–µ –æ–¥–Ω–µ –π —Ç–µ —Å–∞–º–µ –º—ñ—Å—Ü–µ –≤ –ø–∞–º'—è—Ç—ñ!

```cpp
void remove_tasteful(Node* entry) {
    // indirect - —Ü–µ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫, —è–∫–∏–π –∑–∞—Ä–∞–∑ "—Ç—Ä–∏–º–∞—î" –Ω–∞—à—É –Ω–æ–¥—É
    Node** indirect = &head; 

    // –®—É–∫–∞—î–º–æ, –ø–æ–∫–∏ (*indirect) –Ω–µ —Å—Ç–∞–Ω–µ –Ω–∞—à–∏–º entry
    while ((*indirect) != entry) {
        indirect = &(*indirect)->next; // –ë–µ—Ä–µ–º–æ –∞–¥—Ä–µ—Å—É –ø–æ–ª—è next
    }

    // –í–∏–¥–∞–ª—è—î–º–æ. –ñ–æ–¥–Ω–∏—Ö if!
    // –ú–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–ø–∏—Å—É—î–º–æ "–≤—Ö—ñ–¥–Ω–∏–π –ª—ñ–Ω–∫" –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ–ª–µ–º–µ–Ω—Ç.
    *indirect = entry->next;
}

```

### –ó–∞–≤–¥–∞–Ω–Ω—è

1. –ù–∞–º–∞–ª—é–π—Ç–µ –Ω–∞ –ø–∞–ø–µ—Ä—ñ, —è–∫ –ø—Ä–∞—Ü—é—î `Node** indirect`, –∫–æ–ª–∏ –º–∏ –≤–∏–¥–∞–ª—è—î–º–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç.
2. –†–µ–∞–ª—ñ–∑—É–π—Ç–µ –æ–±–∏–¥–≤–∞ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —É `main.cpp` —ñ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–æ–Ω–∏ –ø—Ä–∞—Ü—é—é—Ç—å.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: Container Wars (Cache Locality)

–î–æ–≤–µ–¥–µ–º–æ —Ç–µ, —â–æ –≤–∏–≤—á–∏–ª–∏ –≤ –õ–µ–∫—Ü—ñ—ó 19.

**–ó–∞–≤–¥–∞–Ω–Ω—è:**

1. –°—Ç–≤–æ—Ä—ñ—Ç—å `std::vector<int>` —Ç–∞ `std::list<int>`.
2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–∏–¥–≤–∞ 100 000 –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —á–∏—Å–µ–ª.
3. **–í–∏–º—ñ—Ä—è–π—Ç–µ —á–∞—Å —Å—É–º—É–≤–∞–Ω–Ω—è** –≤—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (–ø—Ä–æ—Ö—ñ–¥ –≤—ñ–¥ –ø–æ—á–∞—Ç–∫—É –¥–æ –∫—ñ–Ω—Ü—è).

```cpp
// –ü—ñ–¥–∫–∞–∑–∫–∞ –¥–ª—è –∑–∞–º—ñ—Ä—É
auto start = std::chrono::high_resolution_clock::now();
long long sum = 0;
for (int x : my_container) sum += x;
auto end = std::chrono::high_resolution_clock::now();

```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** `vector` –º–∞—î –±—É—Ç–∏ –≤ 2-10 —Ä–∞–∑—ñ–≤ —à–≤–∏–¥—à–∏–º –∑–∞ `list` (–Ω–∞–≤—ñ—Ç—å –±–µ–∑ `-O3`).
**–ü—Ä–∏—á–∏–Ω–∞:** Cache Misses. `list` –∑–º—É—à—É—î –ø—Ä–æ—Ü–µ—Å–æ—Ä —Å—Ç—Ä–∏–±–∞—Ç–∏ –ø–æ –ø–∞–º'—è—Ç—ñ, `vector` ‚Äî –Ω—ñ.

**–ó–∞–≤–¥–∞–Ω–Ω—è:**

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–¥. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –∞–¥—Ä–µ—Å–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ.
2. –í–∏–∫–ª–∏—á—Ç–µ `delete[] s1.grades;`. –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è –∑ `s2.grades`? (Dangling Pointer).
3. –ù–∞–ø–∏—à—ñ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π Copy Constructor –¥–ª—è `Student`.

---

## Definition of Done

1. **–ü–æ—Ç—è–≥:** –ê–ª–≥–æ—Ä–∏—Ç–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–µ —á–∏—Å–ª–æ –≤–∞–≥–æ–Ω—ñ–≤ –¥–ª—è `N=5` —ñ `N=15`.
2. **–°–∫–ª–∞–¥–Ω—ñ—Å—Ç—å:** –í–∏ –Ω–∞–ø–∏—Å–∞–ª–∏, —â–æ –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Ç—è–≥–∞ ‚Äî **** (—Å—É–º–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–Ω–æ—ó –ø—Ä–æ–≥—Ä–µ—Å—ñ—ó).
3. **–°–ø–∏—Å–æ–∫:** –í–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞–ª–∏ —Ñ—É–Ω–∫—Ü—ñ—é `remove_elegant` –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –ø–æ–¥–≤—ñ–π–Ω–æ–≥–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞ (`Node**`).
4. **–ë–µ–Ω—á–º–∞—Ä–∫:** –í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –ª–æ–≥, –¥–µ `Vector` –ø–µ—Ä–µ–º–∞–≥–∞—î `List` —É —à–≤–∏–¥–∫–æ—Å—Ç—ñ —á–∏—Ç–∞–Ω–Ω—è.

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1. –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ—à—É–∫—É —É –ø–æ—Ç—è–∑—ñ —Ä–æ–±–∏—Ç—å 1+1, 2+2, ‚Ä¶, N+N –∫—Ä–æ–∫—ñ–≤. –Ø–∫–∞ –π–æ–≥–æ —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å —É –Ω–æ—Ç–∞—Ü—ñ—ó Big O? –ß–∏ —ñ—Å–Ω—É—î –∞–ª–≥–æ—Ä–∏—Ç–º –∑ –∫—Ä–∞—â–æ—é —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—é –¥–ª—è —Ü—ñ—î—ó –∑–∞–¥–∞—á—ñ?
2. –£ —á–æ–º—É –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ `prev` (–≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –Ω–æ–¥—É) —ñ `indirect` (–≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫) —É –¥–≤–æ—Ö –≤–µ—Ä—Å—ñ—è—Ö `remove`? –ß–æ–º—É `indirect` –ø–æ–∑–±–∞–≤–ª—è—î –Ω–∞—Å –≤—ñ–¥ –æ–∫—Ä–µ–º–æ—ó –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ Head?
3. –ü–æ—Ä—ñ–≤–Ω—è–π—Ç–µ `std::vector` —ñ `std::list` –∑–∞ —Ç—Ä—å–æ–º–∞ –∫—Ä–∏—Ç–µ—Ä—ñ—è–º–∏: –≤—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É, –¥–æ—Å—Ç—É–ø –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º, cache locality. –î–ª—è —è–∫–∏—Ö –∑–∞–¥–∞—á –∫–æ–∂–µ–Ω –∑ –Ω–∏—Ö –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –∫—Ä–∞—â–µ?
4. –©–æ —Ç–∞–∫–µ ¬´Dangling Pointer¬ª? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥, —è–∫ –≤—ñ–Ω –º–æ–∂–µ –≤–∏–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä–∏ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–æ–º—É –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—ñ –æ–±'—î–∫—Ç–∞ –∑ –¥–∏–Ω–∞–º—ñ—á–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é.

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏</summary>

1. –°—É–º–∞ –∫—Ä–æ–∫—ñ–≤: 2¬∑(1+2+‚Ä¶+N) = N¬∑(N+1) ‚Üí **O(N¬≤)**. –î–ª—è —Ü—ñ—î—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –∑–∞–¥–∞—á—ñ –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ (–º–∏ –º–æ–∂–µ–º–æ –ª–∏—à–µ —Ä—É—Ö–∞—Ç–∏—Å—å —ñ –ø–µ—Ä–µ–º–∏–∫–∞—Ç–∏ —Å–≤—ñ—Ç–ª–æ) —à–≤–∏–¥—à–µ –Ω–∞–≤—Ä—è–¥ —á–∏ –º–æ–∂–ª–∏–≤–æ, –∞–ª–µ —è–∫–±–∏ –º–∏ –º–æ–≥–ª–∏ ¬´–º—ñ—Ç–∏—Ç–∏¬ª –≤–∞–≥–æ–Ω–∏ —è–∫–æ—Å—å —ñ–Ω–∞–∫—à–µ ‚Äî –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ O(N).
2. `prev` –≤–∫–∞–∑—É—î –Ω–∞ **–≤—É–∑–æ–ª** –ø–µ—Ä–µ–¥ —Ç–∏–º, —â–æ –≤–∏–¥–∞–ª—è—î–º–æ. –î–ª—è Head'–∞ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –≤—É–∑–ª–∞ –Ω–µ–º–∞—î, —Ç–æ–º—É –ø–æ—Ç—Ä—ñ–±–µ–Ω `if`. `indirect` –≤–∫–∞–∑—É—î –Ω–∞ **–∑–º—ñ–Ω–Ω—É**, —â–æ –º—ñ—Å—Ç–∏—Ç—å –∞–¥—Ä–µ—Å—É –Ω–∞—à–æ–≥–æ –≤—É–∑–ª–∞: –¥–ª—è Head —Ü–µ —Å–∞–º–∞ –∑–º—ñ–Ω–Ω–∞ `head`, –¥–ª—è —ñ–Ω—à–∏—Ö ‚Äî –ø–æ–ª–µ `next` –ø–æ–ø–µ—Ä–µ–¥–Ω–∏–∫–∞. –í –æ–±–æ—Ö –≤–∏–ø–∞–¥–∫–∞—Ö `*indirect = entry->next` —Ä–æ–±–∏—Ç—å —Ç–µ —Å–∞–º–µ ‚Äî –ø–µ—Ä–µ–ø–∏—Å—É—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è. –û–∫—Ä–µ–º–∏–π `if` –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω.
3. `vector`: –≤—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É O(N) (–∑—Å—É–≤ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤), –¥–æ—Å—Ç—É–ø –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º O(1), –≤—ñ–¥–º—ñ–Ω–Ω–∞ cache locality (—Å—É—Ü—ñ–ª—å–Ω–∏–π –±–ª–æ–∫ –ø–∞–º'—è—Ç—ñ). `list`: –≤—Å—Ç–∞–≤–∫–∞ –≤ —Å–µ—Ä–µ–¥–∏–Ω—É O(1) (–ø–µ—Ä–µ–ª–∏–Ω–∫–æ–≤—É–≤–∞–Ω–Ω—è), –¥–æ—Å—Ç—É–ø –∑–∞ —ñ–Ω–¥–µ–∫—Å–æ–º O(N), –ø–æ–≥–∞–Ω–∞ cache locality (–≤—É–∑–ª–∏ —Ä–æ–∑–∫–∏–¥–∞–Ω—ñ –ø–æ heap). `vector` ‚Äî –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Ç–∞ –ø–æ—à—É–∫—É; `list` ‚Äî –¥–ª—è —á–∞—Å—Ç–∏—Ö –≤—Å—Ç–∞–≤–æ–∫/–≤–∏–¥–∞–ª–µ–Ω—å —É —Å–µ—Ä–µ–¥–∏–Ω—É.
4. Dangling Pointer ‚Äî –≤–∫–∞–∑—ñ–≤–Ω–∏–∫, —â–æ –≤–∫–∞–∑—É—î –Ω–∞ –≤–∂–µ –∑–≤—ñ–ª—å–Ω–µ–Ω—É –ø–∞–º'—è—Ç—å. –í–∏–Ω–∏–∫–∞—î –ø—Ä–∏ shallow copy: –æ–±–∏–¥–≤–∞ –æ–±'—î–∫—Ç–∏ `s1` —ñ `s2` –º–∞—é—Ç—å –ø–æ–ª–µ `grades`, —è–∫–µ –≤–∫–∞–∑—É—î –Ω–∞ **—Ç–æ–π —Å–∞–º–∏–π** –º–∞—Å–∏–≤. –ü—ñ—Å–ª—è `delete[] s1.grades` –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ `s2.grades` —Å—Ç–∞—î ¬´–≤–∏—Å—è—á–∏–º¬ª ‚Äî –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è –¥–æ –Ω—å–æ–≥–æ —î UB (undefined behavior).

</details>
