# –õ–µ–∫—Ü—ñ—è 13: OOP Reboot ‚Äî –í—ñ–¥ –°–∫—Ä–∏–ø—Ç—ñ–≤ –¥–æ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏

‚Üê [Index](index.md) | [–î–∞–ª—ñ: –õ–µ–∫—Ü—ñ—è 14 ‚Üí](14_raii_lifecycle.md)

## –ù–∞—à —Ñ–æ–∫—É—Å —Å—å–æ–≥–æ–¥–Ω—ñ
–£ –ø–µ—Ä—à–æ–º—É —Å–µ–º–µ—Å—Ç—Ä—ñ –º–∏ –≤—á–∏–ª–∏—Å—è –±—É—Ç–∏ "–≤–æ–ª–æ–¥–∞—Ä—è–º–∏ –ø–∞–º'—è—Ç—ñ" (Pointers, Memory Layout).
–£ –¥—Ä—É–≥–æ–º—É —Å–µ–º–µ—Å—Ç—Ä—ñ –º–∏ –≤—á–∏–º–æ—Å—è –±—É—Ç–∏ "–∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä–∞–º–∏ —Å–∏—Å—Ç–µ–º".

–ú–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î–º–æ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è: **–Ø–∫ –Ω–∞–ø–∏—Å–∞—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º—É –Ω–∞ 100 000 —Ä—è–¥–∫—ñ–≤ —ñ –Ω–µ –∑–±–æ–∂–µ–≤–æ–ª—ñ—Ç–∏?**

## –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è (Warm-up)

–ó–≥–∞–¥–∞–π—Ç–µ [–í—Å—Ç—É–ø –¥–æ –∫—É—Ä—Å—É –∑ C++: –§—ñ–ª–æ—Å–æ—Ñ—ñ—è —Ç–∞ –ø—ñ–¥—Ö—ñ–¥ -> –ö–ª—é—á –¥–æ –≤—Å—å–æ–≥–æ ‚Äî –ø—ñ—Ä–∞–º—ñ–¥–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó](../00_why_cpp.md)

1.  –ù–∞ —è–∫–æ–º—É —Ä—ñ–≤–Ω—ñ –º–∏ –ø—Ä–∞—Ü—é–≤–∞–ª–∏, –∫–æ–ª–∏ –ø–∏—Å–∞–ª–∏ `int* p = new int[10]`? (–ó–∞–ª—ñ–∑–æ, –û–°, –ú–æ–≤–∞, —á–∏ –ú–æ–¥–µ–ª—å?)
2.  –Ø–∫—â–æ –≤–∏ –ø–∏—à–µ—Ç–µ –≥—Ä—É, —á–∏ –∑—Ä—É—á–Ω–æ –≤–∞–º –¥—É–º–∞—Ç–∏ –ø—Ä–æ "–æ—Ä–∫–∞" —è–∫ –ø—Ä–æ –Ω–∞–±—ñ—Ä `float x, y, z` —Ç–∞ `int hp`?
3.  –©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –≤–∏ –∑–∞–±—É–¥–µ—Ç–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—É –≤ `struct`?

<details markdown="1">
<summary>–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∏–π –ø–æ–≥–ª—è–¥</summary>

1.  –¶–µ –±—É–≤ —Ä—ñ–≤–µ–Ω—å **–ú–æ–≤–∏ —Ç–∞ –û–°**. –ú–∏ –≤—Ä—É—á–Ω—É –∫–µ—Ä—É–≤–∞–ª–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.
2.  **–ù—ñ.** –ù–∞–º –∑—Ä—É—á–Ω—ñ—à–µ –¥—É–º–∞—Ç–∏ –ø–æ–Ω—è—Ç—Ç—è–º–∏ "–û—Ä–∫ –∞—Ç–∞–∫—É—î", –∞ –Ω–µ "–∑–º–µ–Ω—à–∏—Ç–∏ `hp` –Ω–∞ 10". –ù–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–∞ –≤–∏—â–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è.
3.  **–°–º—ñ—Ç—Ç—è (Garbage Value).** –û–±'—î–∫—Ç –Ω–∞—Ä–æ–¥–∏—Ç—å—Å—è —É "–Ω–µ–≤–∞–ª—ñ–¥–Ω–æ–º—É" —Å—Ç–∞–Ω—ñ. –£ –≤–µ–ª–∏–∫—ñ–π —Å–∏—Å—Ç–µ–º—ñ —Ü–µ –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–∏–π –±–∞–≥.

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 1: –ö—Ä–∏–∑–∞ —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ (Software Crisis)

–£ 70-—Ö —Ä–æ–∫–∞—Ö –ú—ñ–Ω—ñ—Å—Ç–µ—Ä—Å—Ç–≤–æ –æ–±–æ—Ä–æ–Ω–∏ –°–®–ê (DoD) –∑—ñ—Ç–∫–Ω—É–ª–æ—Å—è –∑ –ø—Ä–æ–±–ª–µ–º–æ—é: –≤–æ–Ω–∏ –≤–∏—Ç—Ä–∞—á–∞–ª–∏ –º—ñ–ª—å—è—Ä–¥–∏ –¥–æ–ª–∞—Ä—ñ–≤ –Ω–∞ —Å–æ—Ñ—Ç, –∞–ª–µ –≤—ñ–Ω –ø–æ—Å—Ç—ñ–π–Ω–æ –ª–∞–º–∞–≤—Å—è.
**–î—ñ–∞–≥–Ω–æ–∑ —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤:** –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∏–π –∫–æ–¥ (—Ñ—É–Ω–∫—Ü—ñ—ó + –≥–ª–æ–±–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ) –Ω–µ –º–∞—Å—à—Ç–∞–±—É—î—Ç—å—Å—è.

### –ü—Ä–æ–±–ª–µ–º–∞ "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –°–∫—Ä–∏–ø—Ç–∞"
–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –ø–∏—à–µ—Ç–µ –∫–æ–¥ –¥–ª—è –µ–∫—Å–∫–∞–≤–∞—Ç–æ—Ä–∞ —É –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ–º—É —Å—Ç–∏–ª—ñ:

```cpp
struct ExcavatorData {
    int fuel;
    int hydraulicPressure;
    bool isEngineOn;
};

void dig(ExcavatorData& e) {
    e.fuel -= 10;
    // –ê —Ö—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏–≤, —á–∏ –≤–∫–ª—é—á–µ–Ω–∏–π –¥–≤–∏–≥—É–Ω?
    // –ê —Ö—Ç–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏–≤, —á–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ç–∏—Å–∫—É?
}

```

–í–∏, —è–∫ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç, –º–∞—î—Ç–µ —Ç—Ä–∏–º–∞—Ç–∏ –≤ –≥–æ–ª–æ–≤—ñ **–≤—Å—ñ –ø—Ä–∞–≤–∏–ª–∞** –≤ **–∫–æ–∂–Ω—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó**. –ó–∞–±—É–ª–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ (`main.cpp`, —Ä—è–¥–æ–∫ 5000) ‚Äî –µ–∫—Å–∫–∞–≤–∞—Ç–æ—Ä –∑–ª–∞–º–∞–≤—Å—è.

### –†—ñ—à–µ–Ω–Ω—è: –ü—ñ–¥–Ω—è—Ç—Ç—è –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó

–ú–∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º–æ –≤—ñ–¥ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏–º–∏ –¥–æ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è **–ø–æ–≤–µ–¥—ñ–Ω–∫–∏**.

* **–†—ñ–≤–µ–Ω—å 1 (Sem 1):** `earth.dig()` ‚Äî —Ü–µ –∞–±—Å—É—Ä–¥. –ó–µ–º–ª—è –Ω–µ –∫–æ–ø–∞—î —Å–∞–º–∞ —Å–µ–±–µ.
* **–†—ñ–≤–µ–Ω—å 2 (Sem 2):** –ú–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ "—Ä–æ–∑—É–º–Ω–∏–π" –ï–∫—Å–∫–∞–≤–∞—Ç–æ—Ä, —ñ –¥–∞—î–º–æ –π–æ–º—É –∫–æ–º–∞–Ω–¥—É: `excavator.dig()`. –í—ñ–Ω **—Å–∞–º** –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç—å –ø–∞–ª–∏–≤–æ, —Ç–∏—Å–∫ —ñ —Å—Ç–∞–Ω –¥–≤–∏–≥—É–Ω–∞.

---

## –ß–∞—Å—Ç–∏–Ω–∞ 2: Class vs Struct ‚Äî –ó–º—ñ–Ω–∞ –º–µ–Ω—Ç–∞–ª—å–Ω–æ—ó –º–æ–¥–µ–ª—ñ

–£ C++ `struct` —ñ `class` —Ç–µ—Ö–Ω—ñ—á–Ω–æ –º–∞–π–∂–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ (—î–¥–∏–Ω–∞ —Ä—ñ–∑–Ω–∏—Ü—è ‚Äî –¥–æ—Å—Ç—É–ø –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º). –ê–ª–µ –≤ —ñ–Ω–∂–µ–Ω–µ—Ä–Ω—ñ–π –∫—É–ª—å—Ç—É—Ä—ñ –≤–æ–Ω–∏ –æ–∑–Ω–∞—á–∞—é—Ç—å –ø–æ–ª—è—Ä–Ω–æ —Ä—ñ–∑–Ω—ñ —Ä–µ—á—ñ.

### Struct: Passive Data (DTO)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –∫–æ–ª–∏ –Ω–∞–º –ø—Ä–æ—Å—Ç–æ —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–¥–∞—Ç–∏ –ø–∞—á–∫—É –¥–∞–Ω–∏—Ö. "–í—ñ–¥–∫—Ä–∏—Ç–∏–π –º—ñ—à–æ–∫".

```cpp
struct Point {
    float x, y; // –í—Å–µ –≤—ñ–¥–∫—Ä–∏—Ç–æ (public)
};
// Point p; p.x = 100; // –ú–∏ –º–æ–∂–µ–º–æ —Ä–æ–±–∏—Ç–∏ —â–æ –∑–∞–≤–≥–æ–¥–Ω–æ

```

–¢—É—Ç –Ω–µ–º–∞—î –ø—Ä–∞–≤–∏–ª. `x` –º–æ–∂–µ –±—É—Ç–∏ —Ö–æ—á `-1000000`.

### Class: Active Behavior (Model)

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ, –∫–æ–ª–∏ –¥–∞–Ω—ñ –º–∞—é—Ç—å **—Å–µ–Ω—Å** —ñ **–ø—Ä–∞–≤–∏–ª–∞**. "–ß–æ—Ä–Ω–∞ —Å–∫—Ä–∏–Ω—å–∫–∞".

```cpp
class BankAccount {
    double balance; // –ó–∞–∫—Ä–∏—Ç–æ (private)
public:
    void deposit(double amount); // –ü—É–ª—å—Ç –∫–µ—Ä—É–≤–∞–Ω–Ω—è
};

```

–¢—É—Ç –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞—Ç–∏ `balance = 1000000`. –ú–∏ –∑–º—É—à–µ–Ω—ñ –≥—Ä–∞—Ç–∏ –∑–∞ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∫–ª–∞—Å—É.

### Memory Layout: "3-Compartment Box" Model

![POP ‚Äî –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è](attachments/oop1-000.jpg)

*–†–∏—Å. 1: –ü—Ä–∏–∫–ª–∞–¥–∏ POP ‚Äî –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –¥—ñ—è—Ö(–∞–ª–≥–æ—Ä–∏—Ç–º), —Ñ—É–Ω–∫—Ü—ñ—ó, –≥–ª–æ–±–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ, –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö, –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è "–∑–≥–æ—Ä–∏ –¥–æ–Ω–∏–∑—É"*

* –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –¥—ñ—è—Ö (–∞–ª–≥–æ—Ä–∏—Ç–º–∞—Ö).
* –í–µ–ª–∏–∫—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ –ø–æ–¥—ñ–ª—è—é—Ç—å—Å—è –Ω–∞ –º–µ–Ω—à—ñ, –≤—ñ–¥–æ–º—ñ —è–∫ —Ñ—É–Ω–∫—Ü—ñ—ó.
* –ë—ñ–ª—å—à—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ–π –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω—ñ –≥–ª–æ–±–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ.
* –î–∞–Ω—ñ –≤—ñ–ª—å–Ω–æ –ø–µ—Ä–µ–º—ñ—â—É—é—Ç—å—Å—è –ø–æ —Å–∏—Å—Ç–µ–º—ñ –≤—ñ–¥ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ —Ñ—É–Ω–∫—Ü—ñ—ó.
* –§—É–Ω–∫—Ü—ñ—ó –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—Ç—å –¥–∞–Ω—ñ –∑ –æ–¥–Ω—ñ—î—ó —Ñ–æ—Ä–º–∏ –≤ —ñ–Ω—à—É.
* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—ñ–¥—Ö—ñ–¥ –¥–æ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º ¬´–∑–≥–æ—Ä–∏ –¥–æ–Ω–∏–∑—É¬ª.

![OOP ‚Äî –ø—Ä–æ—Ü–µ–¥—É—Ä–Ω–æ –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è](attachments/oop.png)

*–†–∏—Å. 2: –ü—Ä–∏–∫–ª–∞–¥–∏ OOP ‚Äî –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –¥–∞–Ω–∏—Ö, –¥–∞–Ω—ñ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ, –≤–∑–∞—ó–º–æ–¥—ñ—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥–∏, –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è "–∑–Ω–∏–∑—É –¥–æ–≥–æ—Ä–∏"*

* –ê–∫—Ü–µ–Ω—Ç –Ω–∞ –¥–∞–Ω–∏—Ö, –∞ –Ω–µ –Ω–∞ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö.
* –ü—Ä–æ–≥—Ä–∞–º–∏ –ø–æ–¥—ñ–ª—è—é—Ç—å—Å—è –Ω–∞ —Ç–∞–∫ –∑–≤–∞–Ω—ñ –æ–±'—î–∫—Ç–∏.
* –°—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö —Ä–æ–∑—Ä–æ–±–ª–µ–Ω—ñ —Ç–∞–∫, —â–æ–± —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏.
* –§—É–Ω–∫—Ü—ñ—ó, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å —ñ–∑ –¥–∞–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞, –ø–æ–≤‚Äô—è–∑–∞–Ω—ñ —Ä–∞–∑–æ–º —É —Å—Ç—Ä—É–∫—Ç—É—Ä—ñ –¥–∞–Ω–∏—Ö.
* –î–∞–Ω—ñ –ø—Ä–∏—Ö–æ–≤–∞–Ω—ñ —Ç–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π.
* –û–±'—î–∫—Ç–∏ –º–æ–∂—É—Ç—å –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –æ–¥–∏–Ω –∑ –æ–¥–Ω–∏–º —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü—ñ—ó (–º–µ—Ç–æ–¥–∏).
* –ù–æ–≤—ñ –¥–∞–Ω—ñ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏.
* –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—ñ–¥—Ö—ñ–¥ –¥–æ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è ¬´–∑–Ω–∏–∑—É –≤–≥–æ—Ä—É¬ª.

–©–æ–± –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫ –æ–±'—î–∫—Ç –∞–±–æ –∫–ª–∞—Å –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –≤–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π —É –ø–∞–º'—è—Ç—ñ, —É—è–≤—ñ—Ç—å –π–æ–≥–æ —è–∫ **–∫–æ—Ä–æ–±–∫—É –∑ —Ç—Ä—å–æ–º–∞ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è–º–∏**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Class Name: BankAccount            ‚îÇ  ‚Üê Type Identifier
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  üì¶ Data Members (State)            ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ  STATIC (Class-level, shared):      ‚îÇ  ‚Üê One copy for ALL objects
‚îÇ     ‚Ä¢ static nextAccountId: int     ‚îÇ     
‚îÇ                                     ‚îÇ
‚îÇ  INSTANCE (Object-level):           ‚îÇ  ‚Üê Each object has own copy
‚îÇ     - balance: double               ‚îÇ     
‚îÇ     - owner: std::string            ‚îÇ
‚îÇ     - accountNumber: int            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  ‚öôÔ∏è Member Functions (Behavior)     ‚îÇ
‚îÇ     + deposit(double)               ‚îÇ  ‚Üê Methods (shared by all instances)
‚îÇ     + withdraw(double)              ‚îÇ
‚îÇ     + getBalance()                  ‚îÇ
‚îÇ                                     ‚îÇ
‚îÇ     + static getNextId(): int       ‚îÇ  ‚Üê Static method (no 'this')
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**

1. **Name (–¢–∏–ø)**: –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –∑–Ω–∞—î, —â–æ —Ü–µ `BankAccount`, –∞ –Ω–µ `Point`
2. **Data (–°—Ç–∞–Ω)**: 
   - **Static members**: –û–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤–µ—Å—å –∫–ª–∞—Å (—Å–ø—ñ–ª—å–Ω–∏–π –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤)
   - **Instance members**: –ö–æ–∂–µ–Ω –æ–±'—î–∫—Ç –º–∞—î —Å–≤–æ—é –∫–æ–ø—ñ—é

   ```cpp
   class BankAccount {
       static int nextAccountId;  // –°–ø—ñ–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ –¥–ª—è –≤—Å—ñ—Ö BankAccount
       double balance;            // –û–∫—Ä–µ–º–∞ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞
   };
   
   BankAccount acc1, acc2;
   acc1.balance ‚â† acc2.balance       // –†—ñ–∑–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è
   acc1.nextAccountId == acc2.nextAccountId  // –û–¥–Ω–µ —ñ —Ç–µ —Å–∞–º–µ –∑–Ω–∞—á–µ–Ω–Ω—è!
   ```
3. **Functions (–ü–æ–≤–µ–¥—ñ–Ω–∫–∞)**: –ú–µ—Ç–æ–¥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è **–æ–¥–∏–Ω —Ä–∞–∑** —É –ø–∞–º'—è—Ç—ñ (Code Section), –∞ –Ω–µ –∫–æ–ø—ñ—é—é—Ç—å—Å—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç—É

**sizeof() Demonstration:**

```cpp
// –∫–æ–¥ —è–∫—ñ–π –≤–∏–≤–æ–¥–∏—Ç—å –Ω–∞ –µ–∫—Ä–∞–Ω sizeof

class Empty {};          // sizeof(Empty) = 1 byte (C++ rule: no zero-size objects)
class JustInt {
    int x;               // sizeof(JustInt) = 4 bytes (data only)
};
class WithMethod {
    int x;
    void foo();          // sizeof(WithMethod) = 4 bytes (methods don't add size!)
};
class WithStatic {
    int x;
    static int count;    // sizeof(WithStatic) = 4 bytes (static doesn't add size!)
};
```

**–ß–æ–º—É –º–µ—Ç–æ–¥–∏ —Ç–∞ static members –Ω–µ –∑–∞–π–º–∞—é—Ç—å –º—ñ—Å—Ü–µ –≤ –æ–±'—î–∫—Ç—ñ?**  
–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î `obj.foo()` –Ω–∞ `ClassName::foo(&obj)` ‚Äî –º–µ—Ç–æ–¥ –æ—Ç—Ä–∏–º—É—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ `this` —è–∫ –ø–µ—Ä—à–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç. –¢–æ–º—É –º–µ—Ç–æ–¥–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Code Segment, –∞ –Ω–µ –≤ –∫–æ–∂–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ. Static members –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –æ–∫—Ä–µ–º—ñ–π Data Segment (–æ–¥–Ω–∞ –∫–æ–ø—ñ—è –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º—É).

---

## –ß–∞—Å—Ç–∏–Ω–∞ 3: –Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è —Ç–∞ –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç

–ú–∏ –ø—ñ–¥—Ö–æ–¥–∏–º–æ –¥–æ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–æ–≥–æ –ø–æ–Ω—è—Ç—Ç—è –û–û–ü.
–ß–æ–º—É –º–∏ —Ö–æ–≤–∞—î–º–æ –¥–∞–Ω—ñ (`private`)? –ù–µ –≤—ñ–¥ —Ö–∞–∫–µ—Ä—ñ–≤. –ú–∏ –∑–∞—Ö–∏—â–∞—î–º–æ –æ–±'—î–∫—Ç –≤—ñ–¥ –ø–µ—Ä–µ—Ö–æ–¥—É —É **–ù–µ–≤–∞–ª—ñ–¥–Ω–∏–π –°—Ç–∞–Ω**.

> **–Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç (Invariant)** ‚Äî —Ü–µ –ª–æ–≥—ñ—á–Ω–∞ —É–º–æ–≤–∞, —è–∫–∞ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î "–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π" –æ–±'—î–∫—Ç –≤—ñ–¥ "—Å–º—ñ—Ç—Ç—è". –¶–µ –ø—Ä–∞–≤–∏–ª–æ, —è–∫–µ –ù–ï –ú–û–ñ–ï –±—É—Ç–∏ –ø–æ—Ä—É—à–µ–Ω–µ.

**–ü—Ä–∏–∫–ª–∞–¥:**

* –î–ª—è `Date`: `1 <= day <= 31`.
* –î–ª—è `Vector`: `size <= capacity`.

### –ó–∞—Ö–∏—â–∞—î–º–æ –¥–∞—Ç—É

```cpp
// —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–¥—É —è–∫–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î —ñ–ª–ª—é—Å—Ç—Ä–∞—Ü—ñ—é - snippet

// BAD: –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∏–π —Å—Ç–∏–ª—å (Struct)
struct DateStruct {
    int d, m, y;
};

void badExample() {
    DateStruct ds;
    ds.d = 45; // –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç –ø–æ—Ä—É—à–µ–Ω–æ! –¢–∞–∫–æ—ó –¥–∞—Ç–∏ –Ω–µ —ñ—Å–Ω—É—î.
    // –î–∞–ª—ñ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–∞—Ü—é—î –∑ "–±–∏—Ç–∏–º" —Å—Ç–∞–Ω–æ–º.
}

// GOOD: OOP Style (Class)
class DateClass {
private: 
    int d, m, y; // –ù—ñ—Ö—Ç–æ –Ω–µ —Ç–æ—Ä–∫–Ω–µ—Ç—å—Å—è —Ü—å–æ–≥–æ —Ä—É–∫–∞–º–∏

public:
    // –Ñ–¥–∏–Ω–∏–π —Å–ø–æ—Å—ñ–± –∑–º—ñ–Ω–∏—Ç–∏ –¥–∞—Ç—É ‚Äî –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ "–º–∏—Ç–Ω–∏—Ü—é"
    void setDay(int day) {
        if (day < 1 || day > 31) {
            std::cerr << "Error: Invalid day!" << std::endl;
            return; // –ú–∏ –≤—ñ–¥—Ö–∏–ª—è—î–º–æ –∑–º—ñ–Ω–∏! –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–æ.
        }
        this->d = day;
    }
};

```

**–í–∏—Å–Ω–æ–≤–æ–∫:** –Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –æ–±'—î–∫—Ç **–∑–∞–≤–∂–¥–∏** –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É (–≤–∞–ª—ñ–¥–Ω–æ–º—É) —Å—Ç–∞–Ω—ñ.


<details>
<summary>üî¨ <b>Mathematical View:</b> Invariants as Predicates</summary>

**Formal Definition:**

Let $S$ be the **state space** of an object (all possible values of its members).

An **invariant** is a predicate:
$$I: S \to \{\text{true}, \text{false}\}$$

A **valid object** exists in the subset:
$$S_{\text{valid}} = \{s \in S \mid I(s) = \text{true}\}$$

**Example: Date Invariant**

```cpp
class Date {
    int day, month, year;  // State space S = ‚Ñ§¬≥
};
```

Invariant predicate:
$$I(d, m, y) = (1 \leq d \leq 31) \land (1 \leq m \leq 12) \land (y > 0)$$

**Encapsulation Theorem:**

For any public method $f: S \to S$:
$$\forall s \in S_{\text{valid}}: I(s) = \text{true} \implies I(f(s)) = \text{true}$$

Private members + controlled public interface = Guaranteed invariant preservation.

Without encapsulation (`struct`):

```cpp
//snippet
DateStruct ds;
ds.day = 99;  // Direct mutation ‚Üí I(ds) = false ‚Üí Invalid state!
```

With encapsulation (class):

```cpp
//snippet
class Date {
    int day;  // Private!
public:
    void setDay(int d) {
        if (d < 1 || d > 31) return;  // Guard: maintains I
        day = d;
    }
};
```

**Proof of correctness:**  
If $I(s_0) = \text{true}$ (initial state valid), then all reachable states via public methods satisfy $I$.

**See also:** [Memory Model Glossary](00_memory_model_glossary.md) for formal definitions of storage duration.

</details>
---

## –ß–∞—Å—Ç–∏–Ω–∞ 4: –°–∏–º–µ—Ç—Ä—ñ—è –ñ–∏—Ç—Ç—è (Constructor & Destructor)

–Ø–∫—â–æ –æ–±'—î–∫—Ç ‚Äî —Ü–µ "–∂–∏–≤–∞ —ñ—Å—Ç–æ—Ç–∞", –≤–æ–Ω–∞ –º–∞—î **–Ω–∞—Ä–æ–¥–∏—Ç–∏—Å—è** —ñ **–ø–æ–º–µ—Ä—Ç–∏**.
–£ C++ —Ü–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –ø–∞—Ä—É —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤. –¶–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —ñ–¥—ñ–æ–º–∏ **RAII**.

–¶–µ **–Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∞ —ñ–¥—ñ–æ–º–∞ C++**, —è–∫–∞ –≤—ñ–¥—Ä—ñ–∑–Ω—è—î –π–æ–≥–æ –≤—ñ–¥ C (—Ä—É—á–Ω–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è) —Ç–∞ Java/C# (Garbage Collection).

–ù–∞–∑–≤–∞ **RAII** (Resource Acquisition Is Initialization) ‚Äî —Ü–µ —ñ—Å—Ç–æ—Ä–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –ë'—è—Ä–Ω–∞ –°—Ç—Ä–∞—É—Å—Ç—Ä—É–ø–∞. –¶–µ –∂–∞—Ö–ª–∏–≤–∞ –Ω–∞–∑–≤–∞.
–Ü–Ω–∂–µ–Ω–µ—Ä–Ω–∞ –Ω–∞–∑–≤–∞: **SBRM (Scope-Bound Resource Management)** ‚Äî –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å–∞–º–∏, –ø—Ä–∏–≤'—è–∑–∞–Ω–µ –¥–æ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ.

### 1. –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ (The "Why")

–£ C –∞–±–æ "—Å—Ç–∞—Ä–æ–º—É C++" —Ä–µ—Å—É—Ä—Å –∂–∏–≤–µ –æ–∫—Ä–µ–º–æ –≤—ñ–¥ –æ–±'—î–∫—Ç–∞.

```cpp
// BAD: C-Style: Disaster waiting to happen
void badCode() {
    FILE* f = fopen("data.txt", "r"); // (1) Acquire
    if (!f) return;

    // ... —è–∫–∏–π—Å—å –∫–æ–¥ ...
    if (error_condition) {
        // –ó–ê–ë–£–õ–ò fclose(f)! -> Resource Leak
        return; 
    }

    // ... –∫–æ–¥, —è–∫–∏–π –º–æ–∂–µ –∫–∏–Ω—É—Ç–∏ Exception ...
    // Exception –ø–µ—Ä–µ—Ä–∏–≤–∞—î —Ñ—É–Ω–∫—Ü—ñ—é -> fclose(f) –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–∫–ª–∏—á–µ—Ç—å—Å—è -> Resource Leak

    fclose(f); // (2) Release
}

```

### 2. –†—ñ—à–µ–Ω–Ω—è RAII (The "How")

–ú–∏ –∑–≤'—è–∑—É—î–º–æ –∂–∏—Ç—Ç—è **–†–µ—Å—É—Ä—Å—É** (–ø–∞–º'—è—Ç—å, —Ñ–∞–π–ª, –º'—é—Ç–µ–∫—Å, —Å–æ–∫–µ—Ç) –∑ –∂–∏—Ç—Ç—è–º **–û–±'—î–∫—Ç–∞ –Ω–∞ —Å—Ç–µ–∫—É**.

* **Constructor:** –ó–∞—Ö–æ–ø–ª—é—î —Ä–µ—Å—É—Ä—Å (–≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ñ–∞–π–ª, –≤–∏–¥—ñ–ª—è—î –ø–∞–º'—è—Ç—å, –±–ª–æ–∫—É—î –º'—é—Ç–µ–∫—Å). –í—Å—Ç–∞–Ω–æ–≤–ª—é—î —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç.
* **Destructor:** –ó–≤—ñ–ª—å–Ω—è—î —Ä–µ—Å—É—Ä—Å.

**–ú–∞–≥—ñ—è C++:** –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ –æ–±'—î–∫—Ç—ñ–≤ –Ω–∞ —Å—Ç–µ–∫—É –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ** —ñ **–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ** –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑ `scope` (–Ω–∞–≤—ñ—Ç—å —è–∫—â–æ –≤–∏–ª–µ—Ç—ñ–≤ Exception). –¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **Stack Unwinding**.

```cpp
// GOOD: RAII Style
void goodCode() {
    // Constructor –≤—ñ–¥–∫—Ä–∏–≤–∞—î —Ñ–∞–π–ª
    std::fstream f("data.txt"); 

    if (!f.is_open()) return;

    // ... –∫–æ–¥ ...
    if (error_condition) {
        return; // Dtor –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û. –§–∞–π–ª –∑–∞–∫—Ä–∏—Ç–æ.
    }

    // ... –∫–æ–¥ –∫–∏–¥–∞—î Exception ...
    // Stack Unwinding –≤–∏–∫–ª–∏–∫–∞—î Dtor. –§–∞–π–ª –∑–∞–∫—Ä–∏—Ç–æ.
} 
// –¢—É—Ç –∫—ñ–Ω–µ—Ü—å scope. Dtor –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û.

```

### 3. –ö–∞–Ω–æ–Ω—ñ—á–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ RAII –≤ STL

–í–∞–º –Ω–µ —á–∞—Å—Ç–æ –¥–æ–≤–µ–¥–µ—Ç—å—Å—è –ø–∏—Å–∞—Ç–∏ —Å–≤–æ—ó RAII-–æ–±–≥–æ—Ä—Ç–∫–∏, –±–æ –≤–æ–Ω–∏ –≤–∂–µ —î:

1. **–ü–∞–º'—è—Ç—å:** `std::unique_ptr<T>` / `std::shared_ptr<T>`.
* Ctor: —Ä–æ–±–∏—Ç—å `new`.
* Dtor: —Ä–æ–±–∏—Ç—å `delete`.
* *–ó–∞–º—ñ–Ω—é—î —Ä—É—á–Ω—ñ `new/delete`.*

2. **–§–∞–π–ª–∏:** `std::fstream`.
* Ctor: `fopen`.
* Dtor: `fclose`.

3. **–ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤—ñ—Å—Ç—å (Concurrency):** `std::lock_guard` / `std::unique_lock`.
* Ctor: `mutex.lock()`.
* Dtor: `mutex.unlock()`.
* *–ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ: —è–∫—â–æ –ø–æ—Ç—ñ–∫ –≤–ø–∞–¥–µ –∑ –ø–æ–º–∏–ª–∫–æ—é, –º'—é—Ç–µ–∫—Å —Ä–æ–∑–±–ª–æ–∫—É—î—Ç—å—Å—è, —ñ–Ω–∞–∫—à–µ –±—É–¥–µ Deadlock –≤—Å—ñ—î—ó —Å–∏—Å—Ç–µ–º–∏.*

### 4. –ù–∞—Ä–æ–¥–∂–µ–Ω–Ω—è (Constructor / ctor)

–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î "—Å–∏—Ä—É –ø–∞–º'—è—Ç—å" –Ω–∞ "–≤–∞–ª—ñ–¥–Ω–∏–π –æ–±'—î–∫—Ç".
–ô–æ–≥–æ –≥–æ–ª–æ–≤–Ω–∞ –∑–∞–¥–∞—á–∞ ‚Äî **–≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç**.

```cpp
class Player {
    std::string name;
    int hp;

public:
    // BAD: –î–µ—Ñ–æ–ª—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (—è–∫—â–æ –º–∏ –π–æ–≥–æ –Ω–µ –∑–∞–º—ñ–Ω–∏–º–æ)
    // –°—Ç–≤–æ—Ä–∏—Ç—å –≥—Ä–∞–≤—Ü—è –±–µ–∑ —ñ–º–µ–Ω—ñ —ñ –∑ —Å–º—ñ—Ç—Ç—è–º –≤ HP.
    
    // GOOD: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
    Player(std::string n, int startHp) {
        if (startHp <= 0) startHp = 1; // –í–∏–ø—Ä–∞–≤–ª—è—î–º–æ –ø–æ–º–∏–ª–∫—É –Ω–∞ —Å—Ç–∞—Ä—Ç—ñ
        name = n;
        hp = startHp;
        std::cout << "[Spawn] Player " << name << " created." << std::endl;
    }
};

```

**–ü—Ä–∞–≤–∏–ª–æ:** –ù–µ –º–æ–∂–Ω–∞ –¥–∞—Ç–∏ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç "–Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É". –ê–±–æ –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é –≥–æ—Ç–æ–≤–∏–º –¥–æ —Ä–æ–±–æ—Ç–∏, –∞–±–æ –Ω–µ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –≤–∑–∞–≥–∞–ª—ñ (Exception).

**Constructor Syntax: Assignment vs Initializer List**

–Ü—Å–Ω—É—î **–¥–≤—ñ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–Ω—ñ —Ñ–æ—Ä–º–∏** —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —á–ª–µ–Ω—ñ–≤ –∫–ª–∞—Å—É –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ. –í–æ–Ω–∏ **–Ω–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω—ñ**:

```cpp
//snippet

class Point {
    const int x;  // const member!
    int y;
    
public:
    // ‚ùå BAD: Assignment in body
    Point(int a, int b) {
        x = a;  // ERROR! const member already initialized to garbage
        y = b;  // OK, but inefficient (default init + assignment)
    }
    
    // ‚úì GOOD: Initializer list
    Point(int a, int b) : x(a), y(b) {
        // Members initialized BEFORE body executes
        // Body runs AFTER all members are fully constructed
    }
};
```

**–ß–æ–º—É initializer list –∫—Ä–∞—â–µ:**

| –ê—Å–ø–µ–∫—Ç	| –ü—Ä–∏—Å–≤–æ—î–Ω–Ω—è —É —Ç—ñ–ª—ñ (Body) | –°–ø–∏—Å–æ–∫ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó (Initializer List) |
|--------|-------------------|------------------|
| Const —á–ª–µ–Ω–∏ |	‚ùå –ü–æ–º–∏–ª–∫–∞: const –Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è |	‚úÖ –î–æ–∑–≤–æ–ª–µ–Ω–æ: —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞|
| Reference —á–ª–µ–Ω–∏ |	‚ùå –ü–æ–º–∏–ª–∫–∞: –ø–æ—Å–∏–ª–∞–Ω–Ω—è –º–∞—é—Ç—å –±—É—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –æ–¥—Ä–∞–∑—É |	‚úÖ –î–æ–∑–≤–æ–ª–µ–Ω–æ: –∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ|
| –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å |	üìâ –î–µ—Ñ–æ–ª—Ç–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è + –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—è (2 –∫—Ä–æ–∫–∏) |	üöÄ –ü—Ä—è–º–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è (1 –∫—Ä–æ–∫)|
| –ü–æ—Ä—è–¥–æ–∫ |	–í–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—é –≤ —Ç—ñ–ª—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ |	–ü–æ—Ä—è–¥–æ–∫ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —É –∫–ª–∞—Å—ñ (–Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Å–ø–∏—Å–∫—É)|

**–ü–æ–º–∏–ª–∫–∞ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó: –ü—Ä–∏—Å–≤–æ—î–Ω–Ω—è –∑–∞–º—ñ—Å—Ç—å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó**

```cpp
class MetricCollector {
    const int interval_ms;
    double& global_counter;
    
public:
    MetricCollector(int interval, double& counter) {
        interval_ms = interval;    // ‚ùå error: assignment of read-only data-member
        global_counter = counter;  // ‚ùå error: uninitialized reference member
    }
};

```

**–í–∏–º–æ–≥–∏ –¥–æ Initializer List:**

* `const` —á–ª–µ–Ω–∏ –∫–ª–∞—Å—É.
* –ü–æ—Å–∏–ª–∞–Ω–Ω—è (`Type&`).
* –ö–ª–∞—Å–∏/—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –±–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (Default Constructor).
* Performance-critical —Å–µ–∫—Ü—ñ—ó (—É–Ω–∏–∫–Ω–µ–Ω–Ω—è overhead –≤—ñ–¥ –ø–∞—Ç–µ—Ä–Ω—É `default constructor` $\rightarrow$ `assignment operator`).

**Advanced: Initialization Order**

```cpp
class Dangerous {
    int a;
    int b;
    
public:
    Dangerous(int x) : b(x), a(b + 1) {  // ‚ö†Ô∏è Problem!
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ—Ä—è–¥–∫—É DECLARATION, –Ω–µ —Å–ø–∏—Å–∫—É!
        // 1. a —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –ø–µ—Ä—à–∏–º (–∞–ª–µ b —â–µ –Ω–µ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ!)
        // 2. b —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è –¥—Ä—É–≥–∏–º
        // a –º—ñ—Å—Ç–∏—Ç—å garbage + 1
    }
};
```

–ß–ª–µ–Ω–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—é—Ç—å—Å—è –≤ –ø–æ—Ä—è–¥–∫—É **–æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –≤ –∫–ª–∞—Å—ñ**, –Ω–µ –≤ –ø–æ—Ä—è–¥–∫—É initializer list!

#### Explicit Keyword ‚Äî Preventing Implicit Conversions


–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∏ –∑ –æ–¥–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –¥–æ–∑–≤–æ–ª—è—é—Ç—å **–Ω–µ—è–≤–Ω—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è** (implicit conversions), —â–æ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø–æ–º–∏–ª–æ–∫:

```cpp
class BankAccount {
    double balance;
public:
    // –ü–†–û–ë–õ–ï–ú–ê: Implicit conversion
    BankAccount(double initialBalance) : balance(initialBalance) {}
};

void processAccount(BankAccount acc) { /* ... */ }

int main() {
    processAccount(100.0);  // ‚ùå –ö–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è, –∞–ª–µ —Ü–µ –ø–æ–º–∏–ª–∫–∞!
                             // Compiler –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î BankAccount(100.0)
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç —Ö–æ—Ç—ñ–≤ –ø–µ—Ä–µ–¥–∞—Ç–∏ `BankAccount`, –∞–ª–µ –≤–∏–ø–∞–¥–∫–æ–≤–æ –ø–µ—Ä–µ–¥–∞–≤ `double`. –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä "–¥–æ–ø–æ–º—ñ–≥", —Å—Ç–≤–æ—Ä–∏–≤—à–∏ —Ç–∏–º—á–∞—Å–æ–≤–∏–π –æ–±'—î–∫—Ç.

**–†—ñ—à–µ–Ω–Ω—è: `explicit`**

```cpp
class BankAccount {
    double balance;
public:
    // GOOD: –ó–∞–±–æ—Ä–æ–Ω–∞ –Ω–µ—è–≤–Ω–∏—Ö –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω—å
    explicit BankAccount(double initialBalance) : balance(initialBalance) {}
};

void processAccount(BankAccount acc) { /* ... */ }

int main() {
    processAccount(100.0);  // ‚úì Compilation error: no implicit conversion
    processAccount(BankAccount(100.0));  // ‚úì Explicit construction ‚Äî OK
}
```

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `explicit`:**
- –î–ª—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤ –∑ –æ–¥–Ω–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º (—â–æ–± –∑–∞–±–æ—Ä–æ–Ω–∏—Ç–∏ –Ω–µ—è–≤–Ω—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è)
- –î–ª—è `operator bool()` (—â–æ–± –Ω–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ `if (object + 1)`)

**–í–∏–∫–ª—é—á–µ–Ω–Ω—è:** –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ explicit, —è–∫—â–æ conversion –ª–æ–≥—ñ—á–Ω–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `std::string(const char*)`).

**Advanced Puzzle: Chained Implicit Conversions**

C++ –¥–æ–∑–≤–æ–ª—è—î **—Ç—ñ–ª—å–∫–∏ –æ–¥–Ω–µ** –Ω–µ—è–≤–Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —É –ª–∞–Ω—Ü—é–∂–∫—É. –¶–µ –≤–∞–∂–ª–∏–≤–æ —Ä–æ–∑—É–º—ñ—Ç–∏:

```cpp
struct Foo {
    Foo(int) {}  // int ‚Üí Foo conversion
};

struct Faz {
    Faz(Foo) {}  // Foo ‚Üí Faz conversion
};

int main() {
    // –û–¥–∏–Ω –∫—Ä–æ–∫: OK
    Foo f1 = 42;         // ‚úì int ‚Üí Foo (implicit)
    Faz faz1 = Foo(42);  // ‚úì Foo ‚Üí Faz (implicit)
    
    // –î–≤–∞ –∫—Ä–æ–∫–∏: ERROR!
    Faz faz2 = 42;       // ‚ùå Error! –ü–æ—Ç—Ä—ñ–±–Ω–æ int ‚Üí Foo ‚Üí Faz (–¥–≤–∞ –∫—Ä–æ–∫–∏)
                          // Compiler: cannot convert 'int' to 'Faz'
    
    // –†—ñ—à–µ–Ω–Ω—è: explicit conversion
    Faz faz3 = Faz(Foo(42));  // ‚úì –û–±–∏–¥–≤–∞ –∫—Ä–æ–∫–∏ explicit
}
```

**–ß–æ–º—É —Ç–∞–∫?**  
–Ø–∫–±–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –¥–æ–∑–≤–æ–ª—è–≤ –Ω–µ–æ–±–º–µ–∂–µ–Ω—ñ –ª–∞–Ω—Ü—é–∂–∫–∏, –∫–æ–¥ —Å—Ç–∞–≤ –±–∏ –Ω–µ—á–∏—Ç–∞–±–µ–ª—å–Ω–∏–º:
```cpp
MyClass obj = 42;  // –©–æ —Ç—É—Ç –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è? 1 –∫—Ä–æ–∫? 5 –∫—Ä–æ–∫—ñ–≤? 10 –∫—Ä–æ–∫—ñ–≤?
```

–ü—Ä–∞–≤–∏–ª–æ "–æ–¥–Ω–µ –Ω–µ—è–≤–Ω–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è" ‚Äî —Ü–µ –∫–æ–º–ø—Ä–æ–º—ñ—Å –º—ñ–∂ –∑—Ä—É—á–Ω—ñ—Å—Ç—é —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—é.

#### Static Cast ‚Äî Modern C++ Type Conversion

–î–æ C++, type casting –≤–∏–≥–ª—è–¥–∞–≤ —è–∫ C-style: `(int)value`. –£ Modern C++ —Ü–µ –∑–∞–º—ñ–Ω–µ–Ω–æ –Ω–∞ **type-safe casts**:

```cpp
// C-Style (–Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π, –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏–π)
float f = 3.14;
int a = (int)f;  // –ü—Ä–∞—Ü—é—î, –∞–ª–µ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä –Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –±–µ–∑–ø–µ–∫—É

// Modern C++ (type-safe)
int a = static_cast<int>(f);  // ‚úì Compile-time check
```

**–ß–æ—Ç–∏—Ä–∏ –≤–∏–¥–∏ cast –≤ C++:**

| Cast | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è | –ü—Ä–∏–∫–ª–∞–¥ |
|------|-------------|---------|
| `static_cast<T>` | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è (int‚Üîfloat, upcast) | `static_cast<int>(3.14)` |
| `const_cast<T>` | –ó–Ω—è—Ç–∏/–¥–æ–¥–∞—Ç–∏ const | `const_cast<int&>(const_val)` |
| `dynamic_cast<T>` | –ë–µ–∑–ø–µ—á–Ω–∏–π downcast (–∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é —É runtime) | `dynamic_cast<Derived*>(base)` |
| `reinterpret_cast<T>` | –ë—ñ—Ç–æ–≤–µ –ø–µ—Ä–µ—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É–≤–∞–Ω–Ω—è (–Ω–µ–±–µ–∑–ø–µ—á–Ω–æ!) | `reinterpret_cast<int*>(&float_val)` |

**–ß–æ–º—É static_cast –∫—Ä–∞—â–µ –∑–∞ C-style cast:**

C-style cast –¥—ñ—î —è–∫ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π fallback-–º–µ—Ö–∞–Ω—ñ–∑–º, —â–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ (—ñ –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ) –Ω–∞–º–∞–≥–∞—î—Ç—å—Å—è –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ const_cast, static_cast –∞–±–æ reinterpret_cast –¥–æ –ø–µ—Ä—à–æ–≥–æ –≤–¥–∞–ª–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É, –º–∞—Å–∫—É—é—á–∏ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ—Ä—É—à–µ–Ω–Ω—è type safety. –ù–∞—Ç–æ–º—ñ—Å—Ç—å static_cast –≥–∞—Ä–∞–Ω—Ç—É—î —Å—Ç—Ä–æ–≥—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≥—Ä–∞—Ñ–∞ —Ç–∏–ø—ñ–≤ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó, —ñ–∑–æ–ª—é—î —Å–µ–º–∞–Ω—Ç–∏–∫—É –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î –∞–±—Å–æ–ª—é—Ç–Ω—É –ª–µ–∫—Å–∏—á–Ω—É –≤–∏–¥–∏–º—ñ—Å—Ç—å (grep-ability) –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑–∞—Ç–æ—Ä–∞ —ñ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É.

```cpp
int raw_data = 42;

// C-style: –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä –º–æ–≤—á–∫–∏ —ñ–≥–Ω–æ—Ä—É—î –Ω–µ—Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å —Ç–∏–ø—ñ–≤.
// –í—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –ø—Ä–∏—Ö–æ–≤–∞–Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü—ñ—è –¥–æ reinterpret_cast.
float* dangerous = (float*)&raw_data;  // ‚ùå –ö–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è. Dereferencing = UB (Strict Aliasing violation)

// static_cast: –°—Ç—Ä–æ–≥–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –Ω–∞ –µ—Ç–∞–ø—ñ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó.
// float* safe_ptr = static_cast<float*>(&raw_data); // ‚úì Compilation error!

// –ü—Ä–∞–≤–∏–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó –∑–Ω–∞—á–µ–Ω—å:
float float_val = static_cast<float>(raw_data); // ‚úì –ë–µ–∑–ø–µ—á–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Å—ñ—è (int -> float)

```

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω:**

* **static_cast**: 95% –≤–∏–ø–∞–¥–∫—ñ–≤. –î–µ—Ç–µ—Ä–º—ñ–Ω–æ–≤–∞–Ω—ñ –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó (numeric types, `void*` ‚Üí `T*`).
* **const_cast**: –ú–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó –∑ cv-qualifiers (–∑–Ω—è—Ç—Ç—è `const`/`volatile`, –ø–µ—Ä–µ–≤–∞–∂–Ω–æ –¥–ª—è legacy C API).
* **dynamic_cast**: RTTI downcast —É –ø–æ–ª—ñ–º–æ—Ä—Ñ–Ω–∏—Ö —ñ—î—Ä–∞—Ä—Ö—ñ—è—Ö (–º–∞—î runtime overhead).
* **reinterpret_cast**: –ù–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏–π —Ä–µ—ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –±—ñ—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è (memory-mapped I/O, serialization).


### 2. –°–º–µ—Ä—Ç—å (Destructor / dtor)

–î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ, –∫–æ–ª–∏ –æ–±'—î–∫—Ç –≤–∏—Ö–æ–¥–∏—Ç—å –∑ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ (–∞–±–æ –∫–æ–ª–∏ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è `delete`).
–ô–æ–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî **–ø—Ä–∏–±—Ä–∞—Ç–∏ –∑–∞ —Å–æ–±–æ—é**.

```cpp
    // –°–∏–Ω—Ç–∞–∫—Å–∏—Å: —Ç–∏–ª—å–¥–∞ (~) + —ñ–º'—è –∫–ª–∞—Å—É
    ~Player() {
        std::cout << "[Despawn] Player " << name << " left the game." << std::endl;
        // –¢—É—Ç –º–∏ –∑–∞–∫—Ä–∏–≤–∞—î–º–æ —Ñ–∞–π–ª–∏, –∑–≤—ñ–ª—å–Ω—è—î–º–æ –ø–∞–º'—è—Ç—å (delete),
        // —Ä–æ–∑—Ä–∏–≤–∞—î–º–æ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –ë–î.
    }

```

### –ü–∏—Ç–∞–Ω–Ω—è –¥–æ –≥—Ä—É–ø–∏ (Life Cycle Analysis)

–ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –Ω–∞ —Ü–µ–π –∫–æ–¥ —ñ —Å–∫–∞–∂—ñ—Ç—å, —â–æ –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ –≤ –∫–æ–Ω—Å–æ–ª—å?

```cpp
#include <iostream>
#include <string>

class Player {
private:
    std::string name;
    int health;

public:
    Player(std::string n, int h) : name(std::move(n)), health(h) {
        std::cout << "[Spawn] Player " << name << " created." << std::endl;
    }

    ~Player() {
        std::cout << "[Despawn] Player " << name << " left the game." << std::endl;
    }
};

void gameSession() {
    std::cout << "Game Start" << std::endl;
    Player p("Ghost", 100);
    
    if (true) {
        Player p2("Soap", 80);
    } // <--- –©–æ —Ç—É—Ç —Å—Ç–∞–Ω–µ—Ç—å—Å—è?

    std::cout << "Game End" << std::endl;
} // <--- –ê —Ç—É—Ç?

int main() {
    gameSession();
    return 0;
}

```

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—å (Trace)</summary>

1. Game Start
2. `[Spawn] Player Ghost created.`
3. `[Spawn] Player Soap created.`
4. `[Despawn] Player Soap left the game.` (–ë–æ `p2` –≤–∏–π—à–æ–≤ –∑ –±–ª–æ–∫—É `if`)
5. Game End
6. `[Despawn] Player Ghost left the game.` (–ë–æ —Ñ—É–Ω–∫—Ü—ñ—è –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å)

**–í–∞–∂–ª–∏–≤–æ:** –ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É –Ω–∞ –ø–æ—Ä—è–¥–æ–∫. LIFO (Last In, First Out). –û—Å—Ç–∞–Ω–Ω—ñ–π —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ø–æ–º–∏—Ä–∞—î –ø–µ—Ä—à–∏–º (—è–∫ –Ω–∞ —Å—Ç–µ–∫—É).

</details>

---

## –ß–∞—Å—Ç–∏–Ω–∞ 5: –£–∑–∞–≥–∞–ª—å–Ω–µ–Ω–Ω—è (The Big Picture)

–ú–∏ –ø–µ—Ä–µ–π—à–ª–∏ –Ω–∞ –Ω–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å –º–∏—Å–ª–µ–Ω–Ω—è.

| –†—ñ–≤–µ–Ω—å 1 (C / Procedural) | –†—ñ–≤–µ–Ω—å 2 (C++ / OOP) |
| --- | --- |
| **Struct:** –ü—Ä–æ—Å—Ç–æ –¥–∞–Ω—ñ | **Class:** –î–∞–Ω—ñ + –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ |
| **Initialization:** –ú–æ–∂–Ω–∞ –∑–∞–±—É—Ç–∏ | **Constructor:** –ì–∞—Ä–∞–Ω—Ç—É—î —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é |
| **Cleanup:** –¢—Ä–µ–±–∞ –ø–∞–º'—è—Ç–∞—Ç–∏ (`free`) | **Destructor:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π (`~`) |
| **State:** –ú–æ–∂–µ –±—É—Ç–∏ –±—É–¥—å-—è–∫–∏–º | **Invariant:** –ó–∞–≤–∂–¥–∏ –≤–∞–ª—ñ–¥–Ω–∏–π |

–¶–µ —ñ —î **—ñ–Ω–∂–µ–Ω–µ—Ä—ñ—è**: –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Ç–∞–∫—ñ —Ç–∏–ø–∏ –¥–∞–Ω–∏—Ö, —è–∫—ñ **–≤–∞–∂–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**.

---

## –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

**–î–∏–≤.:** [–ü—Ä–∞–∫—Ç–∏–∫—É–º 9: Monobank Lite](p09_oop_bank.md) ‚Äî –ø–µ—Ä—à–µ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –û–û–ü –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –±–∞–Ω–∫—ñ–≤—Å—å–∫–æ—ó —Å–∏—Å—Ç–µ–º–∏.

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è (Definition of Done)

1. –ß–æ–º—É –º–∏ –∫–∞–∂–µ–º–æ, —â–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç? –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥ "–ø–æ–≥–∞–Ω–æ–≥–æ" –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, —è–∫–∏–π —Ü—å–æ–≥–æ –Ω–µ —Ä–æ–±–∏—Ç—å.
2. –Ø–∫—â–æ —É –≤–∞—à–æ–º—É –∫–ª–∞—Å—ñ —î `MyClass* ptr = new MyClass();` —É –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ, —â–æ **–æ–±–æ–≤'—è–∑–∫–æ–≤–æ** –º–∞—î –±—É—Ç–∏ —É –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ?
3. –ß–∏ –º–æ–∂–µ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –ø—Ä–∏–π–º–∞—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏? –ß–æ–º—É?
4. –í–∏ –ø—Ä–æ–µ–∫—Ç—É—î—Ç–µ –∫–ª–∞—Å `Gun` (–ó–±—Ä–æ—è). –Ø–∫—ñ –ø–æ–ª—è –±—É–¥—É—Ç—å –≤ `private`? –Ø–∫–∏–π —É –Ω–∏—Ö —ñ–Ω–≤–∞—Ä—ñ–∞–Ω—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `ammo`)?

<details markdown="1">
<summary>–í—ñ–¥–ø–æ–≤—ñ–¥—ñ –¥–ª—è —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏</summary>

1. –¢–æ–º—É —â–æ –≤—ñ–Ω –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ. –ü–æ–≥–∞–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä: `Date(int d) { day = d; }` ‚Äî –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–µ–Ω—å `99`.
2. –£ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ –º–∞—î –±—É—Ç–∏ `delete ptr;`. –Ü–Ω–∞–∫—à–µ –±—É–¥–µ Memory Leak. –¶–µ –∑–∞–∫–æ–Ω RAII.
3. **–ù—ñ.** –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–æ—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ. –ú–∏ –Ω–µ –º–æ–∂–µ–º–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ —Ç—É–¥–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, –±–æ –º–∏ –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î–º–æ –π–æ–≥–æ —è–≤–Ω–æ.
4. `private: int ammo, int clipSize;`. –Ü–Ω–≤–∞—Ä—ñ–∞–Ω—Ç: `0 <= ammo <= clipSize`. –ú–µ—Ç–æ–¥–∏ `reload()` —Ç–∞ `fire()` –ø–æ–≤–∏–Ω–Ω—ñ —Å–ª—ñ–¥–∫—É–≤–∞—Ç–∏, —â–æ–± —Ü–µ –ø—Ä–∞–≤–∏–ª–æ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ø–æ—Ä—É—à—É–≤–∞–ª–æ—Å—å.

</details>
