# –õ–µ–∫—Ü—ñ—è 8: –î–∏–Ω–∞–º—ñ—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫—ñ–≤

## üèÅ –ï–∫—Å–ø—Ä–µ—Å-–æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è

–£ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ª–µ–∫—Ü—ñ—ó –º–∏ –¥—ñ–∑–Ω–∞–ª–∏—Å—è –ø—Ä–æ "–±–µ–∑–ø–µ—á–Ω—ñ" –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ ‚Äî –ø–æ—Å–∏–ª–∞–Ω–Ω—è. –î–∞–≤–∞–π—Ç–µ –ø—Ä–∏–≥–∞–¥–∞—î–º–æ:

1.  –£ —á–æ–º—É **–≥–æ–ª–æ–≤–Ω–∞ –ø–µ—Ä–µ–≤–∞–≥–∞** –ø–µ—Ä–µ–¥–∞—á—ñ –≤–µ–ª–∏–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞ (—è–∫ `string`) —É —Ñ—É–Ω–∫—Ü—ñ—é "–∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º" (`&`), –∞ –Ω–µ "–∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º"?
2.  –Ø–∫–µ **–∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ** –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏, —â–æ–± *–≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏*, —â–æ —Ñ—É–Ω–∫—Ü—ñ—è –Ω–µ –∑–º—ñ–Ω–∏—Ç—å –Ω–∞—à—É –∑–º—ñ–Ω–Ω—É, –ø–µ—Ä–µ–¥–∞–Ω—É –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º?
3.  –ß–æ–º—É **–Ω–µ –º–æ–∂–Ω–∞** –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É –∑–º—ñ–Ω–Ω—É –∑ —Ñ—É–Ω–∫—Ü—ñ—ó?

<details markdown="1">
<summary>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</summary>

1.  **–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.** –ú–∏ —É–Ω–∏–∫–∞—î–º–æ –¥–æ—Ä–æ–≥–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó **–∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è** –≤—Å—å–æ–≥–æ –æ–±'—î–∫—Ç–∞.
2.  –ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ **`const`** (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `const string& str`).
3.  –¢–æ–º—É —â–æ –ª–æ–∫–∞–ª—å–Ω–∞ –∑–º—ñ–Ω–Ω–∞ **–∑–Ω–∏—â—É—î—Ç—å—Å—è** –ø—ñ—Å–ª—è –≤–∏—Ö–æ–¥—É –∑ —Ñ—É–Ω–∫—Ü—ñ—ó, —ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Å—Ç–∞—î "–≤–∏—Å—è—á–∏–º", –≤–∫–∞–∑—É—é—á–∏ –Ω–∞ "—Å–º—ñ—Ç—Ç—è" –≤ –ø–∞–º'—è—Ç—ñ.

</details>

## –î–∏–Ω–∞–º—ñ—á–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ: `new` —Ç–∞ `delete`

–î–æ—Å—ñ –º–∏ –ø—Ä–∞—Ü—é–≤–∞–ª–∏ –∑—ñ **—Å—Ç–∞—Ç–∏—á–Ω–∏–º –≤–∏–¥—ñ–ª–µ–Ω–Ω—è–º –ø–∞–º'—è—Ç—ñ**: –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Å–∞–º –≤–∏–∑–Ω–∞—á–∞–≤, —Å–∫—ñ–ª—å–∫–∏ –ø–∞–º'—è—Ç—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–ª—è –∑–º—ñ–Ω–Ω–∏—Ö (—É —Å—Ç–µ–∫—É), —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è–≤ —ó—ó –ø—Ä–∏ –≤–∏—Ö–æ–¥—ñ –∑ `{}`.

**–î–∏–Ω–∞–º—ñ—á–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ** –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç—É –∑–∞–ø–∏—Ç—É–≤–∞—Ç–∏ –ø–∞–º'—è—Ç—å –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏ (–≤ runtime) –∑—ñ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ—ó –æ–±–ª–∞—Å—Ç—ñ, —â–æ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **"–∫—É–ø–∞" (heap)**. –¶–µ –¥–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å, –∞–ª–µ –π –Ω–∞–∫–ª–∞–¥–∞—î –ø–æ–≤–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å.

–î–ª—è —Ü—å–æ–≥–æ –≤ C++ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∏ `new` —Ç–∞ `delete`, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞–º–∏.

  * **`new`**: –ó–∞–ø–∏—Ç—É—î –±–ª–æ–∫ –ø–∞–º'—è—Ç—ñ –∑ "–∫—É–ø–∏" (heap) —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ —Ü—å–æ–≥–æ –±–ª–æ–∫—É.
  * **`delete`**: –ü–æ–≤–µ—Ä—Ç–∞—î –±–ª–æ–∫ –ø–∞–º'—è—Ç—ñ, —Ä–∞–Ω—ñ—à–µ –≤–∏–¥—ñ–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ `new`, –Ω–∞–∑–∞–¥ —É —Å–∏—Å—Ç–µ–º—É.

<!-- end list -->

```cpp
// –°—Ç–∞—Ç–∏—á–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è (–ø–∞–º'—è—Ç—å —É —Å—Ç–µ–∫—É)
int number = 88;
int *p1 = &number; // p1 –≤–∫–∞–∑—É—î –Ω–∞ –ø–∞–º'—è—Ç—å —É —Å—Ç–µ–∫—É

// –î–∏–Ω–∞–º—ñ—á–Ω–µ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è (–ø–∞–º'—è—Ç—å —É –∫—É–ø—ñ)
int *p2 = new int;    // –í–∏–¥—ñ–ª–∏—Ç–∏ –ø–∞–º'—è—Ç—å –¥–ª—è –æ–¥–Ω–æ–≥–æ int –≤ –∫—É–ø—ñ
*p2 = 99;             // –ó–∞–ø–∏—Å–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è 99 —É –≤–∏–¥—ñ–ª–µ–Ω—É –∫–æ–º—ñ—Ä–∫—É

cout << "Value: " << *p2 << endl; // –í–∏–≤–µ–¥–µ 99

delete p2;            // –ó–≤—ñ–ª—å–Ω–∏—Ç–∏ –≤–∏–¥—ñ–ª–µ–Ω—É –ø–∞–º'—è—Ç—å. –í–ê–ñ–õ–ò–í–û!
p2 = nullptr;         // –ì–∞—Ä–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞: "–æ–±–Ω—É–ª–∏—Ç–∏" –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –ø—ñ—Å–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è
```

**–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –≤–∏–¥—ñ–ª–µ–Ω–Ω—ñ:**

```cpp
// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ç–∏–ø—É
int *p1 = new int(88);
double *p2 = new double{1.23}; // C++11 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

// –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –æ–±'—î–∫—Ç–∞ (–≤–∏–∫–ª–∏–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)
Date *date1 = new Date(1999, 1, 1);
```

### ‚ùì –ü–∏—Ç–∞–Ω–Ω—è –¥–æ –≥—Ä—É–ø–∏

–©–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –º–∏ –≤–∏–∫–ª–∏—á–µ–º–æ `new int;`, –∞–ª–µ **–∑–∞–±—É–¥–µ–º–æ** –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `delete`? –ö—É–¥–∏ "–∑–Ω–∏–∫–Ω–µ" —Ü—è –ø–∞–º'—è—Ç—å? –Ø–∫ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è —Ü—è –ø–æ—à–∏—Ä–µ–Ω–∞ –ø–æ–º–∏–ª–∫–∞?

<details markdown="1">
<summary>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>
–¶–µ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **–≤–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ (memory leak)**. –ü–∞–º'—è—Ç—å "–Ω–µ –∑–Ω–∏–∫–Ω–µ". –í–æ–Ω–∞ –∑–∞–ª–∏—à–∏—Ç—å—Å—è "–∑–∞—Ä–µ–∑–µ—Ä–≤–æ–≤–∞–Ω–æ—é" –¥–ª—è –Ω–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏, –∞–ª–µ –æ—Å–∫—ñ–ª—å–∫–∏ –º–∏ –≤—Ç—Ä–∞—Ç–∏–ª–∏ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –Ω–µ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏–π—à–æ–≤—à–∏ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó), –º–∏ –≤–∂–µ *–Ω—ñ–∫–æ–ª–∏* –Ω–µ –∑–º–æ–∂–µ–º–æ —ó—ó –∑–≤—ñ–ª—å–Ω–∏—Ç–∏. –Ø–∫—â–æ —Ç–∞–∫–∏—Ö "–≤–∏—Ç–æ–∫—ñ–≤" –±–∞–≥–∞—Ç–æ, –ø—Ä–æ–≥—Ä–∞–º–∞ –º–æ–∂–µ "–∑'—ó—Å—Ç–∏" –≤—Å—é –¥–æ—Å—Ç—É–ø–Ω—É –ø–∞–º'—è—Ç—å —ñ "–≤–ø–∞—Å—Ç–∏".
</details>

-----

## –î–∏–Ω–∞–º—ñ—á–Ω—ñ –º–∞—Å–∏–≤–∏: `new[]` —Ç–∞ `delete[]`

–î–∏–Ω–∞–º—ñ—á–Ω–æ –º–æ–∂–Ω–∞ –≤–∏–¥—ñ–ª—è—Ç–∏ –ø–∞–º'—è—Ç—å —ñ –¥–ª—è –º–∞—Å–∏–≤—ñ–≤, —Ä–æ–∑–º—ñ—Ä —è–∫–∏—Ö –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∑–Ω–∞—á–µ–Ω–∏–π –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.

  * **`new T[size]`**: –í–∏–¥—ñ–ª—è—î –ø–∞–º'—è—Ç—å –¥–ª—è –º–∞—Å–∏–≤—É –∑ `size` –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç–∏–ø—É `T`.
  * **`delete[]`**: **–û–±–æ–≤'—è–∑–∫–æ–≤–æ** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ, –≤–∏–¥—ñ–ª–µ–Ω–æ—ó —á–µ—Ä–µ–∑ `new[]`.

<!-- end list -->

```cpp
int size;
cout << "Enter array size: ";
cin >> size;

// 'size' - —Ü–µ –∑–º—ñ–Ω–Ω–∞, –∞ –Ω–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞.
// –°—Ç–∞—Ç–∏—á–Ω–∏–π –º–∞—Å–∏–≤ 'int arr[size];' –Ω–µ —Å–ø—Ä–∞—Ü—é—î (—Ü–µ –Ω–µ C++).
// –ü–æ—Ç—Ä—ñ–±–µ–Ω –¥–∏–Ω–∞–º—ñ—á–Ω–∏–π.
int *arr = new int[size]; // –í–∏–¥—ñ–ª–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –¥–ª—è –º–∞—Å–∏–≤—É

arr[0] = 10;
arr[1] = 20;
// ...

delete[] arr; // –ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –º–∞—Å–∏–≤—É
arr = nullptr;
```

**–í–∞–∂–ª–∏–≤–æ:** –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `delete` (–±–µ–∑ `[]`) –∑–∞–º—ñ—Å—Ç—å `delete[]` –¥–ª—è –º–∞—Å–∏–≤—É —î —Å–µ—Ä–π–æ–∑–Ω–æ—é –ø–æ–º–∏–ª–∫–æ—é, —â–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ (–∑–∞–∑–≤–∏—á–∞–π –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è –ª–∏—à–µ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç, –∞ —Ä–µ—à—Ç–∞ "—Ç–µ—á–µ").

-----

## –ú–∞—Å–∏–≤–∏ —Ç–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏: –ì–ª–∏–±–æ–∫–∏–π –∑–≤'—è–∑–æ–∫

–£ C++ —ñ–º'—è –º–∞—Å–∏–≤—É –ø–æ —Å—É—Ç—ñ —î **–≤–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–º –Ω–∞ –π–æ–≥–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç**.

```cpp
int numbers[] = {10, 20, 30};
// 'numbers' —î –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–æ–º '&numbers[0]'
```

–¶–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å **–≤–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–≤–æ—ó –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∏**.

### –í–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–≤–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞

–ö–æ–ª–∏ –≤–∏ –¥–æ–¥–∞—î—Ç–µ `1` –¥–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞, –π–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –∑–±—ñ–ª—å—à—É—î—Ç—å—Å—è –Ω–µ –Ω–∞ 1 –±–∞–π—Ç, –∞ –Ω–∞ **—Ä–æ–∑–º—ñ—Ä —Ç–∏–ø—É –¥–∞–Ω–∏—Ö**, –Ω–∞ —è–∫–∏–π –≤—ñ–Ω –≤–∫–∞–∑—É—î (`sizeof(type)`).

```cpp
int numbers[] = {11, 22, 33};
int *iPtr = numbers; // iPtr –≤–∫–∞–∑—É—î –Ω–∞ 11 (–∞–¥—Ä–µ—Å–∞, –Ω–∞–ø—Ä., 0x1000)

cout << *iPtr << endl; // 11

// –í–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–≤–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞
cout << *(iPtr + 1) << endl; // 22 (–µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç numbers[1])
cout << *(iPtr + 2) << endl; // 33 (–µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç numbers[2])

// iPtr + 1 - —Ü–µ –∞–¥—Ä–µ—Å–∞ 0x1000 + sizeof(int), —Ç–æ–±—Ç–æ 0x1004
```

### –ü–µ—Ä–µ–¥–∞—á–∞ –º–∞—Å–∏–≤—ñ–≤ —É —Ñ—É–Ω–∫—Ü—ñ—ó

–ö–æ–ª–∏ –º–∞—Å–∏–≤ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —É —Ñ—É–Ω–∫—Ü—ñ—é, –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è **–ª–∏—à–µ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫** –Ω–∞ –π–æ–≥–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç.

  * –ó–º—ñ–Ω–∏, –∑—Ä–æ–±–ª–µ–Ω—ñ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, **–≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –º–∞—Å–∏–≤**.
  * **–†–æ–∑–º—ñ—Ä –º–∞—Å–∏–≤—É "–≤—Ç—Ä–∞—á–∞—î—Ç—å—Å—è"** (—Ñ—É–Ω–∫—Ü—ñ—è –±–∞—á–∏—Ç—å –ª–∏—à–µ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫). –ß–µ—Ä–µ–∑ —Ü–µ —Ä–æ–∑–º—ñ—Ä –º–∞—Å–∏–≤—É *–∑–∞–≤–∂–¥–∏* –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º (`int size`).
  * –£ —Å–∏–≥–Ω–∞—Ç—É—Ä—ñ —Ñ—É–Ω–∫—Ü—ñ—ó `void func(int arr[])` —Ç–∞ `void func(int* arr)` —î –∞–±—Å–æ–ª—é—Ç–Ω–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–∏–º–∏.

-----

### –ß–æ–º—É `sizeof` –Ω–µ –ø—Ä–∞—Ü—é—î –¥–ª—è –º–∞—Å–∏–≤—ñ–≤ —É —Ñ—É–Ω–∫—Ü—ñ—è—Ö?

–ö–æ–ª–∏ –º–∞—Å–∏–≤ –ø–µ—Ä–µ–¥–∞—î—Ç—å—Å—è —É —Ñ—É–Ω–∫—Ü—ñ—é, –≤—ñ–Ω "—Ä–æ–∑–ø–∞–¥–∞—î—Ç—å—Å—è" (decays) –¥–æ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞. –§—É–Ω–∫—Ü—ñ—è –±–∞—á–∏—Ç—å –ª–∏—à–µ –∞–¥—Ä–µ—Å—É –ø–µ—Ä—à–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, –∞ –Ω–µ –≤–µ—Å—å –º–∞—Å–∏–≤.

–û–ø–µ—Ä–∞—Ç–æ—Ä `sizeof` –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î —Ü–µ –¥—É–∂–µ —á—ñ—Ç–∫–æ:

```cpp
#include <iostream>

// –§—É–Ω–∫—Ü—ñ—è –æ—Ç—Ä–∏–º—É—î 'arr' —è–∫ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ 'int*'
void printArraySize(int arr[], int size) {
    std::cout << "sizeof –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó: " << sizeof(arr) << " –±–∞–π—Ç" << std::endl;
    // –ù–∞ 64-–±—ñ—Ç–Ω—ñ–π —Å–∏—Å—Ç–µ–º—ñ —Ü–µ –≤–∏–≤–µ–¥–µ 8 (—Ä–æ–∑–º—ñ—Ä –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞)
    // –ù–∞ 32-–±—ñ—Ç–Ω—ñ–π —Å–∏—Å—Ç–µ–º—ñ —Ü–µ –≤–∏–≤–µ–¥–µ 4 (—Ä–æ–∑–º—ñ—Ä –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞)
}

int main() {
    int numbers[10] = {0}; // –ú–∞—Å–∏–≤ –∑ 10 int

    // sizeof –≤ main() –±–∞—á–∏—Ç—å –ø–æ–≤–Ω–∏–π –º–∞—Å–∏–≤
    std::cout << "sizeof –≤ main: " << sizeof(numbers) << " –±–∞–π—Ç" << std::endl;
    // –¶–µ –≤–∏–≤–µ–¥–µ 40 (10 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ * 4 –±–∞–π—Ç–∏)
    
    printArraySize(numbers, 10);
    
    return 0;
}
```

–°–∞–º–µ —Ç–æ–º—É –º–∏ **–∑–∞–≤–∂–¥–∏** –ø–æ–≤–∏–Ω–Ω—ñ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä –º–∞—Å–∏–≤—É —É —Ñ—É–Ω–∫—Ü—ñ—é —è–∫ –æ–∫—Ä–µ–º–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä (`int size`).

-----

### –†–æ–±–æ—Ç–∞ –∑ –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º –º–∞—Å–∏–≤—É

–ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ `(–≤–∫–∞–∑—ñ–≤–Ω–∏–∫ + —Ä–æ–∑–º—ñ—Ä)`, –º–∏ –º–æ–∂–µ–º–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–≤–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏: `begin` (–Ω–∞ –ø–æ—á–∞—Ç–æ–∫ –¥—ñ–∞–ø–∞–∑–æ–Ω—É) —ñ `end` (–Ω–∞ –µ–ª–µ–º–µ–Ω—Ç, *–Ω–∞—Å—Ç—É–ø–Ω–∏–π* –∑–∞ –∫—ñ–Ω—Ü–µ–º –¥—ñ–∞–ø–∞–∑–æ–Ω—É).

```cpp
// –§—É–Ω–∫—Ü—ñ—è, —â–æ –ø—Ä–∞—Ü—é—î –∑ –¥—ñ–∞–ø–∞–∑–æ–Ω–æ–º [begin, end)
int sumRange(const int* pBegin, const int* pEnd) {
    int sum = 0;
    // –ú–∏ —Ä—É—Ö–∞—î–º–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ 'p' –≤–ø–µ—Ä–µ–¥,
    // –ø–æ–∫–∏ –≤—ñ–Ω –Ω–µ –¥–æ—Ä—ñ–≤–Ω—é–≤–∞—Ç–∏–º–µ –∫—ñ–Ω—Ü–µ–≤–æ–º—É –≤–∫–∞–∑—ñ–≤–Ω–∏–∫—É 'pEnd'
    for (const int* p = pBegin; p != pEnd; ++p) {
        sum += *p; // –î–æ–¥–∞—î–º–æ –∑–Ω–∞—á–µ–Ω–Ω—è, –Ω–∞ —è–∫–µ –≤–∫–∞–∑—É—î p
    }
    return sum;
}

int main() {
    int arr[] = {10, 20, 30, 40, 50};

    // –°—É–º–∞ –≤—Å—å–æ–≥–æ –º–∞—Å–∏–≤—É
    // (arr + 5) - —Ü–µ –∞–¥—Ä–µ—Å–∞ –û–î–†–ê–ó–£ –ü–Ü–°–õ–Ø –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞
    int totalSum = sumRange(arr, arr + 5); // 10+20+30+40+50 = 150

    // –°—É–º–∞ —á–∞—Å—Ç–∏–Ω–∏ –º–∞—Å–∏–≤—É (–∑ —ñ–Ω–¥–µ–∫—Å—É 1 –¥–æ 3, –Ω–µ –≤–∫–ª—é—á–∞—é—á–∏ 4)
    int partialSum = sumRange(arr + 1, arr + 4); // 20+30+40 = 90
}
```

-----

## –ö–µ—Ä—É–≤–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–æ–º: `const` —Ç–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏

–ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `const` –º–æ–∂–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏—Å—è —è–∫ –¥–æ –¥–∞–Ω–∏—Ö, –Ω–∞ —è–∫—ñ –≤–∫–∞–∑—É—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫, —Ç–∞–∫ —ñ –¥–æ —Å–∞–º–æ–≥–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞. –¶–µ —Å–∫–ª–∞–¥–Ω–∞, –∞–ª–µ –≤–∞–∂–ª–∏–≤–∞ —Ç–µ–º–∞.

> **–ú–Ω–µ–º–æ–Ω—ñ—á–Ω–µ –ø—Ä–∞–≤–∏–ª–æ:** –ß–∏—Ç–∞–π—Ç–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è **—Å–ø—Ä–∞–≤–∞ –Ω–∞–ª—ñ–≤–æ**.

1.  **`const int * ptr`** (–∞–±–æ `int const * ptr`)

      * –ß–∏—Ç–∞—î–º–æ: `ptr` ‚Äî —Ü–µ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ (`*`) –Ω–∞ `int`, —è–∫–∏–π —î `const`.
      * **–©–æ:** **–ó–Ω–∞—á–µ–Ω–Ω—è** –∑–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–º –º—ñ–Ω—è—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞.
      * **–ê–ª–µ:** –°–∞–º **–≤–∫–∞–∑—ñ–≤–Ω–∏–∫** –º–æ–∂–Ω–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç–∏.
      * *–ü—Ä–∏–∫–ª–∞–¥:* `*ptr = 10; // –ü–û–ú–ò–õ–ö–ê` | `ptr = &anotherVar; // –î–û–ó–í–û–õ–ï–ù–û`

2.  **`int * const ptr`**

      * –ß–∏—Ç–∞—î–º–æ: `ptr` ‚Äî —Ü–µ **–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∏–π (`const`) –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ (`*`)** –Ω–∞ `int`.
      * **–©–æ:** **–ó–Ω–∞—á–µ–Ω–Ω—è** –∑–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–º –º—ñ–Ω—è—Ç–∏ –º–æ–∂–Ω–∞.
      * **–ê–ª–µ:** –°–∞–º **–≤–∫–∞–∑—ñ–≤–Ω–∏–∫** (–∞–¥—Ä–µ—Å—É, —è–∫—É –≤—ñ–Ω –∑–±–µ—Ä—ñ–≥–∞—î) –º—ñ–Ω—è—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞.
      * *–ü—Ä–∏–∫–ª–∞–¥:* `*ptr = 10; // –î–û–ó–í–û–õ–ï–ù–û` | `ptr = &anotherVar; // –ü–û–ú–ò–õ–ö–ê`

3.  **`const int * const ptr`**

      * –ß–∏—Ç–∞—î–º–æ: `ptr` ‚Äî —Ü–µ **–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∏–π (`const`) –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ (`*`)** –Ω–∞ `int`, —è–∫–∏–π —î `const`.
      * **–©–æ:** **–ù—ñ –∑–Ω–∞—á–µ–Ω–Ω—è, –Ω—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫** –º—ñ–Ω—è—Ç–∏ –Ω–µ –º–æ–∂–Ω–∞.
      * *–ü—Ä–∏–∫–ª–∞–¥:* `*ptr = 10; // –ü–û–ú–ò–õ–ö–ê` | `ptr = &anotherVar; // –ü–û–ú–ò–õ–ö–ê`

-----

## –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç–∏–ø–∏ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫—ñ–≤

  * **–í–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—ó (Function Pointers):**
    –£ C++ —ñ–º'—è —Ñ—É–Ω–∫—Ü—ñ—ó —Å–∞–º–µ –ø–æ —Å–æ–±—ñ —î —ó—ó –∞–¥—Ä–µ—Å–æ—é –≤ –ø–∞–º'—è—Ç—ñ. –ú–∏ –º–æ–∂–µ–º–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫, —â–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏–º–µ —Ü—é –∞–¥—Ä–µ—Å—É, —ñ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é —á–µ—Ä–µ–∑ –Ω—å–æ–≥–æ. –¶–µ –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó "–∫–æ–ª–±–µ–∫—ñ–≤" (callback).

    **–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
    `—Ç–∏–ø_–ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è (* —ñ–º'—è_–≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞) (—Å–ø–∏—Å–æ–∫_—Ç–∏–ø—ñ–≤_–ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤);`

    **–ü—Ä–∏–∫–ª–∞–¥:**
    ```cpp
    #include <iostream>
    
    // –ó–≤–∏—á–∞–π–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è
    int add(int a, int b) { return a + b; }
    
    int subtract(int a, int b) { return a - b; }

    int main() {
        // –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞ 'pFunc' –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é,
        // —â–æ –ø—Ä–∏–π–º–∞—î (int, int) —ñ –ø–æ–≤–µ—Ä—Ç–∞—î int
        int (*pFunc)(int, int);

        // 1. –ü—Ä–∏—Å–≤–æ—é—î–º–æ –∞–¥—Ä–µ—Å—É —Ñ—É–Ω–∫—Ü—ñ—ó 'add'
        pFunc = add; // –ú–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ –ø–∏—Å–∞—Ç–∏ pFunc = &add;
        std::cout << "–í–∏–∫–ª–∏–∫ —á–µ—Ä–µ–∑ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫: " << pFunc(5, 3) << std::endl; // –í–∏–≤–µ–¥–µ 8

        // 2. –¢–µ–ø–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î–º–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —ñ–Ω—à—É —Ñ—É–Ω–∫—Ü—ñ—é
        pFunc = subtract;
        std::cout << "–í–∏–∫–ª–∏–∫ —á–µ—Ä–µ–∑ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫: " << pFunc(5, 3) << std::endl; // –í–∏–≤–µ–¥–µ 2

        return 0;
    }
    ```
  * **–£–∑–∞–≥–∞–ª—å–Ω–µ–Ω—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ (`void*`):** –í–∫–∞–∑—ñ–≤–Ω–∏–∫ —Ç–∏–ø—É `void*` –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∞–¥—Ä–µ—Å—É –∑–º—ñ–Ω–Ω–æ—ó **–±—É–¥—å-—è–∫–æ–≥–æ —Ç–∏–ø—É**. –ô–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ —Ä–æ–∑—ñ–º–µ–Ω—É–≤–∞—Ç–∏ –Ω–∞–ø—Ä—è–º—É; –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º –π–æ–≥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —è–≤–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞ (–Ω–∞–ø—Ä., `static_cast<int*>(voidPtr)`).

-----

## –°—É—á–∞—Å–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞: –†–æ–∑—É–º–Ω—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏ (Smart Pointers)

–†—É—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `new` —Ç–∞ `delete` —î –¥–∂–µ—Ä–µ–ª–æ–º –±–∞–≥–∞—Ç—å–æ—Ö –ø–æ–º–∏–ª–æ–∫ (–≤–∏—Ç–æ–∫–∏ –ø–∞–º'—è—Ç—ñ, –ø–æ–¥–≤—ñ–π–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è). –°—É—á–∞—Å–Ω–∏–π C++ (–ø–æ—á–∏–Ω–∞—é—á–∏ –∑ C++11) –ø—Ä–æ–ø–æ–Ω—É—î –∫—Ä–∞—â–µ —Ä—ñ—à–µ–Ω–Ω—è ‚Äî **—Ä–æ–∑—É–º–Ω—ñ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏** –∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ `<memory>`.

–í–æ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è—é—Ç—å –ø–∞–º'—è—Ç—å, –∫–æ–ª–∏ –æ–±'—î–∫—Ç –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω, –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å –ø—Ä–∏–Ω—Ü–∏–ø—É **RAII (Resource Acquisition Is Initialization)** ‚Äî "–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—É —î —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è".

  * **`std::unique_ptr`**: **–£–Ω—ñ–∫–∞–ª—å–Ω–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è.** –ü–∞–º'—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è (–≤–∏–∫–ª–∏–∫–∞—î `delete`), –∫–æ–ª–∏ `unique_ptr` –≤–∏—Ö–æ–¥–∏—Ç—å –∑ –æ–±–ª–∞—Å—Ç—ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ. –ö–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–∞–∫–∏–π –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–µ –º–æ–∂–Ω–∞, –ª–∏—à–µ –ø–µ—Ä–µ–º—ñ—â–∞—Ç–∏.
  * **`std::shared_ptr`**: **–°–ø—ñ–ª—å–Ω–µ –≤–æ–ª–æ–¥—ñ–Ω–Ω—è.** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ª—ñ—á–∏–ª—å–Ω–∏–∫ –ø–æ—Å–∏–ª–∞–Ω—å. –ü–∞–º'—è—Ç—å –∑–≤—ñ–ª—å–Ω—è—î—Ç—å—Å—è, –∫–æ–ª–∏ *–æ—Å—Ç–∞–Ω–Ω—ñ–π* `shared_ptr`, —â–æ –≤–∫–∞–∑—É—î –Ω–∞ –æ–±'—î–∫—Ç, –∑–Ω–∏—â—É—î—Ç—å—Å—è.
  * **`std::weak_ptr`**: "–°–ª–∞–±–∫–µ" –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç, –∫–µ—Ä–æ–≤–∞–Ω–∏–π `shared_ptr`. –ù–µ –≤–ø–ª–∏–≤–∞—î –Ω–∞ –ª—ñ—á–∏–ª—å–Ω–∏–∫ –ø–æ—Å–∏–ª–∞–Ω—å —ñ –¥–æ–ø–æ–º–∞–≥–∞—î —Ä–æ–∑—Ä–∏–≤–∞—Ç–∏ —Ü–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

### ‚ùì –ü–∏—Ç–∞–Ω–Ω—è –¥–æ –≥—Ä—É–ø–∏

–ß–æ–º—É `unique_ptr` –≤–≤–∞–∂–∞—î—Ç—å—Å—è "–±–µ–∑–ø–µ—á–Ω—ñ—à–∏–º" –∑–∞ —Å–∏—Ä–∏–π –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ `new`? (–ü—ñ–¥–∫–∞–∑–∫–∞: —â–æ —Å—Ç–∞–Ω–µ—Ç—å—Å—è, —è–∫—â–æ –º–∏ –≤–∏–¥—ñ–ª–∏–º–æ –ø–∞–º'—è—Ç—å —á–µ—Ä–µ–∑ `new`, –∞ –ø–æ—Ç—ñ–º —É —Ñ—É–Ω–∫—Ü—ñ—ó —Å—Ç–∞–Ω–µ—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∞, —ñ –º–∏ –≤–∏–π–¥–µ–º–æ –∑ –Ω–µ—ó —Ä–∞–Ω—ñ—à–µ, –Ω—ñ–∂ –¥—ñ–π–¥–µ–º–æ –¥–æ `delete`?)

<details markdown="1">
<summary>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</summary>
–Ø–∫—â–æ –º–∏ –≤–∏–π–¥–µ–º–æ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–∞–Ω—ñ—à–µ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ `return` –∞–±–æ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è), –Ω–∞—à `delete` –Ω—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–∫–ª–∏—á–µ—Ç—å—Å—è, —ñ –º–∏ –æ—Ç—Ä–∏–º–∞—î–º–æ **–≤–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ**. `unique_ptr` ‚Äî —Ü–µ –æ–±'—î–∫—Ç. –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –º–∏ –¥–æ—Å—Ç—Ä–æ–∫–æ–≤–æ –≤–∏–π–¥–µ–º–æ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó, C++ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ **–¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä** –æ–±'—î–∫—Ç–∞ `unique_ptr` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π. –ê —Ü–µ–π –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–ª–∏—á–µ `delete` –∑–∞ –Ω–∞—Å. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –∑–∞ –±—É–¥—å-—è–∫–∏—Ö –æ–±—Å—Ç–∞–≤–∏–Ω.
</details>

> **–ó–æ–ª–æ—Ç–µ –ø—Ä–∞–≤–∏–ª–æ —Å—É—á–∞—Å–Ω–æ–≥–æ C++:** –í—ñ–¥–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–≤–∞–≥—É **—Ä–æ–∑—É–º–Ω–∏–º –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∞–º** (`unique_ptr`, `shared_ptr`) –Ω–∞–¥ —Å–∏—Ä–∏–º–∏ (`new`/`delete`) –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é.

-----

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è

1.  **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é.** –©–æ —Ç–∞–∫–µ "–≤–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ" (memory leak)? –Ø–∫–∞ –ø–∞—Ä–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ñ–≤ —É C++ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ—é –ø–∞–º'—è—Ç—Ç—é, —ñ —è–∫–∞ –ø–æ–º–∏–ª–∫–∞ –≤ —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –≤–∏—Ç–æ–∫—ñ–≤?
2.  **–í–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–≤–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞.** –©–æ –≤–∏–≤–µ–¥–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –∫–æ–¥, —è–∫—â–æ –∞–¥—Ä–µ—Å–∞ `arr` –¥–æ—Ä—ñ–≤–Ω—é—î `0x1000`, –∞ `sizeof(int)` –¥–æ—Ä—ñ–≤–Ω—é—î 4?
    ```cpp
    int arr[] = {10, 20, 30};
    int* p = arr;
    cout << *(p + 1) << endl;
    cout << (p + 1) << endl;
    ```
3.  **`const` —Ç–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏.** –ü–æ—è—Å–Ω—ñ—Ç—å —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ `const int* ptr` —Ç–∞ `int* const ptr`. –ù–∞–≤–µ–¥—ñ—Ç—å –ø—Ä–∏–∫–ª–∞–¥–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –±—É–¥—É—Ç—å –¥–æ–∑–≤–æ–ª–µ–Ω—ñ —Ç–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω—ñ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑ –Ω–∏—Ö.
4.  **–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è.** –ù–∞–ø–∏—à—ñ—Ç—å —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î –º–∞—Å–∏–≤ —Ü—ñ–ª–∏—Ö —á–∏—Å–µ–ª –∑–∞–¥–∞–Ω–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É (`size`), –∑–∞–ø–æ–≤–Ω—é—î –π–æ–≥–æ –∫–≤–∞–¥—Ä–∞—Ç–∞–º–∏ —á–∏—Å–µ–ª –≤—ñ–¥ 0 –¥–æ `size-1` —ñ –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —Ü–µ–π –º–∞—Å–∏–≤.

<details markdown="1">
<summary>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</summary>

**1. –í–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ:**

  * **–í–∏—Ç—ñ–∫ –ø–∞–º'—è—Ç—ñ (Memory Leak)** ‚Äî —Ü–µ —Å–∏—Ç—É–∞—Ü—ñ—è, –∫–æ–ª–∏ –ø–∞–º'—è—Ç—å, –≤–∏–¥—ñ–ª–µ–Ω–∞ –¥–∏–Ω–∞–º—ñ—á–Ω–æ (—É "–∫—É–ø—ñ"), –±—ñ–ª—å—à–µ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—Ä–æ–≥—Ä–∞–º–æ—é, –∞–ª–µ –Ω–µ –±—É–ª–∞ –∑–≤—ñ–ª—å–Ω–µ–Ω–∞. –û—Å–∫—ñ–ª—å–∫–∏ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ —Ü—é –ø–∞–º'—è—Ç—å –≤—Ç—Ä–∞—á–µ–Ω–æ, –ø—Ä–æ–≥—Ä–∞–º–∞ –Ω–µ –º–æ–∂–µ —ó—ó –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Å–∏—Å—Ç–µ–º—ñ.
  * **–û–ø–µ—Ä–∞—Ç–æ—Ä–∏:** `new` (–¥–ª—è –≤–∏–¥—ñ–ª–µ–Ω–Ω—è) —Ç–∞ `delete` (–¥–ª—è –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è). –ê–±–æ `new[]` —Ç–∞ `delete[]` –¥–ª—è –º–∞—Å–∏–≤—ñ–≤.
  * **–ü–æ–º–∏–ª–∫–∞:** –í–∏—Ç—ñ–∫ —Å—Ç–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ `new` –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è, –∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π `delete` ‚Äî –Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –π–æ–≥–æ –∑–∞–±—É–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç–∏, –∞–±–æ –ø—Ä–æ–≥—Ä–∞–º–∞ –≤–∏–π—à–ª–∞ –∑ —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–∞–Ω—ñ—à–µ —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É).

**2. –í–∫–∞–∑—ñ–≤–Ω–∏–∫–æ–≤–∞ –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞:**
–ö–æ–¥ –≤–∏–≤–µ–¥–µ:

```
20
0x1004
```

  * **`*(p + 1)`**: `p` –≤–∫–∞–∑—É—î –Ω–∞ `arr[0]`. `p + 1` ‚Äî —Ü–µ –∞–¥—Ä–µ—Å–∞ `p` + `sizeof(int)`, —Ç–æ–±—Ç–æ `0x1000 + 4 = 0x1004`. –¶–µ –∞–¥—Ä–µ—Å–∞ –¥—Ä—É–≥–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ (`arr[1]`). –û–ø–µ—Ä–∞—Ç–æ—Ä `*` —Ä–æ–∑—ñ–º–µ–Ω–æ–≤—É—î —Ü—é –∞–¥—Ä–µ—Å—É —ñ –¥—ñ—Å—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è `20`.
  * **`(p + 1)`**: –¶–µ –ø—Ä–æ—Å—Ç–æ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è –∞–¥—Ä–µ—Å–∏, —è–∫ –æ–ø–∏—Å–∞–Ω–æ –≤–∏—â–µ. –ù–∞ –µ–∫—Ä–∞–Ω –±—É–¥–µ –≤–∏–≤–µ–¥–µ–Ω–æ `0x1004` (–∞–±–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç —É 10-–≤—ñ–π —Å–∏—Å—Ç–µ–º—ñ).

**3. `const` —Ç–∞ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫–∏:**

  * **`const int* ptr` (–í–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É):** "–Ø –≤–∫–∞–∑—É—é –Ω–∞ `int`, —è–∫–∏–π —î `const`".
      * `*ptr = 5; // –ó–ê–ë–û–†–û–ù–ï–ù–û` (–Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ *–∑–Ω–∞—á–µ–Ω–Ω—è*).
      * `ptr = &otherVar; // –î–û–ó–í–û–õ–ï–ù–û` (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ *–≤–∫–∞–∑—ñ–≤–Ω–∏–∫*).
  * **`int* const ptr` (–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∏–π –≤–∫–∞–∑—ñ–≤–Ω–∏–∫):** "–Ø *–∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω–∏–π* –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ `int`".
      * `*ptr = 5; // –î–û–ó–í–û–õ–ï–ù–û` (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ *–∑–Ω–∞—á–µ–Ω–Ω—è*).
      * `ptr = &otherVar; // –ó–ê–ë–û–†–û–ù–ï–ù–û` (–Ω–µ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ *–≤–∫–∞–∑—ñ–≤–Ω–∏–∫*).

**4. –§—É–Ω–∫—Ü—ñ—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Å–∏–≤—É:**

```cpp
#include <iostream>

// –§—É–Ω–∫—Ü—ñ—è –ø–æ–≤–µ—Ä—Ç–∞—î –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ int
int* createSquaresArray(int size) {
    // 1. –î–∏–Ω–∞–º—ñ—á–Ω–æ –≤–∏–¥—ñ–ª—è—î–º–æ –ø–∞–º'—è—Ç—å –≤ "–∫—É–ø—ñ"
    int* arr = new int[size];

    // 2. –ó–∞–ø–æ–≤–Ω—é—î–º–æ –º–∞—Å–∏–≤
    for (int i = 0; i < size; ++i) {
        arr[i] = i * i;
    }

    // 3. –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≤–∫–∞–∑—ñ–≤–Ω–∏–∫ –Ω–∞ –ø–æ—á–∞—Ç–æ–∫ –º–∞—Å–∏–≤—É
    return arr;
}

int main() {
    int n = 5;
    int* myDynamicArray = createSquaresArray(n);

    // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –º–∞—Å–∏–≤
    for (int i = 0; i < n; ++i) {
        std::cout << myDynamicArray[i] << " "; // –í–∏–≤–µ–¥–µ: 0 1 4 9 16
    }
    std::cout << std::endl;

    // 4. –ù–ï –ó–ê–ë–£–í–ê–Ñ–ú–û –∑–≤—ñ–ª—å–Ω–∏—Ç–∏ –ø–∞–º'—è—Ç—å,
    //    –∫–æ–ª–∏ –≤–æ–Ω–∞ –±—ñ–ª—å—à–µ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞!
    delete[] myDynamicArray;
    myDynamicArray = nullptr;

    return 0;
}
```

</details>